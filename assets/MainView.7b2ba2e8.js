var my = Object.defineProperty;
var yy = (t,e,r)=>e in t ? my(t, e, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: r
}) : t[e] = r;
var Lt = (t,e,r)=>(yy(t, typeof e != "symbol" ? e + "" : e, r),
r);
import {v as tn} from "./vschess.function.e5de4338.js";
import {n as _y} from "./xqf.2e5d5959.js";
import {j as Mn, k as wy, l as ga, m as ip, _ as qu, o as H, c as U, t as F, f as R, n as ut, p as Sy, q as _s, x as oo, y as by, z as Di, A as Cy, w as so, B as np, d as xy, C as Ty, D as My, E as Dy, F as Ay, u as Iy, r as se, a as L, G as De, H as er, I as ky, J as Ly, K as rn, h as V, T as Py, L as uf, M as ma, N as Re, O as vi, g as Le, P as hf, v as Be, i as Pe, Q as Cr, R as xr, S as ws} from "./index.b58f0dd0.js";
import {a as Dt, C as Ey, X as Ry, m as ff, b as Ss, U as bs} from "./ChessBoard.46291e70.js";
function Oy(t) {
    var e = typeof t;
    return t != null && (e == "object" || e == "function")
}
var Zu = Oy
  , By = typeof Mn == "object" && Mn && Mn.Object === Object && Mn
  , Ny = By
  , Fy = Ny
  , zy = typeof self == "object" && self && self.Object === Object && self
  , Vy = Fy || zy || Function("return this")()
  , ap = Vy
  , Hy = ap
  , Gy = function() {
    return Hy.Date.now()
}
  , Wy = Gy
  , Uy = /\s/;
function $y(t) {
    for (var e = t.length; e-- && Uy.test(t.charAt(e)); )
        ;
    return e
}
var Yy = $y
  , Xy = Yy
  , qy = /^\s+/;
function Zy(t) {
    return t && t.slice(0, Xy(t) + 1).replace(qy, "")
}
var Ky = Zy
  , jy = ap
  , Qy = jy.Symbol
  , op = Qy
  , cf = op
  , sp = Object.prototype
  , Jy = sp.hasOwnProperty
  , e1 = sp.toString
  , nn = cf ? cf.toStringTag : void 0;
function t1(t) {
    var e = Jy.call(t, nn)
      , r = t[nn];
    try {
        t[nn] = void 0;
        var i = !0
    } catch {}
    var n = e1.call(t);
    return i && (e ? t[nn] = r : delete t[nn]),
    n
}
var r1 = t1
  , i1 = Object.prototype
  , n1 = i1.toString;
function a1(t) {
    return n1.call(t)
}
var o1 = a1
  , vf = op
  , s1 = r1
  , l1 = o1
  , u1 = "[object Null]"
  , h1 = "[object Undefined]"
  , df = vf ? vf.toStringTag : void 0;
function f1(t) {
    return t == null ? t === void 0 ? h1 : u1 : df && df in Object(t) ? s1(t) : l1(t)
}
var c1 = f1;
function v1(t) {
    return t != null && typeof t == "object"
}
var d1 = v1
  , p1 = c1
  , g1 = d1
  , m1 = "[object Symbol]";
function y1(t) {
    return typeof t == "symbol" || g1(t) && p1(t) == m1
}
var _1 = y1
  , w1 = Ky
  , pf = Zu
  , S1 = _1
  , gf = 0 / 0
  , b1 = /^[-+]0x[0-9a-f]+$/i
  , C1 = /^0b[01]+$/i
  , x1 = /^0o[0-7]+$/i
  , T1 = parseInt;
function M1(t) {
    if (typeof t == "number")
        return t;
    if (S1(t))
        return gf;
    if (pf(t)) {
        var e = typeof t.valueOf == "function" ? t.valueOf() : t;
        t = pf(e) ? e + "" : e
    }
    if (typeof t != "string")
        return t === 0 ? t : +t;
    t = w1(t);
    var r = C1.test(t);
    return r || x1.test(t) ? T1(t.slice(2), r ? 2 : 8) : b1.test(t) ? gf : +t
}
var D1 = M1
  , A1 = Zu
  , Cs = Wy
  , mf = D1
  , I1 = "Expected a function"
  , k1 = Math.max
  , L1 = Math.min;
function P1(t, e, r) {
    var i, n, a, o, s, l, u = 0, h = !1, f = !1, c = !0;
    if (typeof t != "function")
        throw new TypeError(I1);
    e = mf(e) || 0,
    A1(r) && (h = !!r.leading,
    f = "maxWait"in r,
    a = f ? k1(mf(r.maxWait) || 0, e) : a,
    c = "trailing"in r ? !!r.trailing : c);
    function v(S) {
        var C = i
          , T = n;
        return i = n = void 0,
        u = S,
        o = t.apply(T, C),
        o
    }
    function d(S) {
        return u = S,
        s = setTimeout(g, e),
        h ? v(S) : o
    }
    function m(S) {
        var C = S - l
          , T = S - u
          , x = e - C;
        return f ? L1(x, a - T) : x
    }
    function p(S) {
        var C = S - l
          , T = S - u;
        return l === void 0 || C >= e || C < 0 || f && T >= a
    }
    function g() {
        var S = Cs();
        if (p(S))
            return y(S);
        s = setTimeout(g, m(S))
    }
    function y(S) {
        return s = void 0,
        c && i ? v(S) : (i = n = void 0,
        o)
    }
    function _() {
        s !== void 0 && clearTimeout(s),
        u = 0,
        i = l = n = s = void 0
    }
    function w() {
        return s === void 0 ? o : y(Cs())
    }
    function b() {
        var S = Cs()
          , C = p(S);
        if (i = arguments,
        n = this,
        l = S,
        C) {
            if (s === void 0)
                return d(l);
            if (f)
                return clearTimeout(s),
                s = setTimeout(g, e),
                v(l)
        }
        return s === void 0 && (s = setTimeout(g, e)),
        o
    }
    return b.cancel = _,
    b.flush = w,
    b
}
var lp = P1
  , E1 = lp
  , R1 = lp
  , O1 = Zu
  , B1 = "Expected a function";
function N1(t, e, r) {
    var i = !0
      , n = !0;
    if (typeof t != "function")
        throw new TypeError(B1);
    return O1(r) && (i = "leading"in r ? !!r.leading : i,
    n = "trailing"in r ? !!r.trailing : n),
    R1(t, e, {
        leading: i,
        maxWait: e,
        trailing: n
    })
}
var F1 = N1
  , up = F1;
const z1 = async()=>WebAssembly.validate(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 5, 1, 96, 0, 1, 123, 3, 2, 1, 0, 10, 15, 1, 13, 0, 65, 1, 253, 15, 65, 2, 253, 15, 253, 128, 2, 11]))
  , V1 = async()=>WebAssembly.validate(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 5, 1, 96, 0, 1, 123, 3, 2, 1, 0, 10, 10, 1, 8, 0, 65, 0, 253, 15, 253, 98, 11]));
async function H1() {
    let t = G1()
      , e = await V1()
      , r = await z1();
    return e ? t ? r ? "multi_simd_relaxed" : "multi_simd" : "single_simd" : t ? "multi" : "single"
}
function G1() {
    let t = typeof self.SharedArrayBuffer != "undefined";
    return t && (t = new WebAssembly.Memory({
        initial: 1,
        maximum: 1,
        shared: !0
    }).buffer instanceof self.SharedArrayBuffer),
    t
}
function W1() {
    return new Worker("/assets/EngineHelper.worker.881f7921.js",{
        type: "module"
    })
}
/*!
 * Dynamic-import v0.1.1
 * https://github.com/mkay581/dynamic-import#readme
 *
 * Copyright (c) 2018 Mark Kennedy
 * Licensed under the MIT license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function yf(t, e, r, i) {
    return new (r || (r = Promise))(function(n, a) {
        function o(u) {
            try {
                l(i.next(u))
            } catch (h) {
                a(h)
            }
        }
        function s(u) {
            try {
                l(i.throw(u))
            } catch (h) {
                a(h)
            }
        }
        function l(u) {
            u.done ? n(u.value) : new r(function(h) {
                h(u.value)
            }
            ).then(o, s)
        }
        l((i = i.apply(t, e || [])).next())
    }
    )
}
const Xl = document.getElementsByTagName("head")[0]
  , xs = {};
function _f(t) {
    return t ? typeof t == "string" && (t = [t]) : t = [],
    t
}
function U1(t, e, r={}) {
    return new Promise((i,n)=>{
        const a = document.createElement(t);
        for (const o in r)
            r.hasOwnProperty(o) && a.setAttribute(o, r[o]);
        if (r.rel && r.rel === "stylesheet") {
            a.setAttribute("href", e);
            const o = setTimeout(()=>{
                i(a),
                clearTimeout(o)
            }
            , 1)
        } else
            a.src = e,
            a.addEventListener("load", ()=>{
                i(a)
            }
            ),
            a.addEventListener("error", ()=>{
                n(a)
            }
            );
        Xl.appendChild(a)
    }
    )
}
const $1 = {
    import(t) {
        return yf(this, void 0, void 0, function*() {
            let e;
            const r = [];
            return t = _f(t),
            t.forEach(i=>{
                e = xs[i] = xs[i] || {},
                e.promise || (e.path = i,
                e.promise = U1("script", i, {
                    type: "text/javascript"
                })),
                r.push(e.promise)
            }
            ),
            Promise.all(r)
        })
    },
    unload(t) {
        return yf(this, void 0, void 0, function*() {
            let e;
            t = _f(t),
            t.forEach(r=>{
                e = Xl.querySelectorAll('script[src="' + r + '"]')[0],
                e && (Xl.removeChild(e),
                delete xs[r])
            }
            )
        })
    }
}
  , ya = "/engine/main_20240816v7";
class Y1 {
    constructor(e, r) {
        Lt(this, "initEngine", ()=>{
            this.Ready = !1;
            let e = this.WasmType;
            console.log(e)
            try{
                this.Mode = "multi",
                $1.import(ya + "/" + e + "/pikafish.js").then(()=>{
                    console.log(window.location.origin + ya + "/" + e + "/"),
                    self.Pikafish({
                        onReceiveStdout: this.onReceiveOutput,
                        onExit: this.onExit,
                        locateFile: r=>r === "pikafish.data" ? "https://xiangqiai.com/" + ya + "/data/" + r : "https://xiangqiai.com/" + ya + "/" + e + "/" + r,
                        setStatus: r=>{
                            this.DownloadEvent != null && this.DownloadEvent(r)
                        }
                    }).then(r=>{
                        this.Engine = r,
                        setTimeout(()=>{
                            this.sendCommand("uci"),
                            this.setOptionList(this.EngineOptions)
                        }
                        , 100)
                    }
                    )
                }
                );
            }
            catch (r) {
                if (this.Mode = "single",
                e === "single")
                    this.Engine = new W1;
                else {
                    let r = new URL("data:application/javascript;base64,dmFyIEVuZ2luZUluc3RhbmNlID0gbnVsbDsNCg0KY29uc3QgRU5HSU5FX1BBVEggPSAnL2VuZ2luZS9tYWluXzIwMjQwODE2djcnOw0KDQpzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7DQogICAgaWYgKGUuZGF0YS5jb21tYW5kICE9IG51bGwpIHsNCiAgICAgICAgRW5naW5lSW5zdGFuY2Uuc2VuZENvbW1hbmQoZS5kYXRhLmNvbW1hbmQpOw0KICAgIH0gZWxzZSBpZiAoZS5kYXRhLndhc21fdHlwZSAhPSBudWxsKSB7DQogICAgICAgIGxldCB3YXNtVHlwZSA9IGUuZGF0YS53YXNtX3R5cGU7DQogICAgICAgIGxldCBvcmlnaW4gPSBlLmRhdGEub3JpZ2luOw0KICAgICAgICBjb25zb2xlLmxvZygiVHJ5IHRvIGxvYWQ6ICIgKyBvcmlnaW4gKyBFTkdJTkVfUEFUSCArICIvIiArIHdhc21UeXBlICsgIi9waWthZmlzaC5qcyIpDQogICAgICAgIHNlbGYuaW1wb3J0U2NyaXB0cyhvcmlnaW4gKyBFTkdJTkVfUEFUSCArICIvIiArIHdhc21UeXBlICsgIi9waWthZmlzaC5qcyIpOw0KICAgICAgICBzZWxmWydQaWthZmlzaCddKA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG9uUmVjZWl2ZVN0ZG91dDogKG8pID0+IHNlbGYucG9zdE1lc3NhZ2UoeyBzdGRvdXQ6IG8gfSksDQogICAgICAgICAgICAgICAgb25FeGl0OiAoYykgPT4gc2VsZi5wb3N0TWVzc2FnZSh7IGV4aXQ6IGMgfSksDQogICAgICAgICAgICAgICAgbG9jYXRlRmlsZTogKHVybCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAodXJsID09PSAncGlrYWZpc2guZGF0YScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW4gKyBFTkdJTkVfUEFUSCArICIvZGF0YS8iICsgdXJsOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW4gKyBFTkdJTkVfUEFUSCArICIvIiArIHdhc21UeXBlICsgIi8iICsgdXJsOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc2V0U3RhdHVzOiAoc3RhdHVzKSA9PiB7IHNlbGYucG9zdE1lc3NhZ2UoeyBkb3dubG9hZDogc3RhdHVzIH0pOyB9DQogICAgICAgICAgICB9DQogICAgICAgICkudGhlbihwID0+IHsNCiAgICAgICAgICAgIEVuZ2luZUluc3RhbmNlID0gcDsNCiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyByZWFkeTogdHJ1ZSB9KTsNCiAgICAgICAgfSk7DQogICAgfQ0KfQ==",self.location);
                    this.Engine = new Worker(r)
                }
                this.Engine.onmessage = r=>{
                    r.data.ready != null ? setTimeout(()=>{
                        this.sendCommand("uci"),
                        this.setOptionList(this.EngineOptions)
                    }
                    , 100) : r.data.stdout != null ? this.onReceiveOutput(r.data.stdout) : r.data.download != null ? this.DownloadEvent != null && this.DownloadEvent(r.data.download) : r.data.exit != null && this.onExit(r.data.exit)
                }
                ,
                this.Engine.postMessage({
                    wasm_type: e,
                    origin: window.location.origin
                })
            }
        }
        );
        Lt(this, "setFen", e=>{
            this.AnalyzingFen = e,
            this.sendCommand("fen " + e)
        }
        );
        Lt(this, "sendCommand", e=>{
            this.Engine && (console.log(" < " + e),
            this.Mode === "multi" ? this.Engine != null && this.Ready || e === "uci" ? this.Engine.sendCommand(e) : setTimeout(()=>{
                this.sendCommand(e)
            }
            , 300) : this.Engine != null && this.Ready || e === "uci" ? this.Engine.postMessage({
                command: e
            }) : setTimeout(()=>{
                this.sendCommand(e)
            }
            , 300))
        }
        );
        Lt(this, "setOption", (e,r)=>{
            if (e.toLowerCase() === "hash") {
                let i = 256;
                this.Simd && this.Mode === "multi" ? i = 384 : !this.Simd && this.Mode === "single" && (i = 64),
                r > i && (r = i)
            }
            this.sendCommand("setoption name " + e + " value " + r)
        }
        );
        Lt(this, "setOptionList", e=>{
            for (let r in e)
                this.setOption(r, e[r])
        }
        );
        Lt(this, "go", (e=-1,r=-1,i=-1,n=null)=>{
            if (this.Analyzing)
                return !1;
            {
                this.Analyzing = !0;
                let a = "go";
                return e > 0 && (a += " movetime " + e),
                r > 0 && (a += " depth " + r),
                i > 0 && (a += " nodes " + i),
                n != null && n.length > 0 && (a += " searchmoves " + n.join(" ")),
                this.sendCommand(a),
                !0
            }
        }
        );
        Lt(this, "stop", ()=>{
            if (this.Mode === "multi")
                this.sendCommand("stop");
            else {
                let e = this.Ready;
                if (this.Ready = !1,
                this.Analyzing = !1,
                this.LastPV != null)
                    try {
                        this.LastPV.length === 2 ? this.BestmoveEvent(this.LastPV[0], this.LastPV[1]) : this.BestmoveEvent(this.LastPV[0], null)
                    } catch (r) {
                        console.error(r)
                    }
                this.Engine != null && e && (console.warn("Terminating engine"),
                this.Engine.terminate(),
                this.Engine = null,
                this.initEngine())
            }
        }
        );
        Lt(this, "onReceiveOutput", e=>{
            try {
                if (console.log(" > " + e),
                !e)
                    return;
                let r = e.split(" ")
                  , i = r[0]
                  , n = "depth seldepth time nodes pv multipv score currmove currmovenumber hashfull nps tbhits cpuload string refutation currline".split(" ");
                if (i === "info") {
                let a = {};
                for (let o = 1; o < r.length; o++) {
                    if (r[o] === "pv") {
                        a[r[o]] = r.slice(o + 1).join(" ");
                        break;
                    } else if (r[o] === "string") {
                        a[r[o]] = r.slice(o + 1).join(" ");
                        break;
                    } else if (r[o] === "score") {
                        if (r[o + 1] === "cp") {
                            const cpValue = parseInt(1000 * (
                                parseInt(r[o + 4]) / 
                                (parseInt(r[o + 4]) + parseInt(r[o + 5]) + parseInt(r[o + 6])) - 
                                parseInt(r[o + 6]) / 
                                (parseInt(r[o + 4]) + parseInt(r[o + 5]) + parseInt(r[o + 6]))
                            ));
                            if (cpValue >= this.scoree||parseInt(r[o-3])-this.seldepthh>=5) {
                                if (r[o + 18] !== 'pv' && r[o + 19]) {
                                    this.seldepthh=parseInt(r[o-3])
                                    this.scoree = cpValue;
                                    this.bbest = r[o + 18]; // 更新全局变量 bmove
                                    this.nbest = r[o + 19]; // 更新全局变量 nextmove
                                }
                            }
                            a[r[o]] = { cp: cpValue?cpValue:r[o + 2] };
                            o += 2;
                        } else if (r[o + 1] === "mate") {
                            a[r[o]] = { mate: parseInt(r[o + 2]) };
                            o += 2;
                        } else {
                            a[r[o]] = { cp: parseInt(r[o + 1]) };
                            o++;
                        }
                    } else if (r[o] === "wdl") {
                        if (r.slice(o + 1, o + 4).every(s => !isNaN(s))) {
                            a[r[o]] = r.slice(o + 1, o + 4).map(s => parseInt(s));
                            o += 3;
                        }
                    } else if (r.length > o + 1 && n.includes(r[o])) {
                        a[r[o]] = parseInt(r[o + 1]);
                        o++;
                    } else {
                        a[r[o]] = "";
                    }
                }
        
                if ("pv" in a) {
                    this.LastPV = a.pv.split(" ");
                }
        
                if (this.InfoEvent != null) {
                    this.InfoEvent(i, a);
                }
            } else if (i === "bestmove") {
                let bmove=this.bbest
                let nmove=this.nbest
                this.Analyzing = false;
                this.seldepthh = 0
                this.scoree = -1000
                if (r.length === 4 && r[2] === "ponder") {
                    if (this.BestmoveEvent != null) {
                        if (nmove){
                            this.BestmoveEvent(bmove, nmove); // 使用全局变量
                        }else{
                            this.BestmoveEvent(r[1], r[3]);
                        }
                    }
                } else {
                    if (this.BestmoveEvent != null) {
                        this.BestmoveEvent(r[1], null);
                    }
                }
            } else if (i === "option" || (i === "uciok" && this.UCIOKEvent != null)) {
                this.UCIOKEvent();
                this.Ready = true;
            }
        
        } catch (r) {
            console.error(r);
        }
        }
        );
        Lt(this, "onExit", e=>{
            console.error("Engine exited with code " + e),
            this.ExitEvent != null && this.ExitEvent(e),
            this.Engine = null,
            this.initEngine()
        }
        );
        this.Engine = null,
        this.InfoEvent = null,
        this.BestmoveEvent = null,
        this.ExitEvent = null,
        this.OptionEvent = null,
        this.StatusEvent = null,
        this.DownloadEvent = null,
        this.UCIOKEvent = null,
        this.Ready = !1,
        this.Analyzing = !1,
        this.EngineOptions = r,
        this.Mode = "single",
        this.Simd = !1,
        this.LastPV = null,
        this.WasmType = null,
        this.EngineType = e,
        this.AnalyzingFen = "",
        this.endOfAnalysis = !1,
        H1().then(i=>{
            this.WasmType = i,
            i.includes("simd") && (this.Simd = !0),
            this.initEngine()
        }
        )
    }
}
var X1 = {
    name: "EngineHelper",
    EngineHelper: Y1
}
  , hp = {
    exports: {}
};
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(t, e) {
    (function(i, n) {
        t.exports = n()
    }
    )(Mn, function() {
        return function() {
            var r = {
                686: function(a, o, s) {
                    s.d(o, {
                        default: function() {
                            return ve
                        }
                    });
                    var l = s(279)
                      , u = s.n(l)
                      , h = s(370)
                      , f = s.n(h)
                      , c = s(817)
                      , v = s.n(c);
                    function d($) {
                        try {
                            return document.execCommand($)
                        } catch {
                            return !1
                        }
                    }
                    var m = function(z) {
                        var N = v()(z);
                        return d("cut"),
                        N
                    }
                      , p = m;
                    function g($) {
                        var z = document.documentElement.getAttribute("dir") === "rtl"
                          , N = document.createElement("textarea");
                        N.style.fontSize = "12pt",
                        N.style.border = "0",
                        N.style.padding = "0",
                        N.style.margin = "0",
                        N.style.position = "absolute",
                        N.style[z ? "right" : "left"] = "-9999px";
                        var j = window.pageYOffset || document.documentElement.scrollTop;
                        return N.style.top = "".concat(j, "px"),
                        N.setAttribute("readonly", ""),
                        N.value = $,
                        N
                    }
                    var y = function(z, N) {
                        var j = g(z);
                        N.container.appendChild(j);
                        var q = v()(j);
                        return d("copy"),
                        j.remove(),
                        q
                    }
                      , _ = function(z) {
                        var N = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                            container: document.body
                        }
                          , j = "";
                        return typeof z == "string" ? j = y(z, N) : z instanceof HTMLInputElement && !["text", "search", "url", "tel", "password"].includes(z == null ? void 0 : z.type) ? j = y(z.value, N) : (j = v()(z),
                        d("copy")),
                        j
                    }
                      , w = _;
                    function b($) {
                        return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? b = function(N) {
                            return typeof N
                        }
                        : b = function(N) {
                            return N && typeof Symbol == "function" && N.constructor === Symbol && N !== Symbol.prototype ? "symbol" : typeof N
                        }
                        ,
                        b($)
                    }
                    var S = function() {
                        var z = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}
                          , N = z.action
                          , j = N === void 0 ? "copy" : N
                          , q = z.container
                          , M = z.target
                          , K = z.text;
                        if (j !== "copy" && j !== "cut")
                            throw new Error('Invalid "action" value, use either "copy" or "cut"');
                        if (M !== void 0)
                            if (M && b(M) === "object" && M.nodeType === 1) {
                                if (j === "copy" && M.hasAttribute("disabled"))
                                    throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                                if (j === "cut" && (M.hasAttribute("readonly") || M.hasAttribute("disabled")))
                                    throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)
                            } else
                                throw new Error('Invalid "target" value, use a valid Element');
                        if (K)
                            return w(K, {
                                container: q
                            });
                        if (M)
                            return j === "cut" ? p(M) : w(M, {
                                container: q
                            })
                    }
                      , C = S;
                    function T($) {
                        return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? T = function(N) {
                            return typeof N
                        }
                        : T = function(N) {
                            return N && typeof Symbol == "function" && N.constructor === Symbol && N !== Symbol.prototype ? "symbol" : typeof N
                        }
                        ,
                        T($)
                    }
                    function x($, z) {
                        if (!($ instanceof z))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    function D($, z) {
                        for (var N = 0; N < z.length; N++) {
                            var j = z[N];
                            j.enumerable = j.enumerable || !1,
                            j.configurable = !0,
                            "value"in j && (j.writable = !0),
                            Object.defineProperty($, j.key, j)
                        }
                    }
                    function A($, z, N) {
                        return z && D($.prototype, z),
                        N && D($, N),
                        $
                    }
                    function k($, z) {
                        if (typeof z != "function" && z !== null)
                            throw new TypeError("Super expression must either be null or a function");
                        $.prototype = Object.create(z && z.prototype, {
                            constructor: {
                                value: $,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        z && P($, z)
                    }
                    function P($, z) {
                        return P = Object.setPrototypeOf || function(j, q) {
                            return j.__proto__ = q,
                            j
                        }
                        ,
                        P($, z)
                    }
                    function E($) {
                        var z = te();
                        return function() {
                            var j = W($), q;
                            if (z) {
                                var M = W(this).constructor;
                                q = Reflect.construct(j, arguments, M)
                            } else
                                q = j.apply(this, arguments);
                            return O(this, q)
                        }
                    }
                    function O($, z) {
                        return z && (T(z) === "object" || typeof z == "function") ? z : B($)
                    }
                    function B($) {
                        if ($ === void 0)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return $
                    }
                    function te() {
                        if (typeof Reflect == "undefined" || !Reflect.construct || Reflect.construct.sham)
                            return !1;
                        if (typeof Proxy == "function")
                            return !0;
                        try {
                            return Date.prototype.toString.call(Reflect.construct(Date, [], function() {})),
                            !0
                        } catch {
                            return !1
                        }
                    }
                    function W($) {
                        return W = Object.setPrototypeOf ? Object.getPrototypeOf : function(N) {
                            return N.__proto__ || Object.getPrototypeOf(N)
                        }
                        ,
                        W($)
                    }
                    function Z($, z) {
                        var N = "data-clipboard-".concat($);
                        if (!!z.hasAttribute(N))
                            return z.getAttribute(N)
                    }
                    var re = function($) {
                        k(N, $);
                        var z = E(N);
                        function N(j, q) {
                            var M;
                            return x(this, N),
                            M = z.call(this),
                            M.resolveOptions(q),
                            M.listenClick(j),
                            M
                        }
                        return A(N, [{
                            key: "resolveOptions",
                            value: function() {
                                var q = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                                this.action = typeof q.action == "function" ? q.action : this.defaultAction,
                                this.target = typeof q.target == "function" ? q.target : this.defaultTarget,
                                this.text = typeof q.text == "function" ? q.text : this.defaultText,
                                this.container = T(q.container) === "object" ? q.container : document.body
                            }
                        }, {
                            key: "listenClick",
                            value: function(q) {
                                var M = this;
                                this.listener = f()(q, "click", function(K) {
                                    return M.onClick(K)
                                })
                            }
                        }, {
                            key: "onClick",
                            value: function(q) {
                                var M = q.delegateTarget || q.currentTarget
                                  , K = this.action(M) || "copy"
                                  , Ie = C({
                                    action: K,
                                    container: this.container,
                                    target: this.target(M),
                                    text: this.text(M)
                                });
                                this.emit(Ie ? "success" : "error", {
                                    action: K,
                                    text: Ie,
                                    trigger: M,
                                    clearSelection: function() {
                                        M && M.focus(),
                                        window.getSelection().removeAllRanges()
                                    }
                                })
                            }
                        }, {
                            key: "defaultAction",
                            value: function(q) {
                                return Z("action", q)
                            }
                        }, {
                            key: "defaultTarget",
                            value: function(q) {
                                var M = Z("target", q);
                                if (M)
                                    return document.querySelector(M)
                            }
                        }, {
                            key: "defaultText",
                            value: function(q) {
                                return Z("text", q)
                            }
                        }, {
                            key: "destroy",
                            value: function() {
                                this.listener.destroy()
                            }
                        }], [{
                            key: "copy",
                            value: function(q) {
                                var M = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                                    container: document.body
                                };
                                return w(q, M)
                            }
                        }, {
                            key: "cut",
                            value: function(q) {
                                return p(q)
                            }
                        }, {
                            key: "isSupported",
                            value: function() {
                                var q = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : ["copy", "cut"]
                                  , M = typeof q == "string" ? [q] : q
                                  , K = !!document.queryCommandSupported;
                                return M.forEach(function(Ie) {
                                    K = K && !!document.queryCommandSupported(Ie)
                                }),
                                K
                            }
                        }]),
                        N
                    }(u())
                      , ve = re
                },
                828: function(a) {
                    var o = 9;
                    if (typeof Element != "undefined" && !Element.prototype.matches) {
                        var s = Element.prototype;
                        s.matches = s.matchesSelector || s.mozMatchesSelector || s.msMatchesSelector || s.oMatchesSelector || s.webkitMatchesSelector
                    }
                    function l(u, h) {
                        for (; u && u.nodeType !== o; ) {
                            if (typeof u.matches == "function" && u.matches(h))
                                return u;
                            u = u.parentNode
                        }
                    }
                    a.exports = l
                },
                438: function(a, o, s) {
                    var l = s(828);
                    function u(c, v, d, m, p) {
                        var g = f.apply(this, arguments);
                        return c.addEventListener(d, g, p),
                        {
                            destroy: function() {
                                c.removeEventListener(d, g, p)
                            }
                        }
                    }
                    function h(c, v, d, m, p) {
                        return typeof c.addEventListener == "function" ? u.apply(null, arguments) : typeof d == "function" ? u.bind(null, document).apply(null, arguments) : (typeof c == "string" && (c = document.querySelectorAll(c)),
                        Array.prototype.map.call(c, function(g) {
                            return u(g, v, d, m, p)
                        }))
                    }
                    function f(c, v, d, m) {
                        return function(p) {
                            p.delegateTarget = l(p.target, v),
                            p.delegateTarget && m.call(c, p)
                        }
                    }
                    a.exports = h
                },
                879: function(a, o) {
                    o.node = function(s) {
                        return s !== void 0 && s instanceof HTMLElement && s.nodeType === 1
                    }
                    ,
                    o.nodeList = function(s) {
                        var l = Object.prototype.toString.call(s);
                        return s !== void 0 && (l === "[object NodeList]" || l === "[object HTMLCollection]") && "length"in s && (s.length === 0 || o.node(s[0]))
                    }
                    ,
                    o.string = function(s) {
                        return typeof s == "string" || s instanceof String
                    }
                    ,
                    o.fn = function(s) {
                        var l = Object.prototype.toString.call(s);
                        return l === "[object Function]"
                    }
                },
                370: function(a, o, s) {
                    var l = s(879)
                      , u = s(438);
                    function h(d, m, p) {
                        if (!d && !m && !p)
                            throw new Error("Missing required arguments");
                        if (!l.string(m))
                            throw new TypeError("Second argument must be a String");
                        if (!l.fn(p))
                            throw new TypeError("Third argument must be a Function");
                        if (l.node(d))
                            return f(d, m, p);
                        if (l.nodeList(d))
                            return c(d, m, p);
                        if (l.string(d))
                            return v(d, m, p);
                        throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")
                    }
                    function f(d, m, p) {
                        return d.addEventListener(m, p),
                        {
                            destroy: function() {
                                d.removeEventListener(m, p)
                            }
                        }
                    }
                    function c(d, m, p) {
                        return Array.prototype.forEach.call(d, function(g) {
                            g.addEventListener(m, p)
                        }),
                        {
                            destroy: function() {
                                Array.prototype.forEach.call(d, function(g) {
                                    g.removeEventListener(m, p)
                                })
                            }
                        }
                    }
                    function v(d, m, p) {
                        return u(document.body, d, m, p)
                    }
                    a.exports = h
                },
                817: function(a) {
                    function o(s) {
                        var l;
                        if (s.nodeName === "SELECT")
                            s.focus(),
                            l = s.value;
                        else if (s.nodeName === "INPUT" || s.nodeName === "TEXTAREA") {
                            var u = s.hasAttribute("readonly");
                            u || s.setAttribute("readonly", ""),
                            s.select(),
                            s.setSelectionRange(0, s.value.length),
                            u || s.removeAttribute("readonly"),
                            l = s.value
                        } else {
                            s.hasAttribute("contenteditable") && s.focus();
                            var h = window.getSelection()
                              , f = document.createRange();
                            f.selectNodeContents(s),
                            h.removeAllRanges(),
                            h.addRange(f),
                            l = h.toString()
                        }
                        return l
                    }
                    a.exports = o
                },
                279: function(a) {
                    function o() {}
                    o.prototype = {
                        on: function(s, l, u) {
                            var h = this.e || (this.e = {});
                            return (h[s] || (h[s] = [])).push({
                                fn: l,
                                ctx: u
                            }),
                            this
                        },
                        once: function(s, l, u) {
                            var h = this;
                            function f() {
                                h.off(s, f),
                                l.apply(u, arguments)
                            }
                            return f._ = l,
                            this.on(s, f, u)
                        },
                        emit: function(s) {
                            var l = [].slice.call(arguments, 1)
                              , u = ((this.e || (this.e = {}))[s] || []).slice()
                              , h = 0
                              , f = u.length;
                            for (h; h < f; h++)
                                u[h].fn.apply(u[h].ctx, l);
                            return this
                        },
                        off: function(s, l) {
                            var u = this.e || (this.e = {})
                              , h = u[s]
                              , f = [];
                            if (h && l)
                                for (var c = 0, v = h.length; c < v; c++)
                                    h[c].fn !== l && h[c].fn._ !== l && f.push(h[c]);
                            return f.length ? u[s] = f : delete u[s],
                            this
                        }
                    },
                    a.exports = o,
                    a.exports.TinyEmitter = o
                }
            }
              , i = {};
            function n(a) {
                if (i[a])
                    return i[a].exports;
                var o = i[a] = {
                    exports: {}
                };
                return r[a](o, o.exports, n),
                o.exports
            }
            return function() {
                n.n = function(a) {
                    var o = a && a.__esModule ? function() {
                        return a.default
                    }
                    : function() {
                        return a
                    }
                    ;
                    return n.d(o, {
                        a: o
                    }),
                    o
                }
            }(),
            function() {
                n.d = function(a, o) {
                    for (var s in o)
                        n.o(o, s) && !n.o(a, s) && Object.defineProperty(a, s, {
                            enumerable: !0,
                            get: o[s]
                        })
                }
            }(),
            function() {
                n.o = function(a, o) {
                    return Object.prototype.hasOwnProperty.call(a, o)
                }
            }(),
            n(686)
        }().default
    })
}
)(hp);
var q1 = wy(hp.exports)
  , Z1 = t=>{
    const e = (t == null ? void 0 : t.appendToBody) === void 0 ? !0 : t.appendToBody;
    return {
        toClipboard(r, i) {
            return new Promise((n,a)=>{
                const o = document.createElement("button")
                  , s = new q1(o,{
                    text: ()=>r,
                    action: ()=>"copy",
                    container: i !== void 0 ? i : document.body
                });
                s.on("success", l=>{
                    s.destroy(),
                    n(l)
                }
                ),
                s.on("error", l=>{
                    s.destroy(),
                    a(l)
                }
                ),
                e && document.body.appendChild(o),
                o.click(),
                e && document.body.removeChild(o)
            }
            )
        }
    }
}
  , fp = {
    exports: {}
};
(function(t, e) {
    (function(r) {
        t.exports = r()
    }
    )(function() {
        return function r(i, n, a) {
            function o(u, h) {
                if (!n[u]) {
                    if (!i[u]) {
                        var f = typeof ga == "function" && ga;
                        if (!h && f)
                            return f(u, !0);
                        if (s)
                            return s(u, !0);
                        var c = new Error("Cannot find module '" + u + "'");
                        throw c.code = "MODULE_NOT_FOUND",
                        c
                    }
                    var v = n[u] = {
                        exports: {}
                    };
                    i[u][0].call(v.exports, function(d) {
                        var m = i[u][1][d];
                        return o(m || d)
                    }, v, v.exports, r, i, n, a)
                }
                return n[u].exports
            }
            for (var s = typeof ga == "function" && ga, l = 0; l < a.length; l++)
                o(a[l]);
            return o
        }({
            1: [function(r, i, n) {
                function a() {
                    this._events = this._events || {},
                    this._maxListeners = this._maxListeners || void 0
                }
                i.exports = a,
                a.EventEmitter = a,
                a.prototype._events = void 0,
                a.prototype._maxListeners = void 0,
                a.defaultMaxListeners = 10,
                a.prototype.setMaxListeners = function(h) {
                    if (!s(h) || h < 0 || isNaN(h))
                        throw TypeError("n must be a positive number");
                    return this._maxListeners = h,
                    this
                }
                ,
                a.prototype.emit = function(h) {
                    var f, c, v, d, m, p;
                    if (this._events || (this._events = {}),
                    h === "error" && (!this._events.error || l(this._events.error) && !this._events.error.length)) {
                        if (f = arguments[1],
                        f instanceof Error)
                            throw f;
                        var g = new Error('Uncaught, unspecified "error" event. (' + f + ")");
                        throw g.context = f,
                        g
                    }
                    if (c = this._events[h],
                    u(c))
                        return !1;
                    if (o(c))
                        switch (arguments.length) {
                        case 1:
                            c.call(this);
                            break;
                        case 2:
                            c.call(this, arguments[1]);
                            break;
                        case 3:
                            c.call(this, arguments[1], arguments[2]);
                            break;
                        default:
                            d = Array.prototype.slice.call(arguments, 1),
                            c.apply(this, d)
                        }
                    else if (l(c))
                        for (d = Array.prototype.slice.call(arguments, 1),
                        p = c.slice(),
                        v = p.length,
                        m = 0; m < v; m++)
                            p[m].apply(this, d);
                    return !0
                }
                ,
                a.prototype.addListener = function(h, f) {
                    var c;
                    if (!o(f))
                        throw TypeError("listener must be a function");
                    return this._events || (this._events = {}),
                    this._events.newListener && this.emit("newListener", h, o(f.listener) ? f.listener : f),
                    this._events[h] ? l(this._events[h]) ? this._events[h].push(f) : this._events[h] = [this._events[h], f] : this._events[h] = f,
                    l(this._events[h]) && !this._events[h].warned && (u(this._maxListeners) ? c = a.defaultMaxListeners : c = this._maxListeners,
                    c && c > 0 && this._events[h].length > c && (this._events[h].warned = !0,
                    console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[h].length),
                    typeof console.trace == "function" && console.trace())),
                    this
                }
                ,
                a.prototype.on = a.prototype.addListener,
                a.prototype.once = function(h, f) {
                    if (!o(f))
                        throw TypeError("listener must be a function");
                    var c = !1;
                    function v() {
                        this.removeListener(h, v),
                        c || (c = !0,
                        f.apply(this, arguments))
                    }
                    return v.listener = f,
                    this.on(h, v),
                    this
                }
                ,
                a.prototype.removeListener = function(h, f) {
                    var c, v, d, m;
                    if (!o(f))
                        throw TypeError("listener must be a function");
                    if (!this._events || !this._events[h])
                        return this;
                    if (c = this._events[h],
                    d = c.length,
                    v = -1,
                    c === f || o(c.listener) && c.listener === f)
                        delete this._events[h],
                        this._events.removeListener && this.emit("removeListener", h, f);
                    else if (l(c)) {
                        for (m = d; m-- > 0; )
                            if (c[m] === f || c[m].listener && c[m].listener === f) {
                                v = m;
                                break
                            }
                        if (v < 0)
                            return this;
                        c.length === 1 ? (c.length = 0,
                        delete this._events[h]) : c.splice(v, 1),
                        this._events.removeListener && this.emit("removeListener", h, f)
                    }
                    return this
                }
                ,
                a.prototype.removeAllListeners = function(h) {
                    var f, c;
                    if (!this._events)
                        return this;
                    if (!this._events.removeListener)
                        return arguments.length === 0 ? this._events = {} : this._events[h] && delete this._events[h],
                        this;
                    if (arguments.length === 0) {
                        for (f in this._events)
                            f !== "removeListener" && this.removeAllListeners(f);
                        return this.removeAllListeners("removeListener"),
                        this._events = {},
                        this
                    }
                    if (c = this._events[h],
                    o(c))
                        this.removeListener(h, c);
                    else if (c)
                        for (; c.length; )
                            this.removeListener(h, c[c.length - 1]);
                    return delete this._events[h],
                    this
                }
                ,
                a.prototype.listeners = function(h) {
                    var f;
                    return !this._events || !this._events[h] ? f = [] : o(this._events[h]) ? f = [this._events[h]] : f = this._events[h].slice(),
                    f
                }
                ,
                a.prototype.listenerCount = function(h) {
                    if (this._events) {
                        var f = this._events[h];
                        if (o(f))
                            return 1;
                        if (f)
                            return f.length
                    }
                    return 0
                }
                ,
                a.listenerCount = function(h, f) {
                    return h.listenerCount(f)
                }
                ;
                function o(h) {
                    return typeof h == "function"
                }
                function s(h) {
                    return typeof h == "number"
                }
                function l(h) {
                    return typeof h == "object" && h !== null
                }
                function u(h) {
                    return h === void 0
                }
            }
            , {}],
            2: [function(r, i, n) {
                var a, o, s, l, u;
                u = navigator.userAgent.toLowerCase(),
                l = navigator.platform.toLowerCase(),
                a = u.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/) || [null, "unknown", 0],
                s = a[1] === "ie" && document.documentMode,
                o = {
                    name: a[1] === "version" ? a[3] : a[1],
                    version: s || parseFloat(a[1] === "opera" && a[4] ? a[4] : a[2]),
                    platform: {
                        name: u.match(/ip(?:ad|od|hone)/) ? "ios" : (u.match(/(?:webos|android)/) || l.match(/mac|win|linux/) || ["other"])[0]
                    }
                },
                o[o.name] = !0,
                o[o.name + parseInt(o.version, 10)] = !0,
                o.platform[o.platform.name] = !0,
                i.exports = o
            }
            , {}],
            3: [function(r, i, n) {
                var a, o, s, l = function(c, v) {
                    for (var d in v)
                        u.call(v, d) && (c[d] = v[d]);
                    function m() {
                        this.constructor = c
                    }
                    return m.prototype = v.prototype,
                    c.prototype = new m,
                    c.__super__ = v.prototype,
                    c
                }, u = {}.hasOwnProperty, h = [].indexOf || function(c) {
                    for (var v = 0, d = this.length; v < d; v++)
                        if (v in this && this[v] === c)
                            return v;
                    return -1
                }
                , f = [].slice;
                a = r("events").EventEmitter,
                s = r("./browser.coffee"),
                o = function(c) {
                    var v, d;
                    l(m, c),
                    v = {
                        workerScript: "gif.worker.js",
                        workers: 2,
                        repeat: 0,
                        background: "#fff",
                        quality: 10,
                        width: null,
                        height: null,
                        transparent: null,
                        debug: !1,
                        dither: !1
                    },
                    d = {
                        delay: 500,
                        copy: !1
                    };
                    function m(p) {
                        var g, y, _;
                        this.running = !1,
                        this.options = {},
                        this.frames = [],
                        this.freeWorkers = [],
                        this.activeWorkers = [],
                        this.setOptions(p);
                        for (y in v)
                            _ = v[y],
                            (g = this.options)[y] == null && (g[y] = _)
                    }
                    return m.prototype.setOption = function(p, g) {
                        if (this.options[p] = g,
                        this._canvas != null && (p === "width" || p === "height"))
                            return this._canvas[p] = g
                    }
                    ,
                    m.prototype.setOptions = function(p) {
                        var g, y, _;
                        y = [];
                        for (g in p)
                            !u.call(p, g) || (_ = p[g],
                            y.push(this.setOption(g, _)));
                        return y
                    }
                    ,
                    m.prototype.addFrame = function(p, g) {
                        var y, _;
                        g == null && (g = {}),
                        y = {},
                        y.transparent = this.options.transparent;
                        for (_ in d)
                            y[_] = g[_] || d[_];
                        if (this.options.width == null && this.setOption("width", p.width),
                        this.options.height == null && this.setOption("height", p.height),
                        typeof ImageData != "undefined" && ImageData !== null && p instanceof ImageData)
                            y.data = p.data;
                        else if (typeof CanvasRenderingContext2D != "undefined" && CanvasRenderingContext2D !== null && p instanceof CanvasRenderingContext2D || typeof WebGLRenderingContext != "undefined" && WebGLRenderingContext !== null && p instanceof WebGLRenderingContext)
                            g.copy ? y.data = this.getContextData(p) : y.context = p;
                        else if (p.childNodes != null)
                            g.copy ? y.data = this.getImageData(p) : y.image = p;
                        else
                            throw new Error("Invalid image");
                        return this.frames.push(y)
                    }
                    ,
                    m.prototype.render = function() {
                        var p, g, y;
                        if (this.running)
                            throw new Error("Already running");
                        if (this.options.width == null || this.options.height == null)
                            throw new Error("Width and height must be set prior to rendering");
                        if (this.running = !0,
                        this.nextFrame = 0,
                        this.finishedFrames = 0,
                        this.imageParts = function() {
                            var _, w, b;
                            for (b = [],
                            _ = 0,
                            w = this.frames.length; 0 <= w ? _ < w : _ > w; 0 <= w ? ++_ : --_)
                                b.push(null);
                            return b
                        }
                        .call(this),
                        g = this.spawnWorkers(),
                        this.options.globalPalette === !0)
                            this.renderNextFrame();
                        else
                            for (p = 0,
                            y = g; 0 <= y ? p < y : p > y; 0 <= y ? ++p : --p)
                                this.renderNextFrame();
                        return this.emit("start"),
                        this.emit("progress", 0)
                    }
                    ,
                    m.prototype.abort = function() {
                        for (var p; p = this.activeWorkers.shift(),
                        p != null; )
                            this.log("killing active worker"),
                            p.terminate();
                        return this.running = !1,
                        this.emit("abort")
                    }
                    ,
                    m.prototype.spawnWorkers = function() {
                        var p, g, y;
                        return p = Math.min(this.options.workers, this.frames.length),
                        function() {
                            y = [];
                            for (var _ = g = this.freeWorkers.length; g <= p ? _ < p : _ > p; g <= p ? _++ : _--)
                                y.push(_);
                            return y
                        }
                        .apply(this).forEach(function(_) {
                            return function(w) {
                                var b;
                                return _.log("spawning worker " + w),
                                b = new Worker(_.options.workerScript),
                                b.onmessage = function(S) {
                                    return _.activeWorkers.splice(_.activeWorkers.indexOf(b), 1),
                                    _.freeWorkers.push(b),
                                    _.frameFinished(S.data)
                                }
                                ,
                                _.freeWorkers.push(b)
                            }
                        }(this)),
                        p
                    }
                    ,
                    m.prototype.frameFinished = function(p) {
                        var g, y;
                        if (this.log("frame " + p.index + " finished - " + this.activeWorkers.length + " active"),
                        this.finishedFrames++,
                        this.emit("progress", this.finishedFrames / this.frames.length),
                        this.imageParts[p.index] = p,
                        this.options.globalPalette === !0 && (this.options.globalPalette = p.globalPalette,
                        this.log("global palette analyzed"),
                        this.frames.length > 2))
                            for (g = 1,
                            y = this.freeWorkers.length; 1 <= y ? g < y : g > y; 1 <= y ? ++g : --g)
                                this.renderNextFrame();
                        return h.call(this.imageParts, null) >= 0 ? this.renderNextFrame() : this.finishRendering()
                    }
                    ,
                    m.prototype.finishRendering = function() {
                        var p, g, y, _, w, b, S, C, T, x, D, A, k, P, E, O;
                        for (C = 0,
                        P = this.imageParts,
                        w = 0,
                        T = P.length; w < T; w++)
                            g = P[w],
                            C += (g.data.length - 1) * g.pageSize + g.cursor;
                        for (C += g.pageSize - g.cursor,
                        this.log("rendering finished - filesize " + Math.round(C / 1e3) + "kb"),
                        p = new Uint8Array(C),
                        A = 0,
                        E = this.imageParts,
                        b = 0,
                        x = E.length; b < x; b++)
                            for (g = E[b],
                            O = g.data,
                            y = S = 0,
                            D = O.length; S < D; y = ++S)
                                k = O[y],
                                p.set(k, A),
                                y === g.data.length - 1 ? A += g.cursor : A += g.pageSize;
                        return _ = new Blob([p],{
                            type: "image/gif"
                        }),
                        this.emit("finished", _, p)
                    }
                    ,
                    m.prototype.renderNextFrame = function() {
                        var p, g, y;
                        if (this.freeWorkers.length === 0)
                            throw new Error("No free workers");
                        if (!(this.nextFrame >= this.frames.length))
                            return p = this.frames[this.nextFrame++],
                            y = this.freeWorkers.shift(),
                            g = this.getTask(p),
                            this.log("starting frame " + (g.index + 1) + " of " + this.frames.length),
                            this.activeWorkers.push(y),
                            y.postMessage(g)
                    }
                    ,
                    m.prototype.getContextData = function(p) {
                        return p.getImageData(0, 0, this.options.width, this.options.height).data
                    }
                    ,
                    m.prototype.getImageData = function(p) {
                        var g;
                        return this._canvas == null && (this._canvas = document.createElement("canvas"),
                        this._canvas.width = this.options.width,
                        this._canvas.height = this.options.height),
                        g = this._canvas.getContext("2d"),
                        g.setFill = this.options.background,
                        g.fillRect(0, 0, this.options.width, this.options.height),
                        g.drawImage(p, 0, 0),
                        this.getContextData(g)
                    }
                    ,
                    m.prototype.getTask = function(p) {
                        var g, y;
                        if (g = this.frames.indexOf(p),
                        y = {
                            index: g,
                            last: g === this.frames.length - 1,
                            delay: p.delay,
                            transparent: p.transparent,
                            width: this.options.width,
                            height: this.options.height,
                            quality: this.options.quality,
                            dither: this.options.dither,
                            globalPalette: this.options.globalPalette,
                            repeat: this.options.repeat,
                            canTransfer: s.name === "chrome"
                        },
                        p.data != null)
                            y.data = p.data;
                        else if (p.context != null)
                            y.data = this.getContextData(p.context);
                        else if (p.image != null)
                            y.data = this.getImageData(p.image);
                        else
                            throw new Error("Invalid frame");
                        return y
                    }
                    ,
                    m.prototype.log = function() {
                        var p;
                        if (p = 1 <= arguments.length ? f.call(arguments, 0) : [],
                        !!this.options.debug)
                            return console.log.apply(console, p)
                    }
                    ,
                    m
                }(a),
                i.exports = o
            }
            , {
                "./browser.coffee": 2,
                events: 1
            }]
        }, {}, [3])(3)
    })
}
)(fp);
var K1 = fp.exports;
let j1 = async(t,e="zh-CN")=>{
    let r = t.split(" ")[1]
      , n = (await ip.get("https://www.chessdb.cn/chessdb.php?action=queryall&learn=1&showall=0&board=" + encodeURI(t))).data.replace("\0", "");
    if (n === "invalid board")
        return {
            msg: "invalid board",
            side: r
        };
    if (n === "unknown")
        return {
            msg: "unknown",
            side: r
        };
    if (n === "checkmate")
        return {
            msg: "checkmate",
            side: r
        };
    if (n === "stalemate")
        return {
            msg: "stalemate",
            side: r
        };
    let a = []
      , o = n.split("|");
    for (let s of o) {
        let l = s.split(",")
          , u = {};
        for (let h of l) {
            let f = h.split(":");
            f[0] === "score" || f[0] === "rank" ? u[f[0]] = parseInt(f[1]) : u[f[0]] = f[1]
        }
        "note"in u && (u.note.includes("-M-") ? u.type = "egtb" : u.type = "normal"),
        "move"in u && (u.chn_move_name = Dt.translateMoveName(Dt.getChineseMoveName(t, u.move), e)),
        a.push(u)
    }
    return {
        msg: "",
        side: r,
        moveList: a
    }
}
;
var Q1 = {
    name: "ChessDB",
    queryFen: j1
};
const J1 = {
    name: "ThinkingDetail",
    props: {
        thinkingDetail: {
            type: Object,
            required: !0
        },
        isMultipv: {
            type: Boolean,
            required: !1,
            default: !1
        }
    },
    methods: {
        getColorClassFromScore(t) {
            return t === void 0 ? "" : "cp"in t ? t.cp >= 0 ? "advantage" : "disadvantage" : t.mate > 0 ? "mate" : "mated"
        },
        getColorClassFromChessDbMove(t) {
            return t.type === "normal" ? t.score >= 0 ? "advantage" : "disadvantage" : t.score >= 0 ? "mate" : "mated"
        }
    }
}
  , e_ = {
    key: 0,
    class: "message",
    style: {
        "text-align": "center",
        "font-size": "1.2rem"
    }
}
  , t_ = {
    key: 1
}
  , r_ = {
    key: 0,
    class: "brief"
}
  , i_ = {
    key: 1,
    class: "brief"
}
  , n_ = {
    class: "pv",
    style: {
        "font-size": "0.8rem"
    }
};
function a_(t, e, r, i, n, a) {
    return H(),
    U("div", {
        class: ut(["info", a.getColorClassFromScore(r.thinkingDetail.score)])
    }, ["msg"in r.thinkingDetail ? (H(),
    U("div", e_, F(r.thinkingDetail.msg), 1)) : (H(),
    U("div", t_, [r.thinkingDetail.type === "engine" ? (H(),
    U("div", r_, F(r.isMultipv ? t.$t("gui.move") + " " + r.thinkingDetail.multipv + ": " : "") + " " + F(t.$t("gui.depth")) + ": " + F(r.thinkingDetail.depth) + " " + F(r.thinkingDetail.board_side === "w" ? t.$t("gui.redScoreShort") : t.$t("gui.blackScoreShort")) + ": " + F("cp"in r.thinkingDetail.score ? r.thinkingDetail.score.cp : t.$t("gui.mated") + " (" + r.thinkingDetail.score.mate + ")") + " " + F(t.$t("gui.timeCost")) + ": " + F((r.thinkingDetail.time / 1e3).toFixed(1)) + "s " + F(t.$t("gui.nps")) + ": " + F((r.thinkingDetail.nps / 1e3).toFixed(0)) + "K ", 1)) : (H(),
    U("div", i_, F(t.$t("gui.chessDbShort")) + " " + F(r.thinkingDetail.board_side === "w" ? t.$t("gui.redScoreShort") : t.$t("gui.blackScoreShort")) + ": " + F("cp"in r.thinkingDetail.score ? r.thinkingDetail.score.cp : t.$t("gui.mated") + " (" + r.thinkingDetail.score.mate + ")"), 1)), R("div", n_, F(r.thinkingDetail.pvChn.split(" ").slice(0, 4).join(" ")), 1)]))], 2)
}
var o_ = qu(J1, [["render", a_], ["__scopeId", "data-v-5f8d6053"]]);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ql = function(t, e) {
    return ql = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(r, i) {
        r.__proto__ = i
    }
    || function(r, i) {
        for (var n in i)
            Object.prototype.hasOwnProperty.call(i, n) && (r[n] = i[n])
    }
    ,
    ql(t, e)
};
function X(t, e) {
    if (typeof e != "function" && e !== null)
        throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    ql(t, e);
    function r() {
        this.constructor = t
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype,
    new r)
}
var s_ = function() {
    function t() {
        this.firefox = !1,
        this.ie = !1,
        this.edge = !1,
        this.newEdge = !1,
        this.weChat = !1
    }
    return t
}()
  , l_ = function() {
    function t() {
        this.browser = new s_,
        this.node = !1,
        this.wxa = !1,
        this.worker = !1,
        this.svgSupported = !1,
        this.touchEventsSupported = !1,
        this.pointerEventsSupported = !1,
        this.domSupported = !1,
        this.transformSupported = !1,
        this.transform3dSupported = !1,
        this.hasGlobalWindow = typeof window != "undefined"
    }
    return t
}()
  , Xr = new l_;
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (Xr.wxa = !0,
Xr.touchEventsSupported = !0) : typeof document == "undefined" && typeof self != "undefined" ? Xr.worker = !0 : typeof navigator == "undefined" || navigator.userAgent.indexOf("Node.js") === 0 ? (Xr.node = !0,
Xr.svgSupported = !0) : u_(navigator.userAgent, Xr);
function u_(t, e) {
    var r = e.browser
      , i = t.match(/Firefox\/([\d.]+)/)
      , n = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/)
      , a = t.match(/Edge?\/([\d.]+)/)
      , o = /micromessenger/i.test(t);
    i && (r.firefox = !0,
    r.version = i[1]),
    n && (r.ie = !0,
    r.version = n[1]),
    a && (r.edge = !0,
    r.version = a[1],
    r.newEdge = +a[1].split(".")[0] > 18),
    o && (r.weChat = !0),
    e.svgSupported = typeof SVGRect != "undefined",
    e.touchEventsSupported = "ontouchstart"in window && !r.ie && !r.edge,
    e.pointerEventsSupported = "onpointerdown"in window && (r.edge || r.ie && +r.version >= 11),
    e.domSupported = typeof document != "undefined";
    var s = document.documentElement.style;
    e.transform3dSupported = (r.ie && "transition"in s || r.edge || "WebKitCSSMatrix"in window && "m11"in new WebKitCSSMatrix || "MozPerspective"in s) && !("OTransition"in s),
    e.transformSupported = e.transform3dSupported || r.ie && +r.version >= 9
}
var ae = Xr
  , Ku = 12
  , h_ = "sans-serif"
  , ri = Ku + "px " + h_
  , f_ = 20
  , c_ = 100
  , v_ = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function d_(t) {
    var e = {};
    if (typeof JSON == "undefined")
        return e;
    for (var r = 0; r < t.length; r++) {
        var i = String.fromCharCode(r + 32)
          , n = (t.charCodeAt(r) - f_) / c_;
        e[i] = n
    }
    return e
}
var p_ = d_(v_)
  , ui = {
    createCanvas: function() {
        return typeof document != "undefined" && document.createElement("canvas")
    },
    measureText: function() {
        var t, e;
        return function(r, i) {
            if (!t) {
                var n = ui.createCanvas();
                t = n && n.getContext("2d")
            }
            if (t)
                return e !== i && (e = t.font = i || ri),
                t.measureText(r);
            r = r || "",
            i = i || ri;
            var a = /((?:\d+)?\.?\d*)px/.exec(i)
              , o = a && +a[1] || Ku
              , s = 0;
            if (i.indexOf("mono") >= 0)
                s = o * r.length;
            else
                for (var l = 0; l < r.length; l++) {
                    var u = p_[r[l]];
                    s += u == null ? o : u * o
                }
            return {
                width: s
            }
        }
    }(),
    loadImage: function(t, e, r) {
        var i = new Image;
        return i.onload = e,
        i.onerror = r,
        i.src = t,
        i
    }
}
  , cp = qi(["Function", "RegExp", "Date", "Error", "CanvasGradient", "CanvasPattern", "Image", "Canvas"], function(t, e) {
    return t["[object " + e + "]"] = !0,
    t
}, {})
  , vp = qi(["Int8", "Uint8", "Uint8Clamped", "Int16", "Uint16", "Int32", "Uint32", "Float32", "Float64"], function(t, e) {
    return t["[object " + e + "Array]"] = !0,
    t
}, {})
  , ua = Object.prototype.toString
  , qo = Array.prototype
  , g_ = qo.forEach
  , m_ = qo.filter
  , ju = qo.slice
  , y_ = qo.map
  , wf = function() {}
.constructor
  , _a = wf ? wf.prototype : null
  , Qu = "__proto__"
  , __ = 2311;
function dp() {
    return __++
}
function Ju() {
    for (var t = [], e = 0; e < arguments.length; e++)
        t[e] = arguments[e];
    typeof console != "undefined" && console.error.apply(console, t)
}
function ue(t) {
    if (t == null || typeof t != "object")
        return t;
    var e = t
      , r = ua.call(t);
    if (r === "[object Array]") {
        if (!Rn(t)) {
            e = [];
            for (var i = 0, n = t.length; i < n; i++)
                e[i] = ue(t[i])
        }
    } else if (vp[r]) {
        if (!Rn(t)) {
            var a = t.constructor;
            if (a.from)
                e = a.from(t);
            else {
                e = new a(t.length);
                for (var i = 0, n = t.length; i < n; i++)
                    e[i] = t[i]
            }
        }
    } else if (!cp[r] && !Rn(t) && !Yn(t)) {
        e = {};
        for (var o in t)
            t.hasOwnProperty(o) && o !== Qu && (e[o] = ue(t[o]))
    }
    return e
}
function ge(t, e, r) {
    if (!J(e) || !J(t))
        return r ? ue(e) : t;
    for (var i in e)
        if (e.hasOwnProperty(i) && i !== Qu) {
            var n = t[i]
              , a = e[i];
            J(a) && J(n) && !Y(a) && !Y(n) && !Yn(a) && !Yn(n) && !Sf(a) && !Sf(n) && !Rn(a) && !Rn(n) ? ge(n, a, r) : (r || !(i in t)) && (t[i] = ue(e[i]))
        }
    return t
}
function G(t, e) {
    if (Object.assign)
        Object.assign(t, e);
    else
        for (var r in e)
            e.hasOwnProperty(r) && r !== Qu && (t[r] = e[r]);
    return t
}
function me(t, e, r) {
    for (var i = Se(e), n = 0; n < i.length; n++) {
        var a = i[n];
        (r ? e[a] != null : t[a] == null) && (t[a] = e[a])
    }
    return t
}
ui.createCanvas;
function pe(t, e) {
    if (t) {
        if (t.indexOf)
            return t.indexOf(e);
        for (var r = 0, i = t.length; r < i; r++)
            if (t[r] === e)
                return r
    }
    return -1
}
function w_(t, e) {
    var r = t.prototype;
    function i() {}
    i.prototype = e.prototype,
    t.prototype = new i;
    for (var n in r)
        r.hasOwnProperty(n) && (t.prototype[n] = r[n]);
    t.prototype.constructor = t,
    t.superClass = e
}
function It(t, e, r) {
    if (t = "prototype"in t ? t.prototype : t,
    e = "prototype"in e ? e.prototype : e,
    Object.getOwnPropertyNames)
        for (var i = Object.getOwnPropertyNames(e), n = 0; n < i.length; n++) {
            var a = i[n];
            a !== "constructor" && (r ? e[a] != null : t[a] == null) && (t[a] = e[a])
        }
    else
        me(t, e, r)
}
function et(t) {
    return !t || typeof t == "string" ? !1 : typeof t.length == "number"
}
function I(t, e, r) {
    if (!!(t && e))
        if (t.forEach && t.forEach === g_)
            t.forEach(e, r);
        else if (t.length === +t.length)
            for (var i = 0, n = t.length; i < n; i++)
                e.call(r, t[i], i, t);
        else
            for (var a in t)
                t.hasOwnProperty(a) && e.call(r, t[a], a, t)
}
function ee(t, e, r) {
    if (!t)
        return [];
    if (!e)
        return eh(t);
    if (t.map && t.map === y_)
        return t.map(e, r);
    for (var i = [], n = 0, a = t.length; n < a; n++)
        i.push(e.call(r, t[n], n, t));
    return i
}
function qi(t, e, r, i) {
    if (!!(t && e)) {
        for (var n = 0, a = t.length; n < a; n++)
            r = e.call(i, r, t[n], n, t);
        return r
    }
}
function Ue(t, e, r) {
    if (!t)
        return [];
    if (!e)
        return eh(t);
    if (t.filter && t.filter === m_)
        return t.filter(e, r);
    for (var i = [], n = 0, a = t.length; n < a; n++)
        e.call(r, t[n], n, t) && i.push(t[n]);
    return i
}
function Se(t) {
    if (!t)
        return [];
    if (Object.keys)
        return Object.keys(t);
    var e = [];
    for (var r in t)
        t.hasOwnProperty(r) && e.push(r);
    return e
}
function S_(t, e) {
    for (var r = [], i = 2; i < arguments.length; i++)
        r[i - 2] = arguments[i];
    return function() {
        return t.apply(e, r.concat(ju.call(arguments)))
    }
}
var Ce = _a && ne(_a.bind) ? _a.call.bind(_a.bind) : S_;
function Ee(t) {
    for (var e = [], r = 1; r < arguments.length; r++)
        e[r - 1] = arguments[r];
    return function() {
        return t.apply(this, e.concat(ju.call(arguments)))
    }
}
function Y(t) {
    return Array.isArray ? Array.isArray(t) : ua.call(t) === "[object Array]"
}
function ne(t) {
    return typeof t == "function"
}
function Q(t) {
    return typeof t == "string"
}
function Zl(t) {
    return ua.call(t) === "[object String]"
}
function be(t) {
    return typeof t == "number"
}
function J(t) {
    var e = typeof t;
    return e === "function" || !!t && e === "object"
}
function Sf(t) {
    return !!cp[ua.call(t)]
}
function tt(t) {
    return !!vp[ua.call(t)]
}
function Yn(t) {
    return typeof t == "object" && typeof t.nodeType == "number" && typeof t.ownerDocument == "object"
}
function Zo(t) {
    return t.colorStops != null
}
function b_(t) {
    return t.image != null
}
function To(t) {
    return t !== t
}
function Wi() {
    for (var t = [], e = 0; e < arguments.length; e++)
        t[e] = arguments[e];
    for (var r = 0, i = t.length; r < i; r++)
        if (t[r] != null)
            return t[r]
}
function oe(t, e) {
    return t != null ? t : e
}
function lo(t, e, r) {
    return t != null ? t : e != null ? e : r
}
function eh(t) {
    for (var e = [], r = 1; r < arguments.length; r++)
        e[r - 1] = arguments[r];
    return ju.apply(t, e)
}
function pp(t) {
    if (typeof t == "number")
        return [t, t, t, t];
    var e = t.length;
    return e === 2 ? [t[0], t[1], t[0], t[1]] : e === 3 ? [t[0], t[1], t[2], t[1]] : t
}
function qt(t, e) {
    if (!t)
        throw new Error(e)
}
function Nt(t) {
    return t == null ? null : typeof t.trim == "function" ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
}
var gp = "__ec_primitive__";
function Kl(t) {
    t[gp] = !0
}
function Rn(t) {
    return t[gp]
}
var C_ = function() {
    function t() {
        this.data = {}
    }
    return t.prototype.delete = function(e) {
        var r = this.has(e);
        return r && delete this.data[e],
        r
    }
    ,
    t.prototype.has = function(e) {
        return this.data.hasOwnProperty(e)
    }
    ,
    t.prototype.get = function(e) {
        return this.data[e]
    }
    ,
    t.prototype.set = function(e, r) {
        return this.data[e] = r,
        this
    }
    ,
    t.prototype.keys = function() {
        return Se(this.data)
    }
    ,
    t.prototype.forEach = function(e) {
        var r = this.data;
        for (var i in r)
            r.hasOwnProperty(i) && e(r[i], i)
    }
    ,
    t
}()
  , mp = typeof Map == "function";
function x_() {
    return mp ? new Map : new C_
}
var T_ = function() {
    function t(e) {
        var r = Y(e);
        this.data = x_();
        var i = this;
        e instanceof t ? e.each(n) : e && I(e, n);
        function n(a, o) {
            r ? i.set(a, o) : i.set(o, a)
        }
    }
    return t.prototype.hasKey = function(e) {
        return this.data.has(e)
    }
    ,
    t.prototype.get = function(e) {
        return this.data.get(e)
    }
    ,
    t.prototype.set = function(e, r) {
        return this.data.set(e, r),
        r
    }
    ,
    t.prototype.each = function(e, r) {
        this.data.forEach(function(i, n) {
            e.call(r, i, n)
        })
    }
    ,
    t.prototype.keys = function() {
        var e = this.data.keys();
        return mp ? Array.from(e) : e
    }
    ,
    t.prototype.removeKey = function(e) {
        this.data.delete(e)
    }
    ,
    t
}();
function le(t) {
    return new T_(t)
}
function M_(t, e) {
    for (var r = new t.constructor(t.length + e.length), i = 0; i < t.length; i++)
        r[i] = t[i];
    for (var n = t.length, i = 0; i < e.length; i++)
        r[i + n] = e[i];
    return r
}
function Ko(t, e) {
    var r;
    if (Object.create)
        r = Object.create(t);
    else {
        var i = function() {};
        i.prototype = t,
        r = new i
    }
    return e && G(r, e),
    r
}
function yp(t) {
    var e = t.style;
    e.webkitUserSelect = "none",
    e.userSelect = "none",
    e.webkitTapHighlightColor = "rgba(0,0,0,0)",
    e["-webkit-touch-callout"] = "none"
}
function Ui(t, e) {
    return t.hasOwnProperty(e)
}
function Qe() {}
var D_ = 180 / Math.PI;
function Zi(t, e) {
    return t == null && (t = 0),
    e == null && (e = 0),
    [t, e]
}
function A_(t) {
    return [t[0], t[1]]
}
function bf(t, e, r) {
    return t[0] = e[0] + r[0],
    t[1] = e[1] + r[1],
    t
}
function _p(t, e, r) {
    return t[0] = e[0] - r[0],
    t[1] = e[1] - r[1],
    t
}
function I_(t) {
    return Math.sqrt(k_(t))
}
function k_(t) {
    return t[0] * t[0] + t[1] * t[1]
}
function Ts(t, e, r) {
    return t[0] = e[0] * r,
    t[1] = e[1] * r,
    t
}
function th(t, e) {
    var r = I_(e);
    return r === 0 ? (t[0] = 0,
    t[1] = 0) : (t[0] = e[0] / r,
    t[1] = e[1] / r),
    t
}
function jl(t, e) {
    return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]))
}
var L_ = jl;
function P_(t, e) {
    return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])
}
var Oi = P_;
function yt(t, e, r) {
    var i = e[0]
      , n = e[1];
    return t[0] = r[0] * i + r[2] * n + r[4],
    t[1] = r[1] * i + r[3] * n + r[5],
    t
}
function ki(t, e, r) {
    return t[0] = Math.min(e[0], r[0]),
    t[1] = Math.min(e[1], r[1]),
    t
}
function Li(t, e, r) {
    return t[0] = Math.max(e[0], r[0]),
    t[1] = Math.max(e[1], r[1]),
    t
}
var di = function() {
    function t(e, r) {
        this.target = e,
        this.topTarget = r && r.topTarget
    }
    return t
}()
  , E_ = function() {
    function t(e) {
        this.handler = e,
        e.on("mousedown", this._dragStart, this),
        e.on("mousemove", this._drag, this),
        e.on("mouseup", this._dragEnd, this)
    }
    return t.prototype._dragStart = function(e) {
        for (var r = e.target; r && !r.draggable; )
            r = r.parent || r.__hostTarget;
        r && (this._draggingTarget = r,
        r.dragging = !0,
        this._x = e.offsetX,
        this._y = e.offsetY,
        this.handler.dispatchToElement(new di(r,e), "dragstart", e.event))
    }
    ,
    t.prototype._drag = function(e) {
        var r = this._draggingTarget;
        if (r) {
            var i = e.offsetX
              , n = e.offsetY
              , a = i - this._x
              , o = n - this._y;
            this._x = i,
            this._y = n,
            r.drift(a, o, e),
            this.handler.dispatchToElement(new di(r,e), "drag", e.event);
            var s = this.handler.findHover(i, n, r).target
              , l = this._dropTarget;
            this._dropTarget = s,
            r !== s && (l && s !== l && this.handler.dispatchToElement(new di(l,e), "dragleave", e.event),
            s && s !== l && this.handler.dispatchToElement(new di(s,e), "dragenter", e.event))
        }
    }
    ,
    t.prototype._dragEnd = function(e) {
        var r = this._draggingTarget;
        r && (r.dragging = !1),
        this.handler.dispatchToElement(new di(r,e), "dragend", e.event),
        this._dropTarget && this.handler.dispatchToElement(new di(this._dropTarget,e), "drop", e.event),
        this._draggingTarget = null,
        this._dropTarget = null
    }
    ,
    t
}()
  , R_ = E_
  , O_ = function() {
    function t(e) {
        e && (this._$eventProcessor = e)
    }
    return t.prototype.on = function(e, r, i, n) {
        this._$handlers || (this._$handlers = {});
        var a = this._$handlers;
        if (typeof r == "function" && (n = i,
        i = r,
        r = null),
        !i || !e)
            return this;
        var o = this._$eventProcessor;
        r != null && o && o.normalizeQuery && (r = o.normalizeQuery(r)),
        a[e] || (a[e] = []);
        for (var s = 0; s < a[e].length; s++)
            if (a[e][s].h === i)
                return this;
        var l = {
            h: i,
            query: r,
            ctx: n || this,
            callAtLast: i.zrEventfulCallAtLast
        }
          , u = a[e].length - 1
          , h = a[e][u];
        return h && h.callAtLast ? a[e].splice(u, 0, l) : a[e].push(l),
        this
    }
    ,
    t.prototype.isSilent = function(e) {
        var r = this._$handlers;
        return !r || !r[e] || !r[e].length
    }
    ,
    t.prototype.off = function(e, r) {
        var i = this._$handlers;
        if (!i)
            return this;
        if (!e)
            return this._$handlers = {},
            this;
        if (r) {
            if (i[e]) {
                for (var n = [], a = 0, o = i[e].length; a < o; a++)
                    i[e][a].h !== r && n.push(i[e][a]);
                i[e] = n
            }
            i[e] && i[e].length === 0 && delete i[e]
        } else
            delete i[e];
        return this
    }
    ,
    t.prototype.trigger = function(e) {
        for (var r = [], i = 1; i < arguments.length; i++)
            r[i - 1] = arguments[i];
        if (!this._$handlers)
            return this;
        var n = this._$handlers[e]
          , a = this._$eventProcessor;
        if (n)
            for (var o = r.length, s = n.length, l = 0; l < s; l++) {
                var u = n[l];
                if (!(a && a.filter && u.query != null && !a.filter(e, u.query)))
                    switch (o) {
                    case 0:
                        u.h.call(u.ctx);
                        break;
                    case 1:
                        u.h.call(u.ctx, r[0]);
                        break;
                    case 2:
                        u.h.call(u.ctx, r[0], r[1]);
                        break;
                    default:
                        u.h.apply(u.ctx, r);
                        break
                    }
            }
        return a && a.afterTrigger && a.afterTrigger(e),
        this
    }
    ,
    t.prototype.triggerWithContext = function(e) {
        for (var r = [], i = 1; i < arguments.length; i++)
            r[i - 1] = arguments[i];
        if (!this._$handlers)
            return this;
        var n = this._$handlers[e]
          , a = this._$eventProcessor;
        if (n)
            for (var o = r.length, s = r[o - 1], l = n.length, u = 0; u < l; u++) {
                var h = n[u];
                if (!(a && a.filter && h.query != null && !a.filter(e, h.query)))
                    switch (o) {
                    case 0:
                        h.h.call(s);
                        break;
                    case 1:
                        h.h.call(s, r[0]);
                        break;
                    case 2:
                        h.h.call(s, r[0], r[1]);
                        break;
                    default:
                        h.h.apply(s, r.slice(1, o - 1));
                        break
                    }
            }
        return a && a.afterTrigger && a.afterTrigger(e),
        this
    }
    ,
    t
}()
  , Ht = O_
  , B_ = Math.log(2);
function Ql(t, e, r, i, n, a) {
    var o = i + "-" + n
      , s = t.length;
    if (a.hasOwnProperty(o))
        return a[o];
    if (e === 1) {
        var l = Math.round(Math.log((1 << s) - 1 & ~n) / B_);
        return t[r][l]
    }
    for (var u = i | 1 << r, h = r + 1; i & 1 << h; )
        h++;
    for (var f = 0, c = 0, v = 0; c < s; c++) {
        var d = 1 << c;
        d & n || (f += (v % 2 ? -1 : 1) * t[r][c] * Ql(t, e - 1, h, u, n | d, a),
        v++)
    }
    return a[o] = f,
    f
}
function Cf(t, e) {
    var r = [[t[0], t[1], 1, 0, 0, 0, -e[0] * t[0], -e[0] * t[1]], [0, 0, 0, t[0], t[1], 1, -e[1] * t[0], -e[1] * t[1]], [t[2], t[3], 1, 0, 0, 0, -e[2] * t[2], -e[2] * t[3]], [0, 0, 0, t[2], t[3], 1, -e[3] * t[2], -e[3] * t[3]], [t[4], t[5], 1, 0, 0, 0, -e[4] * t[4], -e[4] * t[5]], [0, 0, 0, t[4], t[5], 1, -e[5] * t[4], -e[5] * t[5]], [t[6], t[7], 1, 0, 0, 0, -e[6] * t[6], -e[6] * t[7]], [0, 0, 0, t[6], t[7], 1, -e[7] * t[6], -e[7] * t[7]]]
      , i = {}
      , n = Ql(r, 8, 0, 0, 0, i);
    if (n !== 0) {
        for (var a = [], o = 0; o < 8; o++)
            for (var s = 0; s < 8; s++)
                a[s] == null && (a[s] = 0),
                a[s] += ((o + s) % 2 ? -1 : 1) * Ql(r, 7, o === 0 ? 1 : 0, 1 << o, 1 << s, i) / n * e[o];
        return function(l, u, h) {
            var f = u * a[6] + h * a[7] + 1;
            l[0] = (u * a[0] + h * a[1] + a[2]) / f,
            l[1] = (u * a[3] + h * a[4] + a[5]) / f
        }
    }
}
var xf = "___zrEVENTSAVED"
  , Ms = [];
function N_(t, e, r, i, n) {
    return Jl(Ms, e, i, n, !0) && Jl(t, r, Ms[0], Ms[1])
}
function Jl(t, e, r, i, n) {
    if (e.getBoundingClientRect && ae.domSupported && !wp(e)) {
        var a = e[xf] || (e[xf] = {})
          , o = F_(e, a)
          , s = z_(o, a, n);
        if (s)
            return s(t, r, i),
            !0
    }
    return !1
}
function F_(t, e) {
    var r = e.markers;
    if (r)
        return r;
    r = e.markers = [];
    for (var i = ["left", "right"], n = ["top", "bottom"], a = 0; a < 4; a++) {
        var o = document.createElement("div")
          , s = o.style
          , l = a % 2
          , u = (a >> 1) % 2;
        s.cssText = ["position: absolute", "visibility: hidden", "padding: 0", "margin: 0", "border-width: 0", "user-select: none", "width:0", "height:0", i[l] + ":0", n[u] + ":0", i[1 - l] + ":auto", n[1 - u] + ":auto", ""].join("!important;"),
        t.appendChild(o),
        r.push(o)
    }
    return r
}
function z_(t, e, r) {
    for (var i = r ? "invTrans" : "trans", n = e[i], a = e.srcCoords, o = [], s = [], l = !0, u = 0; u < 4; u++) {
        var h = t[u].getBoundingClientRect()
          , f = 2 * u
          , c = h.left
          , v = h.top;
        o.push(c, v),
        l = l && a && c === a[f] && v === a[f + 1],
        s.push(t[u].offsetLeft, t[u].offsetTop)
    }
    return l && n ? n : (e.srcCoords = o,
    e[i] = r ? Cf(s, o) : Cf(o, s))
}
function wp(t) {
    return t.nodeName.toUpperCase() === "CANVAS"
}
var V_ = /([&<>"'])/g
  , H_ = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#39;"
};
function nt(t) {
    return t == null ? "" : (t + "").replace(V_, function(e, r) {
        return H_[r]
    })
}
var G_ = /^(?:mouse|pointer|contextmenu|drag|drop)|click/
  , Ds = []
  , W_ = ae.browser.firefox && +ae.browser.version.split(".")[0] < 39;
function eu(t, e, r, i) {
    return r = r || {},
    i ? Tf(t, e, r) : W_ && e.layerX != null && e.layerX !== e.offsetX ? (r.zrX = e.layerX,
    r.zrY = e.layerY) : e.offsetX != null ? (r.zrX = e.offsetX,
    r.zrY = e.offsetY) : Tf(t, e, r),
    r
}
function Tf(t, e, r) {
    if (ae.domSupported && t.getBoundingClientRect) {
        var i = e.clientX
          , n = e.clientY;
        if (wp(t)) {
            var a = t.getBoundingClientRect();
            r.zrX = i - a.left,
            r.zrY = n - a.top;
            return
        } else if (Jl(Ds, t, i, n)) {
            r.zrX = Ds[0],
            r.zrY = Ds[1];
            return
        }
    }
    r.zrX = r.zrY = 0
}
function rh(t) {
    return t || window.event
}
function ft(t, e, r) {
    if (e = rh(e),
    e.zrX != null)
        return e;
    var i = e.type
      , n = i && i.indexOf("touch") >= 0;
    if (n) {
        var o = i !== "touchend" ? e.targetTouches[0] : e.changedTouches[0];
        o && eu(t, o, e, r)
    } else {
        eu(t, e, e, r);
        var a = U_(e);
        e.zrDelta = a ? a / 120 : -(e.detail || 0) / 3
    }
    var s = e.button;
    return e.which == null && s !== void 0 && G_.test(e.type) && (e.which = s & 1 ? 1 : s & 2 ? 3 : s & 4 ? 2 : 0),
    e
}
function U_(t) {
    var e = t.wheelDelta;
    if (e)
        return e;
    var r = t.deltaX
      , i = t.deltaY;
    if (r == null || i == null)
        return e;
    var n = Math.abs(i !== 0 ? i : r)
      , a = i > 0 ? -1 : i < 0 ? 1 : r > 0 ? -1 : 1;
    return 3 * n * a
}
function $_(t, e, r, i) {
    t.addEventListener(e, r, i)
}
function Y_(t, e, r, i) {
    t.removeEventListener(e, r, i)
}
var Sp = function(t) {
    t.preventDefault(),
    t.stopPropagation(),
    t.cancelBubble = !0
}
  , X_ = function() {
    function t() {
        this._track = []
    }
    return t.prototype.recognize = function(e, r, i) {
        return this._doTrack(e, r, i),
        this._recognize(e)
    }
    ,
    t.prototype.clear = function() {
        return this._track.length = 0,
        this
    }
    ,
    t.prototype._doTrack = function(e, r, i) {
        var n = e.touches;
        if (!!n) {
            for (var a = {
                points: [],
                touches: [],
                target: r,
                event: e
            }, o = 0, s = n.length; o < s; o++) {
                var l = n[o]
                  , u = eu(i, l, {});
                a.points.push([u.zrX, u.zrY]),
                a.touches.push(l)
            }
            this._track.push(a)
        }
    }
    ,
    t.prototype._recognize = function(e) {
        for (var r in As)
            if (As.hasOwnProperty(r)) {
                var i = As[r](this._track, e);
                if (i)
                    return i
            }
    }
    ,
    t
}();
function Mf(t) {
    var e = t[1][0] - t[0][0]
      , r = t[1][1] - t[0][1];
    return Math.sqrt(e * e + r * r)
}
function q_(t) {
    return [(t[0][0] + t[1][0]) / 2, (t[0][1] + t[1][1]) / 2]
}
var As = {
    pinch: function(t, e) {
        var r = t.length;
        if (!!r) {
            var i = (t[r - 1] || {}).points
              , n = (t[r - 2] || {}).points || i;
            if (n && n.length > 1 && i && i.length > 1) {
                var a = Mf(i) / Mf(n);
                !isFinite(a) && (a = 1),
                e.pinchScale = a;
                var o = q_(i);
                return e.pinchX = o[0],
                e.pinchY = o[1],
                {
                    type: "pinch",
                    target: t[0].target,
                    event: e
                }
            }
        }
    }
};
function Bi() {
    return [1, 0, 0, 1, 0, 0]
}
function ih(t) {
    return t[0] = 1,
    t[1] = 0,
    t[2] = 0,
    t[3] = 1,
    t[4] = 0,
    t[5] = 0,
    t
}
function Z_(t, e) {
    return t[0] = e[0],
    t[1] = e[1],
    t[2] = e[2],
    t[3] = e[3],
    t[4] = e[4],
    t[5] = e[5],
    t
}
function Ni(t, e, r) {
    var i = e[0] * r[0] + e[2] * r[1]
      , n = e[1] * r[0] + e[3] * r[1]
      , a = e[0] * r[2] + e[2] * r[3]
      , o = e[1] * r[2] + e[3] * r[3]
      , s = e[0] * r[4] + e[2] * r[5] + e[4]
      , l = e[1] * r[4] + e[3] * r[5] + e[5];
    return t[0] = i,
    t[1] = n,
    t[2] = a,
    t[3] = o,
    t[4] = s,
    t[5] = l,
    t
}
function tu(t, e, r) {
    return t[0] = e[0],
    t[1] = e[1],
    t[2] = e[2],
    t[3] = e[3],
    t[4] = e[4] + r[0],
    t[5] = e[5] + r[1],
    t
}
function nh(t, e, r, i) {
    i === void 0 && (i = [0, 0]);
    var n = e[0]
      , a = e[2]
      , o = e[4]
      , s = e[1]
      , l = e[3]
      , u = e[5]
      , h = Math.sin(r)
      , f = Math.cos(r);
    return t[0] = n * f + s * h,
    t[1] = -n * h + s * f,
    t[2] = a * f + l * h,
    t[3] = -a * h + f * l,
    t[4] = f * (o - i[0]) + h * (u - i[1]) + i[0],
    t[5] = f * (u - i[1]) - h * (o - i[0]) + i[1],
    t
}
function K_(t, e, r) {
    var i = r[0]
      , n = r[1];
    return t[0] = e[0] * i,
    t[1] = e[1] * n,
    t[2] = e[2] * i,
    t[3] = e[3] * n,
    t[4] = e[4] * i,
    t[5] = e[5] * n,
    t
}
function ah(t, e) {
    var r = e[0]
      , i = e[2]
      , n = e[4]
      , a = e[1]
      , o = e[3]
      , s = e[5]
      , l = r * o - a * i;
    return l ? (l = 1 / l,
    t[0] = o * l,
    t[1] = -a * l,
    t[2] = -i * l,
    t[3] = r * l,
    t[4] = (i * s - o * n) * l,
    t[5] = (a * n - r * s) * l,
    t) : null
}
var j_ = function() {
    function t(e, r) {
        this.x = e || 0,
        this.y = r || 0
    }
    return t.prototype.copy = function(e) {
        return this.x = e.x,
        this.y = e.y,
        this
    }
    ,
    t.prototype.clone = function() {
        return new t(this.x,this.y)
    }
    ,
    t.prototype.set = function(e, r) {
        return this.x = e,
        this.y = r,
        this
    }
    ,
    t.prototype.equal = function(e) {
        return e.x === this.x && e.y === this.y
    }
    ,
    t.prototype.add = function(e) {
        return this.x += e.x,
        this.y += e.y,
        this
    }
    ,
    t.prototype.scale = function(e) {
        this.x *= e,
        this.y *= e
    }
    ,
    t.prototype.scaleAndAdd = function(e, r) {
        this.x += e.x * r,
        this.y += e.y * r
    }
    ,
    t.prototype.sub = function(e) {
        return this.x -= e.x,
        this.y -= e.y,
        this
    }
    ,
    t.prototype.dot = function(e) {
        return this.x * e.x + this.y * e.y
    }
    ,
    t.prototype.len = function() {
        return Math.sqrt(this.x * this.x + this.y * this.y)
    }
    ,
    t.prototype.lenSquare = function() {
        return this.x * this.x + this.y * this.y
    }
    ,
    t.prototype.normalize = function() {
        var e = this.len();
        return this.x /= e,
        this.y /= e,
        this
    }
    ,
    t.prototype.distance = function(e) {
        var r = this.x - e.x
          , i = this.y - e.y;
        return Math.sqrt(r * r + i * i)
    }
    ,
    t.prototype.distanceSquare = function(e) {
        var r = this.x - e.x
          , i = this.y - e.y;
        return r * r + i * i
    }
    ,
    t.prototype.negate = function() {
        return this.x = -this.x,
        this.y = -this.y,
        this
    }
    ,
    t.prototype.transform = function(e) {
        if (!!e) {
            var r = this.x
              , i = this.y;
            return this.x = e[0] * r + e[2] * i + e[4],
            this.y = e[1] * r + e[3] * i + e[5],
            this
        }
    }
    ,
    t.prototype.toArray = function(e) {
        return e[0] = this.x,
        e[1] = this.y,
        e
    }
    ,
    t.prototype.fromArray = function(e) {
        this.x = e[0],
        this.y = e[1]
    }
    ,
    t.set = function(e, r, i) {
        e.x = r,
        e.y = i
    }
    ,
    t.copy = function(e, r) {
        e.x = r.x,
        e.y = r.y
    }
    ,
    t.len = function(e) {
        return Math.sqrt(e.x * e.x + e.y * e.y)
    }
    ,
    t.lenSquare = function(e) {
        return e.x * e.x + e.y * e.y
    }
    ,
    t.dot = function(e, r) {
        return e.x * r.x + e.y * r.y
    }
    ,
    t.add = function(e, r, i) {
        e.x = r.x + i.x,
        e.y = r.y + i.y
    }
    ,
    t.sub = function(e, r, i) {
        e.x = r.x - i.x,
        e.y = r.y - i.y
    }
    ,
    t.scale = function(e, r, i) {
        e.x = r.x * i,
        e.y = r.y * i
    }
    ,
    t.scaleAndAdd = function(e, r, i, n) {
        e.x = r.x + i.x * n,
        e.y = r.y + i.y * n
    }
    ,
    t.lerp = function(e, r, i, n) {
        var a = 1 - n;
        e.x = a * r.x + n * i.x,
        e.y = a * r.y + n * i.y
    }
    ,
    t
}()
  , _e = j_
  , wa = Math.min
  , Sa = Math.max
  , Tr = new _e
  , Mr = new _e
  , Dr = new _e
  , Ar = new _e
  , an = new _e
  , on = new _e
  , Q_ = function() {
    function t(e, r, i, n) {
        i < 0 && (e = e + i,
        i = -i),
        n < 0 && (r = r + n,
        n = -n),
        this.x = e,
        this.y = r,
        this.width = i,
        this.height = n
    }
    return t.prototype.union = function(e) {
        var r = wa(e.x, this.x)
          , i = wa(e.y, this.y);
        isFinite(this.x) && isFinite(this.width) ? this.width = Sa(e.x + e.width, this.x + this.width) - r : this.width = e.width,
        isFinite(this.y) && isFinite(this.height) ? this.height = Sa(e.y + e.height, this.y + this.height) - i : this.height = e.height,
        this.x = r,
        this.y = i
    }
    ,
    t.prototype.applyTransform = function(e) {
        t.applyTransform(this, this, e)
    }
    ,
    t.prototype.calculateTransform = function(e) {
        var r = this
          , i = e.width / r.width
          , n = e.height / r.height
          , a = Bi();
        return tu(a, a, [-r.x, -r.y]),
        K_(a, a, [i, n]),
        tu(a, a, [e.x, e.y]),
        a
    }
    ,
    t.prototype.intersect = function(e, r) {
        if (!e)
            return !1;
        e instanceof t || (e = t.create(e));
        var i = this
          , n = i.x
          , a = i.x + i.width
          , o = i.y
          , s = i.y + i.height
          , l = e.x
          , u = e.x + e.width
          , h = e.y
          , f = e.y + e.height
          , c = !(a < l || u < n || s < h || f < o);
        if (r) {
            var v = 1 / 0
              , d = 0
              , m = Math.abs(a - l)
              , p = Math.abs(u - n)
              , g = Math.abs(s - h)
              , y = Math.abs(f - o)
              , _ = Math.min(m, p)
              , w = Math.min(g, y);
            a < l || u < n ? _ > d && (d = _,
            m < p ? _e.set(on, -m, 0) : _e.set(on, p, 0)) : _ < v && (v = _,
            m < p ? _e.set(an, m, 0) : _e.set(an, -p, 0)),
            s < h || f < o ? w > d && (d = w,
            g < y ? _e.set(on, 0, -g) : _e.set(on, 0, y)) : _ < v && (v = _,
            g < y ? _e.set(an, 0, g) : _e.set(an, 0, -y))
        }
        return r && _e.copy(r, c ? an : on),
        c
    }
    ,
    t.prototype.contain = function(e, r) {
        var i = this;
        return e >= i.x && e <= i.x + i.width && r >= i.y && r <= i.y + i.height
    }
    ,
    t.prototype.clone = function() {
        return new t(this.x,this.y,this.width,this.height)
    }
    ,
    t.prototype.copy = function(e) {
        t.copy(this, e)
    }
    ,
    t.prototype.plain = function() {
        return {
            x: this.x,
            y: this.y,
            width: this.width,
            height: this.height
        }
    }
    ,
    t.prototype.isFinite = function() {
        return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height)
    }
    ,
    t.prototype.isZero = function() {
        return this.width === 0 || this.height === 0
    }
    ,
    t.create = function(e) {
        return new t(e.x,e.y,e.width,e.height)
    }
    ,
    t.copy = function(e, r) {
        e.x = r.x,
        e.y = r.y,
        e.width = r.width,
        e.height = r.height
    }
    ,
    t.applyTransform = function(e, r, i) {
        if (!i) {
            e !== r && t.copy(e, r);
            return
        }
        if (i[1] < 1e-5 && i[1] > -1e-5 && i[2] < 1e-5 && i[2] > -1e-5) {
            var n = i[0]
              , a = i[3]
              , o = i[4]
              , s = i[5];
            e.x = r.x * n + o,
            e.y = r.y * a + s,
            e.width = r.width * n,
            e.height = r.height * a,
            e.width < 0 && (e.x += e.width,
            e.width = -e.width),
            e.height < 0 && (e.y += e.height,
            e.height = -e.height);
            return
        }
        Tr.x = Dr.x = r.x,
        Tr.y = Ar.y = r.y,
        Mr.x = Ar.x = r.x + r.width,
        Mr.y = Dr.y = r.y + r.height,
        Tr.transform(i),
        Ar.transform(i),
        Mr.transform(i),
        Dr.transform(i),
        e.x = wa(Tr.x, Mr.x, Dr.x, Ar.x),
        e.y = wa(Tr.y, Mr.y, Dr.y, Ar.y);
        var l = Sa(Tr.x, Mr.x, Dr.x, Ar.x)
          , u = Sa(Tr.y, Mr.y, Dr.y, Ar.y);
        e.width = l - e.x,
        e.height = u - e.y
    }
    ,
    t
}()
  , ce = Q_
  , bp = "silent";
function J_(t, e, r) {
    return {
        type: t,
        event: r,
        target: e.target,
        topTarget: e.topTarget,
        cancelBubble: !1,
        offsetX: r.zrX,
        offsetY: r.zrY,
        gestureEvent: r.gestureEvent,
        pinchX: r.pinchX,
        pinchY: r.pinchY,
        pinchScale: r.pinchScale,
        wheelDelta: r.zrDelta,
        zrByTouch: r.zrByTouch,
        which: r.which,
        stop: e2
    }
}
function e2() {
    Sp(this.event)
}
var t2 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.handler = null,
        r
    }
    return e.prototype.dispose = function() {}
    ,
    e.prototype.setCursor = function() {}
    ,
    e
}(Ht)
  , sn = function() {
    function t(e, r) {
        this.x = e,
        this.y = r
    }
    return t
}()
  , r2 = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"]
  , Is = new ce(0,0,0,0)
  , Cp = function(t) {
    X(e, t);
    function e(r, i, n, a, o) {
        var s = t.call(this) || this;
        return s._hovered = new sn(0,0),
        s.storage = r,
        s.painter = i,
        s.painterRoot = a,
        s._pointerSize = o,
        n = n || new t2,
        s.proxy = null,
        s.setHandlerProxy(n),
        s._draggingMgr = new R_(s),
        s
    }
    return e.prototype.setHandlerProxy = function(r) {
        this.proxy && this.proxy.dispose(),
        r && (I(r2, function(i) {
            r.on && r.on(i, this[i], this)
        }, this),
        r.handler = this),
        this.proxy = r
    }
    ,
    e.prototype.mousemove = function(r) {
        var i = r.zrX
          , n = r.zrY
          , a = xp(this, i, n)
          , o = this._hovered
          , s = o.target;
        s && !s.__zr && (o = this.findHover(o.x, o.y),
        s = o.target);
        var l = this._hovered = a ? new sn(i,n) : this.findHover(i, n)
          , u = l.target
          , h = this.proxy;
        h.setCursor && h.setCursor(u ? u.cursor : "default"),
        s && u !== s && this.dispatchToElement(o, "mouseout", r),
        this.dispatchToElement(l, "mousemove", r),
        u && u !== s && this.dispatchToElement(l, "mouseover", r)
    }
    ,
    e.prototype.mouseout = function(r) {
        var i = r.zrEventControl;
        i !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", r),
        i !== "no_globalout" && this.trigger("globalout", {
            type: "globalout",
            event: r
        })
    }
    ,
    e.prototype.resize = function() {
        this._hovered = new sn(0,0)
    }
    ,
    e.prototype.dispatch = function(r, i) {
        var n = this[r];
        n && n.call(this, i)
    }
    ,
    e.prototype.dispose = function() {
        this.proxy.dispose(),
        this.storage = null,
        this.proxy = null,
        this.painter = null
    }
    ,
    e.prototype.setCursorStyle = function(r) {
        var i = this.proxy;
        i.setCursor && i.setCursor(r)
    }
    ,
    e.prototype.dispatchToElement = function(r, i, n) {
        r = r || {};
        var a = r.target;
        if (!(a && a.silent)) {
            for (var o = "on" + i, s = J_(i, r, n); a && (a[o] && (s.cancelBubble = !!a[o].call(a, s)),
            a.trigger(i, s),
            a = a.__hostTarget ? a.__hostTarget : a.parent,
            !s.cancelBubble); )
                ;
            s.cancelBubble || (this.trigger(i, s),
            this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(l) {
                typeof l[o] == "function" && l[o].call(l, s),
                l.trigger && l.trigger(i, s)
            }))
        }
    }
    ,
    e.prototype.findHover = function(r, i, n) {
        var a = this.storage.getDisplayList()
          , o = new sn(r,i);
        if (Df(a, o, r, i, n),
        this._pointerSize && !o.target) {
            for (var s = [], l = this._pointerSize, u = l / 2, h = new ce(r - u,i - u,l,l), f = a.length - 1; f >= 0; f--) {
                var c = a[f];
                c !== n && !c.ignore && !c.ignoreCoarsePointer && (!c.parent || !c.parent.ignoreCoarsePointer) && (Is.copy(c.getBoundingRect()),
                c.transform && Is.applyTransform(c.transform),
                Is.intersect(h) && s.push(c))
            }
            if (s.length)
                for (var v = 4, d = Math.PI / 12, m = Math.PI * 2, p = 0; p < u; p += v)
                    for (var g = 0; g < m; g += d) {
                        var y = r + p * Math.cos(g)
                          , _ = i + p * Math.sin(g);
                        if (Df(s, o, y, _, n),
                        o.target)
                            return o
                    }
        }
        return o
    }
    ,
    e.prototype.processGesture = function(r, i) {
        this._gestureMgr || (this._gestureMgr = new X_);
        var n = this._gestureMgr;
        i === "start" && n.clear();
        var a = n.recognize(r, this.findHover(r.zrX, r.zrY, null).target, this.proxy.dom);
        if (i === "end" && n.clear(),
        a) {
            var o = a.type;
            r.gestureEvent = o;
            var s = new sn;
            s.target = a.target,
            this.dispatchToElement(s, o, a.event)
        }
    }
    ,
    e
}(Ht);
I(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(t) {
    Cp.prototype[t] = function(e) {
        var r = e.zrX, i = e.zrY, n = xp(this, r, i), a, o;
        if ((t !== "mouseup" || !n) && (a = this.findHover(r, i),
        o = a.target),
        t === "mousedown")
            this._downEl = o,
            this._downPoint = [e.zrX, e.zrY],
            this._upEl = o;
        else if (t === "mouseup")
            this._upEl = o;
        else if (t === "click") {
            if (this._downEl !== this._upEl || !this._downPoint || L_(this._downPoint, [e.zrX, e.zrY]) > 4)
                return;
            this._downPoint = null
        }
        this.dispatchToElement(a, t, e)
    }
});
function i2(t, e, r) {
    if (t[t.rectHover ? "rectContain" : "contain"](e, r)) {
        for (var i = t, n = void 0, a = !1; i; ) {
            if (i.ignoreClip && (a = !0),
            !a) {
                var o = i.getClipPath();
                if (o && !o.contain(e, r))
                    return !1
            }
            i.silent && (n = !0);
            var s = i.__hostTarget;
            i = s || i.parent
        }
        return n ? bp : !0
    }
    return !1
}
function Df(t, e, r, i, n) {
    for (var a = t.length - 1; a >= 0; a--) {
        var o = t[a]
          , s = void 0;
        if (o !== n && !o.ignore && (s = i2(o, r, i)) && (!e.topTarget && (e.topTarget = o),
        s !== bp)) {
            e.target = o;
            break
        }
    }
}
function xp(t, e, r) {
    var i = t.painter;
    return e < 0 || e > i.getWidth() || r < 0 || r > i.getHeight()
}
var n2 = Cp
  , Tp = 32
  , ln = 7;
function a2(t) {
    for (var e = 0; t >= Tp; )
        e |= t & 1,
        t >>= 1;
    return t + e
}
function Af(t, e, r, i) {
    var n = e + 1;
    if (n === r)
        return 1;
    if (i(t[n++], t[e]) < 0) {
        for (; n < r && i(t[n], t[n - 1]) < 0; )
            n++;
        o2(t, e, n)
    } else
        for (; n < r && i(t[n], t[n - 1]) >= 0; )
            n++;
    return n - e
}
function o2(t, e, r) {
    for (r--; e < r; ) {
        var i = t[e];
        t[e++] = t[r],
        t[r--] = i
    }
}
function If(t, e, r, i, n) {
    for (i === e && i++; i < r; i++) {
        for (var a = t[i], o = e, s = i, l; o < s; )
            l = o + s >>> 1,
            n(a, t[l]) < 0 ? s = l : o = l + 1;
        var u = i - o;
        switch (u) {
        case 3:
            t[o + 3] = t[o + 2];
        case 2:
            t[o + 2] = t[o + 1];
        case 1:
            t[o + 1] = t[o];
            break;
        default:
            for (; u > 0; )
                t[o + u] = t[o + u - 1],
                u--
        }
        t[o] = a
    }
}
function ks(t, e, r, i, n, a) {
    var o = 0
      , s = 0
      , l = 1;
    if (a(t, e[r + n]) > 0) {
        for (s = i - n; l < s && a(t, e[r + n + l]) > 0; )
            o = l,
            l = (l << 1) + 1,
            l <= 0 && (l = s);
        l > s && (l = s),
        o += n,
        l += n
    } else {
        for (s = n + 1; l < s && a(t, e[r + n - l]) <= 0; )
            o = l,
            l = (l << 1) + 1,
            l <= 0 && (l = s);
        l > s && (l = s);
        var u = o;
        o = n - l,
        l = n - u
    }
    for (o++; o < l; ) {
        var h = o + (l - o >>> 1);
        a(t, e[r + h]) > 0 ? o = h + 1 : l = h
    }
    return l
}
function Ls(t, e, r, i, n, a) {
    var o = 0
      , s = 0
      , l = 1;
    if (a(t, e[r + n]) < 0) {
        for (s = n + 1; l < s && a(t, e[r + n - l]) < 0; )
            o = l,
            l = (l << 1) + 1,
            l <= 0 && (l = s);
        l > s && (l = s);
        var u = o;
        o = n - l,
        l = n - u
    } else {
        for (s = i - n; l < s && a(t, e[r + n + l]) >= 0; )
            o = l,
            l = (l << 1) + 1,
            l <= 0 && (l = s);
        l > s && (l = s),
        o += n,
        l += n
    }
    for (o++; o < l; ) {
        var h = o + (l - o >>> 1);
        a(t, e[r + h]) < 0 ? l = h : o = h + 1
    }
    return l
}
function s2(t, e) {
    var r = ln, i, n, a = 0, o = [];
    i = [],
    n = [];
    function s(v, d) {
        i[a] = v,
        n[a] = d,
        a += 1
    }
    function l() {
        for (; a > 1; ) {
            var v = a - 2;
            if (v >= 1 && n[v - 1] <= n[v] + n[v + 1] || v >= 2 && n[v - 2] <= n[v] + n[v - 1])
                n[v - 1] < n[v + 1] && v--;
            else if (n[v] > n[v + 1])
                break;
            h(v)
        }
    }
    function u() {
        for (; a > 1; ) {
            var v = a - 2;
            v > 0 && n[v - 1] < n[v + 1] && v--,
            h(v)
        }
    }
    function h(v) {
        var d = i[v]
          , m = n[v]
          , p = i[v + 1]
          , g = n[v + 1];
        n[v] = m + g,
        v === a - 3 && (i[v + 1] = i[v + 2],
        n[v + 1] = n[v + 2]),
        a--;
        var y = Ls(t[p], t, d, m, 0, e);
        d += y,
        m -= y,
        m !== 0 && (g = ks(t[d + m - 1], t, p, g, g - 1, e),
        g !== 0 && (m <= g ? f(d, m, p, g) : c(d, m, p, g)))
    }
    function f(v, d, m, p) {
        var g = 0;
        for (g = 0; g < d; g++)
            o[g] = t[v + g];
        var y = 0
          , _ = m
          , w = v;
        if (t[w++] = t[_++],
        --p === 0) {
            for (g = 0; g < d; g++)
                t[w + g] = o[y + g];
            return
        }
        if (d === 1) {
            for (g = 0; g < p; g++)
                t[w + g] = t[_ + g];
            t[w + p] = o[y];
            return
        }
        for (var b = r, S, C, T; ; ) {
            S = 0,
            C = 0,
            T = !1;
            do
                if (e(t[_], o[y]) < 0) {
                    if (t[w++] = t[_++],
                    C++,
                    S = 0,
                    --p === 0) {
                        T = !0;
                        break
                    }
                } else if (t[w++] = o[y++],
                S++,
                C = 0,
                --d === 1) {
                    T = !0;
                    break
                }
            while ((S | C) < b);
            if (T)
                break;
            do {
                if (S = Ls(t[_], o, y, d, 0, e),
                S !== 0) {
                    for (g = 0; g < S; g++)
                        t[w + g] = o[y + g];
                    if (w += S,
                    y += S,
                    d -= S,
                    d <= 1) {
                        T = !0;
                        break
                    }
                }
                if (t[w++] = t[_++],
                --p === 0) {
                    T = !0;
                    break
                }
                if (C = ks(o[y], t, _, p, 0, e),
                C !== 0) {
                    for (g = 0; g < C; g++)
                        t[w + g] = t[_ + g];
                    if (w += C,
                    _ += C,
                    p -= C,
                    p === 0) {
                        T = !0;
                        break
                    }
                }
                if (t[w++] = o[y++],
                --d === 1) {
                    T = !0;
                    break
                }
                b--
            } while (S >= ln || C >= ln);
            if (T)
                break;
            b < 0 && (b = 0),
            b += 2
        }
        if (r = b,
        r < 1 && (r = 1),
        d === 1) {
            for (g = 0; g < p; g++)
                t[w + g] = t[_ + g];
            t[w + p] = o[y]
        } else {
            if (d === 0)
                throw new Error;
            for (g = 0; g < d; g++)
                t[w + g] = o[y + g]
        }
    }
    function c(v, d, m, p) {
        var g = 0;
        for (g = 0; g < p; g++)
            o[g] = t[m + g];
        var y = v + d - 1
          , _ = p - 1
          , w = m + p - 1
          , b = 0
          , S = 0;
        if (t[w--] = t[y--],
        --d === 0) {
            for (b = w - (p - 1),
            g = 0; g < p; g++)
                t[b + g] = o[g];
            return
        }
        if (p === 1) {
            for (w -= d,
            y -= d,
            S = w + 1,
            b = y + 1,
            g = d - 1; g >= 0; g--)
                t[S + g] = t[b + g];
            t[w] = o[_];
            return
        }
        for (var C = r; ; ) {
            var T = 0
              , x = 0
              , D = !1;
            do
                if (e(o[_], t[y]) < 0) {
                    if (t[w--] = t[y--],
                    T++,
                    x = 0,
                    --d === 0) {
                        D = !0;
                        break
                    }
                } else if (t[w--] = o[_--],
                x++,
                T = 0,
                --p === 1) {
                    D = !0;
                    break
                }
            while ((T | x) < C);
            if (D)
                break;
            do {
                if (T = d - Ls(o[_], t, v, d, d - 1, e),
                T !== 0) {
                    for (w -= T,
                    y -= T,
                    d -= T,
                    S = w + 1,
                    b = y + 1,
                    g = T - 1; g >= 0; g--)
                        t[S + g] = t[b + g];
                    if (d === 0) {
                        D = !0;
                        break
                    }
                }
                if (t[w--] = o[_--],
                --p === 1) {
                    D = !0;
                    break
                }
                if (x = p - ks(t[y], o, 0, p, p - 1, e),
                x !== 0) {
                    for (w -= x,
                    _ -= x,
                    p -= x,
                    S = w + 1,
                    b = _ + 1,
                    g = 0; g < x; g++)
                        t[S + g] = o[b + g];
                    if (p <= 1) {
                        D = !0;
                        break
                    }
                }
                if (t[w--] = t[y--],
                --d === 0) {
                    D = !0;
                    break
                }
                C--
            } while (T >= ln || x >= ln);
            if (D)
                break;
            C < 0 && (C = 0),
            C += 2
        }
        if (r = C,
        r < 1 && (r = 1),
        p === 1) {
            for (w -= d,
            y -= d,
            S = w + 1,
            b = y + 1,
            g = d - 1; g >= 0; g--)
                t[S + g] = t[b + g];
            t[w] = o[_]
        } else {
            if (p === 0)
                throw new Error;
            for (b = w - (p - 1),
            g = 0; g < p; g++)
                t[b + g] = o[g]
        }
    }
    return {
        mergeRuns: l,
        forceMergeRuns: u,
        pushRun: s
    }
}
function uo(t, e, r, i) {
    r || (r = 0),
    i || (i = t.length);
    var n = i - r;
    if (!(n < 2)) {
        var a = 0;
        if (n < Tp) {
            a = Af(t, r, i, e),
            If(t, r, i, r + a, e);
            return
        }
        var o = s2(t, e)
          , s = a2(n);
        do {
            if (a = Af(t, r, i, e),
            a < s) {
                var l = n;
                l > s && (l = s),
                If(t, r, r + l, r + a, e),
                a = l
            }
            o.pushRun(r, a),
            o.mergeRuns(),
            n -= a,
            r += a
        } while (n !== 0);
        o.forceMergeRuns()
    }
}
var at = 1
  , Dn = 2
  , Ai = 4
  , kf = !1;
function Ps() {
    kf || (kf = !0,
    console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))
}
function Lf(t, e) {
    return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel
}
var l2 = function() {
    function t() {
        this._roots = [],
        this._displayList = [],
        this._displayListLen = 0,
        this.displayableSortFunc = Lf
    }
    return t.prototype.traverse = function(e, r) {
        for (var i = 0; i < this._roots.length; i++)
            this._roots[i].traverse(e, r)
    }
    ,
    t.prototype.getDisplayList = function(e, r) {
        r = r || !1;
        var i = this._displayList;
        return (e || !i.length) && this.updateDisplayList(r),
        i
    }
    ,
    t.prototype.updateDisplayList = function(e) {
        this._displayListLen = 0;
        for (var r = this._roots, i = this._displayList, n = 0, a = r.length; n < a; n++)
            this._updateAndAddDisplayable(r[n], null, e);
        i.length = this._displayListLen,
        uo(i, Lf)
    }
    ,
    t.prototype._updateAndAddDisplayable = function(e, r, i) {
        if (!(e.ignore && !i)) {
            e.beforeUpdate(),
            e.update(),
            e.afterUpdate();
            var n = e.getClipPath();
            if (e.ignoreClip)
                r = null;
            else if (n) {
                r ? r = r.slice() : r = [];
                for (var a = n, o = e; a; )
                    a.parent = o,
                    a.updateTransform(),
                    r.push(a),
                    o = a,
                    a = a.getClipPath()
            }
            if (e.childrenRef) {
                for (var s = e.childrenRef(), l = 0; l < s.length; l++) {
                    var u = s[l];
                    e.__dirty && (u.__dirty |= at),
                    this._updateAndAddDisplayable(u, r, i)
                }
                e.__dirty = 0
            } else {
                var h = e;
                r && r.length ? h.__clipPaths = r : h.__clipPaths && h.__clipPaths.length > 0 && (h.__clipPaths = []),
                isNaN(h.z) && (Ps(),
                h.z = 0),
                isNaN(h.z2) && (Ps(),
                h.z2 = 0),
                isNaN(h.zlevel) && (Ps(),
                h.zlevel = 0),
                this._displayList[this._displayListLen++] = h
            }
            var f = e.getDecalElement && e.getDecalElement();
            f && this._updateAndAddDisplayable(f, r, i);
            var c = e.getTextGuideLine();
            c && this._updateAndAddDisplayable(c, r, i);
            var v = e.getTextContent();
            v && this._updateAndAddDisplayable(v, r, i)
        }
    }
    ,
    t.prototype.addRoot = function(e) {
        e.__zr && e.__zr.storage === this || this._roots.push(e)
    }
    ,
    t.prototype.delRoot = function(e) {
        if (e instanceof Array) {
            for (var r = 0, i = e.length; r < i; r++)
                this.delRoot(e[r]);
            return
        }
        var n = pe(this._roots, e);
        n >= 0 && this._roots.splice(n, 1)
    }
    ,
    t.prototype.delAllRoots = function() {
        this._roots = [],
        this._displayList = [],
        this._displayListLen = 0
    }
    ,
    t.prototype.getRoots = function() {
        return this._roots
    }
    ,
    t.prototype.dispose = function() {
        this._displayList = null,
        this._roots = null
    }
    ,
    t
}(), u2 = l2, Mp;
Mp = ae.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(t) {
    return setTimeout(t, 16)
}
;
var ru = Mp
  , ho = {
    linear: function(t) {
        return t
    },
    quadraticIn: function(t) {
        return t * t
    },
    quadraticOut: function(t) {
        return t * (2 - t)
    },
    quadraticInOut: function(t) {
        return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
    },
    cubicIn: function(t) {
        return t * t * t
    },
    cubicOut: function(t) {
        return --t * t * t + 1
    },
    cubicInOut: function(t) {
        return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
    },
    quarticIn: function(t) {
        return t * t * t * t
    },
    quarticOut: function(t) {
        return 1 - --t * t * t * t
    },
    quarticInOut: function(t) {
        return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
    },
    quinticIn: function(t) {
        return t * t * t * t * t
    },
    quinticOut: function(t) {
        return --t * t * t * t * t + 1
    },
    quinticInOut: function(t) {
        return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
    },
    sinusoidalIn: function(t) {
        return 1 - Math.cos(t * Math.PI / 2)
    },
    sinusoidalOut: function(t) {
        return Math.sin(t * Math.PI / 2)
    },
    sinusoidalInOut: function(t) {
        return .5 * (1 - Math.cos(Math.PI * t))
    },
    exponentialIn: function(t) {
        return t === 0 ? 0 : Math.pow(1024, t - 1)
    },
    exponentialOut: function(t) {
        return t === 1 ? 1 : 1 - Math.pow(2, -10 * t)
    },
    exponentialInOut: function(t) {
        return t === 0 ? 0 : t === 1 ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (-Math.pow(2, -10 * (t - 1)) + 2)
    },
    circularIn: function(t) {
        return 1 - Math.sqrt(1 - t * t)
    },
    circularOut: function(t) {
        return Math.sqrt(1 - --t * t)
    },
    circularInOut: function(t) {
        return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
    },
    elasticIn: function(t) {
        var e, r = .1, i = .4;
        return t === 0 ? 0 : t === 1 ? 1 : (!r || r < 1 ? (r = 1,
        e = i / 4) : e = i * Math.asin(1 / r) / (2 * Math.PI),
        -(r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i)))
    },
    elasticOut: function(t) {
        var e, r = .1, i = .4;
        return t === 0 ? 0 : t === 1 ? 1 : (!r || r < 1 ? (r = 1,
        e = i / 4) : e = i * Math.asin(1 / r) / (2 * Math.PI),
        r * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / i) + 1)
    },
    elasticInOut: function(t) {
        var e, r = .1, i = .4;
        return t === 0 ? 0 : t === 1 ? 1 : (!r || r < 1 ? (r = 1,
        e = i / 4) : e = i * Math.asin(1 / r) / (2 * Math.PI),
        (t *= 2) < 1 ? -.5 * (r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i)) : r * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i) * .5 + 1)
    },
    backIn: function(t) {
        var e = 1.70158;
        return t * t * ((e + 1) * t - e)
    },
    backOut: function(t) {
        var e = 1.70158;
        return --t * t * ((e + 1) * t + e) + 1
    },
    backInOut: function(t) {
        var e = 2.5949095;
        return (t *= 2) < 1 ? .5 * (t * t * ((e + 1) * t - e)) : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
    },
    bounceIn: function(t) {
        return 1 - ho.bounceOut(1 - t)
    },
    bounceOut: function(t) {
        return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
    },
    bounceInOut: function(t) {
        return t < .5 ? ho.bounceIn(t * 2) * .5 : ho.bounceOut(t * 2 - 1) * .5 + .5
    }
}
  , Dp = ho
  , ba = Math.pow
  , pr = Math.sqrt
  , Mo = 1e-8
  , Ap = 1e-4
  , Pf = pr(3)
  , Ca = 1 / 3
  , Bt = Zi()
  , dt = Zi()
  , Fi = Zi();
function vr(t) {
    return t > -Mo && t < Mo
}
function Ip(t) {
    return t > Mo || t < -Mo
}
function Ae(t, e, r, i, n) {
    var a = 1 - n;
    return a * a * (a * t + 3 * n * e) + n * n * (n * i + 3 * a * r)
}
function Ef(t, e, r, i, n) {
    var a = 1 - n;
    return 3 * (((e - t) * a + 2 * (r - e) * n) * a + (i - r) * n * n)
}
function Do(t, e, r, i, n, a) {
    var o = i + 3 * (e - r) - t
      , s = 3 * (r - e * 2 + t)
      , l = 3 * (e - t)
      , u = t - n
      , h = s * s - 3 * o * l
      , f = s * l - 9 * o * u
      , c = l * l - 3 * s * u
      , v = 0;
    if (vr(h) && vr(f))
        if (vr(s))
            a[0] = 0;
        else {
            var d = -l / s;
            d >= 0 && d <= 1 && (a[v++] = d)
        }
    else {
        var m = f * f - 4 * h * c;
        if (vr(m)) {
            var p = f / h
              , d = -s / o + p
              , g = -p / 2;
            d >= 0 && d <= 1 && (a[v++] = d),
            g >= 0 && g <= 1 && (a[v++] = g)
        } else if (m > 0) {
            var y = pr(m)
              , _ = h * s + 1.5 * o * (-f + y)
              , w = h * s + 1.5 * o * (-f - y);
            _ < 0 ? _ = -ba(-_, Ca) : _ = ba(_, Ca),
            w < 0 ? w = -ba(-w, Ca) : w = ba(w, Ca);
            var d = (-s - (_ + w)) / (3 * o);
            d >= 0 && d <= 1 && (a[v++] = d)
        } else {
            var b = (2 * h * s - 3 * o * f) / (2 * pr(h * h * h))
              , S = Math.acos(b) / 3
              , C = pr(h)
              , T = Math.cos(S)
              , d = (-s - 2 * C * T) / (3 * o)
              , g = (-s + C * (T + Pf * Math.sin(S))) / (3 * o)
              , x = (-s + C * (T - Pf * Math.sin(S))) / (3 * o);
            d >= 0 && d <= 1 && (a[v++] = d),
            g >= 0 && g <= 1 && (a[v++] = g),
            x >= 0 && x <= 1 && (a[v++] = x)
        }
    }
    return v
}
function kp(t, e, r, i, n) {
    var a = 6 * r - 12 * e + 6 * t
      , o = 9 * e + 3 * i - 3 * t - 9 * r
      , s = 3 * e - 3 * t
      , l = 0;
    if (vr(o)) {
        if (Ip(a)) {
            var u = -s / a;
            u >= 0 && u <= 1 && (n[l++] = u)
        }
    } else {
        var h = a * a - 4 * o * s;
        if (vr(h))
            n[0] = -a / (2 * o);
        else if (h > 0) {
            var f = pr(h)
              , u = (-a + f) / (2 * o)
              , c = (-a - f) / (2 * o);
            u >= 0 && u <= 1 && (n[l++] = u),
            c >= 0 && c <= 1 && (n[l++] = c)
        }
    }
    return l
}
function Ao(t, e, r, i, n, a) {
    var o = (e - t) * n + t
      , s = (r - e) * n + e
      , l = (i - r) * n + r
      , u = (s - o) * n + o
      , h = (l - s) * n + s
      , f = (h - u) * n + u;
    a[0] = t,
    a[1] = o,
    a[2] = u,
    a[3] = f,
    a[4] = f,
    a[5] = h,
    a[6] = l,
    a[7] = i
}
function h2(t, e, r, i, n, a, o, s, l, u, h) {
    var f, c = .005, v = 1 / 0, d, m, p, g;
    Bt[0] = l,
    Bt[1] = u;
    for (var y = 0; y < 1; y += .05)
        dt[0] = Ae(t, r, n, o, y),
        dt[1] = Ae(e, i, a, s, y),
        p = Oi(Bt, dt),
        p < v && (f = y,
        v = p);
    v = 1 / 0;
    for (var _ = 0; _ < 32 && !(c < Ap); _++)
        d = f - c,
        m = f + c,
        dt[0] = Ae(t, r, n, o, d),
        dt[1] = Ae(e, i, a, s, d),
        p = Oi(dt, Bt),
        d >= 0 && p < v ? (f = d,
        v = p) : (Fi[0] = Ae(t, r, n, o, m),
        Fi[1] = Ae(e, i, a, s, m),
        g = Oi(Fi, Bt),
        m <= 1 && g < v ? (f = m,
        v = g) : c *= .5);
    return h && (h[0] = Ae(t, r, n, o, f),
    h[1] = Ae(e, i, a, s, f)),
    pr(v)
}
function f2(t, e, r, i, n, a, o, s, l) {
    for (var u = t, h = e, f = 0, c = 1 / l, v = 1; v <= l; v++) {
        var d = v * c
          , m = Ae(t, r, n, o, d)
          , p = Ae(e, i, a, s, d)
          , g = m - u
          , y = p - h;
        f += Math.sqrt(g * g + y * y),
        u = m,
        h = p
    }
    return f
}
function ze(t, e, r, i) {
    var n = 1 - i;
    return n * (n * t + 2 * i * e) + i * i * r
}
function Rf(t, e, r, i) {
    return 2 * ((1 - i) * (e - t) + i * (r - e))
}
function c2(t, e, r, i, n) {
    var a = t - 2 * e + r
      , o = 2 * (e - t)
      , s = t - i
      , l = 0;
    if (vr(a)) {
        if (Ip(o)) {
            var u = -s / o;
            u >= 0 && u <= 1 && (n[l++] = u)
        }
    } else {
        var h = o * o - 4 * a * s;
        if (vr(h)) {
            var u = -o / (2 * a);
            u >= 0 && u <= 1 && (n[l++] = u)
        } else if (h > 0) {
            var f = pr(h)
              , u = (-o + f) / (2 * a)
              , c = (-o - f) / (2 * a);
            u >= 0 && u <= 1 && (n[l++] = u),
            c >= 0 && c <= 1 && (n[l++] = c)
        }
    }
    return l
}
function Lp(t, e, r) {
    var i = t + r - 2 * e;
    return i === 0 ? .5 : (t - e) / i
}
function Io(t, e, r, i, n) {
    var a = (e - t) * i + t
      , o = (r - e) * i + e
      , s = (o - a) * i + a;
    n[0] = t,
    n[1] = a,
    n[2] = s,
    n[3] = s,
    n[4] = o,
    n[5] = r
}
function v2(t, e, r, i, n, a, o, s, l) {
    var u, h = .005, f = 1 / 0;
    Bt[0] = o,
    Bt[1] = s;
    for (var c = 0; c < 1; c += .05) {
        dt[0] = ze(t, r, n, c),
        dt[1] = ze(e, i, a, c);
        var v = Oi(Bt, dt);
        v < f && (u = c,
        f = v)
    }
    f = 1 / 0;
    for (var d = 0; d < 32 && !(h < Ap); d++) {
        var m = u - h
          , p = u + h;
        dt[0] = ze(t, r, n, m),
        dt[1] = ze(e, i, a, m);
        var v = Oi(dt, Bt);
        if (m >= 0 && v < f)
            u = m,
            f = v;
        else {
            Fi[0] = ze(t, r, n, p),
            Fi[1] = ze(e, i, a, p);
            var g = Oi(Fi, Bt);
            p <= 1 && g < f ? (u = p,
            f = g) : h *= .5
        }
    }
    return l && (l[0] = ze(t, r, n, u),
    l[1] = ze(e, i, a, u)),
    pr(f)
}
function d2(t, e, r, i, n, a, o) {
    for (var s = t, l = e, u = 0, h = 1 / o, f = 1; f <= o; f++) {
        var c = f * h
          , v = ze(t, r, n, c)
          , d = ze(e, i, a, c)
          , m = v - s
          , p = d - l;
        u += Math.sqrt(m * m + p * p),
        s = v,
        l = d
    }
    return u
}
var p2 = /cubic-bezier\(([0-9,\.e ]+)\)/;
function Pp(t) {
    var e = t && p2.exec(t);
    if (e) {
        var r = e[1].split(",")
          , i = +Nt(r[0])
          , n = +Nt(r[1])
          , a = +Nt(r[2])
          , o = +Nt(r[3]);
        if (isNaN(i + n + a + o))
            return;
        var s = [];
        return function(l) {
            return l <= 0 ? 0 : l >= 1 ? 1 : Do(0, i, a, 1, l, s) && Ae(0, n, o, 1, s[0])
        }
    }
}
var g2 = function() {
    function t(e) {
        this._inited = !1,
        this._startTime = 0,
        this._pausedTime = 0,
        this._paused = !1,
        this._life = e.life || 1e3,
        this._delay = e.delay || 0,
        this.loop = e.loop || !1,
        this.onframe = e.onframe || Qe,
        this.ondestroy = e.ondestroy || Qe,
        this.onrestart = e.onrestart || Qe,
        e.easing && this.setEasing(e.easing)
    }
    return t.prototype.step = function(e, r) {
        if (this._inited || (this._startTime = e + this._delay,
        this._inited = !0),
        this._paused) {
            this._pausedTime += r;
            return
        }
        var i = this._life
          , n = e - this._startTime - this._pausedTime
          , a = n / i;
        a < 0 && (a = 0),
        a = Math.min(a, 1);
        var o = this.easingFunc
          , s = o ? o(a) : a;
        if (this.onframe(s),
        a === 1)
            if (this.loop) {
                var l = n % i;
                this._startTime = e - l,
                this._pausedTime = 0,
                this.onrestart()
            } else
                return !0;
        return !1
    }
    ,
    t.prototype.pause = function() {
        this._paused = !0
    }
    ,
    t.prototype.resume = function() {
        this._paused = !1
    }
    ,
    t.prototype.setEasing = function(e) {
        this.easing = e,
        this.easingFunc = ne(e) ? e : Dp[e] || Pp(e)
    }
    ,
    t
}()
  , m2 = g2
  , Ep = function() {
    function t(e) {
        this.value = e
    }
    return t
}()
  , y2 = function() {
    function t() {
        this._len = 0
    }
    return t.prototype.insert = function(e) {
        var r = new Ep(e);
        return this.insertEntry(r),
        r
    }
    ,
    t.prototype.insertEntry = function(e) {
        this.head ? (this.tail.next = e,
        e.prev = this.tail,
        e.next = null,
        this.tail = e) : this.head = this.tail = e,
        this._len++
    }
    ,
    t.prototype.remove = function(e) {
        var r = e.prev
          , i = e.next;
        r ? r.next = i : this.head = i,
        i ? i.prev = r : this.tail = r,
        e.next = e.prev = null,
        this._len--
    }
    ,
    t.prototype.len = function() {
        return this._len
    }
    ,
    t.prototype.clear = function() {
        this.head = this.tail = null,
        this._len = 0
    }
    ,
    t
}()
  , _2 = function() {
    function t(e) {
        this._list = new y2,
        this._maxSize = 10,
        this._map = {},
        this._maxSize = e
    }
    return t.prototype.put = function(e, r) {
        var i = this._list
          , n = this._map
          , a = null;
        if (n[e] == null) {
            var o = i.len()
              , s = this._lastRemovedEntry;
            if (o >= this._maxSize && o > 0) {
                var l = i.head;
                i.remove(l),
                delete n[l.key],
                a = l.value,
                this._lastRemovedEntry = l
            }
            s ? s.value = r : s = new Ep(r),
            s.key = e,
            i.insertEntry(s),
            n[e] = s
        }
        return a
    }
    ,
    t.prototype.get = function(e) {
        var r = this._map[e]
          , i = this._list;
        if (r != null)
            return r !== i.tail && (i.remove(r),
            i.insertEntry(r)),
            r.value
    }
    ,
    t.prototype.clear = function() {
        this._list.clear(),
        this._map = {}
    }
    ,
    t.prototype.len = function() {
        return this._list.len()
    }
    ,
    t
}()
  , ha = _2
  , Of = {
    transparent: [0, 0, 0, 0],
    aliceblue: [240, 248, 255, 1],
    antiquewhite: [250, 235, 215, 1],
    aqua: [0, 255, 255, 1],
    aquamarine: [127, 255, 212, 1],
    azure: [240, 255, 255, 1],
    beige: [245, 245, 220, 1],
    bisque: [255, 228, 196, 1],
    black: [0, 0, 0, 1],
    blanchedalmond: [255, 235, 205, 1],
    blue: [0, 0, 255, 1],
    blueviolet: [138, 43, 226, 1],
    brown: [165, 42, 42, 1],
    burlywood: [222, 184, 135, 1],
    cadetblue: [95, 158, 160, 1],
    chartreuse: [127, 255, 0, 1],
    chocolate: [210, 105, 30, 1],
    coral: [255, 127, 80, 1],
    cornflowerblue: [100, 149, 237, 1],
    cornsilk: [255, 248, 220, 1],
    crimson: [220, 20, 60, 1],
    cyan: [0, 255, 255, 1],
    darkblue: [0, 0, 139, 1],
    darkcyan: [0, 139, 139, 1],
    darkgoldenrod: [184, 134, 11, 1],
    darkgray: [169, 169, 169, 1],
    darkgreen: [0, 100, 0, 1],
    darkgrey: [169, 169, 169, 1],
    darkkhaki: [189, 183, 107, 1],
    darkmagenta: [139, 0, 139, 1],
    darkolivegreen: [85, 107, 47, 1],
    darkorange: [255, 140, 0, 1],
    darkorchid: [153, 50, 204, 1],
    darkred: [139, 0, 0, 1],
    darksalmon: [233, 150, 122, 1],
    darkseagreen: [143, 188, 143, 1],
    darkslateblue: [72, 61, 139, 1],
    darkslategray: [47, 79, 79, 1],
    darkslategrey: [47, 79, 79, 1],
    darkturquoise: [0, 206, 209, 1],
    darkviolet: [148, 0, 211, 1],
    deeppink: [255, 20, 147, 1],
    deepskyblue: [0, 191, 255, 1],
    dimgray: [105, 105, 105, 1],
    dimgrey: [105, 105, 105, 1],
    dodgerblue: [30, 144, 255, 1],
    firebrick: [178, 34, 34, 1],
    floralwhite: [255, 250, 240, 1],
    forestgreen: [34, 139, 34, 1],
    fuchsia: [255, 0, 255, 1],
    gainsboro: [220, 220, 220, 1],
    ghostwhite: [248, 248, 255, 1],
    gold: [255, 215, 0, 1],
    goldenrod: [218, 165, 32, 1],
    gray: [128, 128, 128, 1],
    green: [0, 128, 0, 1],
    greenyellow: [173, 255, 47, 1],
    grey: [128, 128, 128, 1],
    honeydew: [240, 255, 240, 1],
    hotpink: [255, 105, 180, 1],
    indianred: [205, 92, 92, 1],
    indigo: [75, 0, 130, 1],
    ivory: [255, 255, 240, 1],
    khaki: [240, 230, 140, 1],
    lavender: [230, 230, 250, 1],
    lavenderblush: [255, 240, 245, 1],
    lawngreen: [124, 252, 0, 1],
    lemonchiffon: [255, 250, 205, 1],
    lightblue: [173, 216, 230, 1],
    lightcoral: [240, 128, 128, 1],
    lightcyan: [224, 255, 255, 1],
    lightgoldenrodyellow: [250, 250, 210, 1],
    lightgray: [211, 211, 211, 1],
    lightgreen: [144, 238, 144, 1],
    lightgrey: [211, 211, 211, 1],
    lightpink: [255, 182, 193, 1],
    lightsalmon: [255, 160, 122, 1],
    lightseagreen: [32, 178, 170, 1],
    lightskyblue: [135, 206, 250, 1],
    lightslategray: [119, 136, 153, 1],
    lightslategrey: [119, 136, 153, 1],
    lightsteelblue: [176, 196, 222, 1],
    lightyellow: [255, 255, 224, 1],
    lime: [0, 255, 0, 1],
    limegreen: [50, 205, 50, 1],
    linen: [250, 240, 230, 1],
    magenta: [255, 0, 255, 1],
    maroon: [128, 0, 0, 1],
    mediumaquamarine: [102, 205, 170, 1],
    mediumblue: [0, 0, 205, 1],
    mediumorchid: [186, 85, 211, 1],
    mediumpurple: [147, 112, 219, 1],
    mediumseagreen: [60, 179, 113, 1],
    mediumslateblue: [123, 104, 238, 1],
    mediumspringgreen: [0, 250, 154, 1],
    mediumturquoise: [72, 209, 204, 1],
    mediumvioletred: [199, 21, 133, 1],
    midnightblue: [25, 25, 112, 1],
    mintcream: [245, 255, 250, 1],
    mistyrose: [255, 228, 225, 1],
    moccasin: [255, 228, 181, 1],
    navajowhite: [255, 222, 173, 1],
    navy: [0, 0, 128, 1],
    oldlace: [253, 245, 230, 1],
    olive: [128, 128, 0, 1],
    olivedrab: [107, 142, 35, 1],
    orange: [255, 165, 0, 1],
    orangered: [255, 69, 0, 1],
    orchid: [218, 112, 214, 1],
    palegoldenrod: [238, 232, 170, 1],
    palegreen: [152, 251, 152, 1],
    paleturquoise: [175, 238, 238, 1],
    palevioletred: [219, 112, 147, 1],
    papayawhip: [255, 239, 213, 1],
    peachpuff: [255, 218, 185, 1],
    peru: [205, 133, 63, 1],
    pink: [255, 192, 203, 1],
    plum: [221, 160, 221, 1],
    powderblue: [176, 224, 230, 1],
    purple: [128, 0, 128, 1],
    red: [255, 0, 0, 1],
    rosybrown: [188, 143, 143, 1],
    royalblue: [65, 105, 225, 1],
    saddlebrown: [139, 69, 19, 1],
    salmon: [250, 128, 114, 1],
    sandybrown: [244, 164, 96, 1],
    seagreen: [46, 139, 87, 1],
    seashell: [255, 245, 238, 1],
    sienna: [160, 82, 45, 1],
    silver: [192, 192, 192, 1],
    skyblue: [135, 206, 235, 1],
    slateblue: [106, 90, 205, 1],
    slategray: [112, 128, 144, 1],
    slategrey: [112, 128, 144, 1],
    snow: [255, 250, 250, 1],
    springgreen: [0, 255, 127, 1],
    steelblue: [70, 130, 180, 1],
    tan: [210, 180, 140, 1],
    teal: [0, 128, 128, 1],
    thistle: [216, 191, 216, 1],
    tomato: [255, 99, 71, 1],
    turquoise: [64, 224, 208, 1],
    violet: [238, 130, 238, 1],
    wheat: [245, 222, 179, 1],
    white: [255, 255, 255, 1],
    whitesmoke: [245, 245, 245, 1],
    yellow: [255, 255, 0, 1],
    yellowgreen: [154, 205, 50, 1]
};
function gr(t) {
    return t = Math.round(t),
    t < 0 ? 0 : t > 255 ? 255 : t
}
function iu(t) {
    return t < 0 ? 0 : t > 1 ? 1 : t
}
function Es(t) {
    var e = t;
    return e.length && e.charAt(e.length - 1) === "%" ? gr(parseFloat(e) / 100 * 255) : gr(parseInt(e, 10))
}
function On(t) {
    var e = t;
    return e.length && e.charAt(e.length - 1) === "%" ? iu(parseFloat(e) / 100) : iu(parseFloat(e))
}
function Rs(t, e, r) {
    return r < 0 ? r += 1 : r > 1 && (r -= 1),
    r * 6 < 1 ? t + (e - t) * r * 6 : r * 2 < 1 ? e : r * 3 < 2 ? t + (e - t) * (2 / 3 - r) * 6 : t
}
function xa(t, e, r) {
    return t + (e - t) * r
}
function ht(t, e, r, i, n) {
    return t[0] = e,
    t[1] = r,
    t[2] = i,
    t[3] = n,
    t
}
function nu(t, e) {
    return t[0] = e[0],
    t[1] = e[1],
    t[2] = e[2],
    t[3] = e[3],
    t
}
var Rp = new ha(20)
  , Ta = null;
function pi(t, e) {
    Ta && nu(Ta, e),
    Ta = Rp.put(t, Ta || e.slice())
}
function mr(t, e) {
    if (!!t) {
        e = e || [];
        var r = Rp.get(t);
        if (r)
            return nu(e, r);
        t = t + "";
        var i = t.replace(/ /g, "").toLowerCase();
        if (i in Of)
            return nu(e, Of[i]),
            pi(t, e),
            e;
        var n = i.length;
        if (i.charAt(0) === "#") {
            if (n === 4 || n === 5) {
                var a = parseInt(i.slice(1, 4), 16);
                if (!(a >= 0 && a <= 4095)) {
                    ht(e, 0, 0, 0, 1);
                    return
                }
                return ht(e, (a & 3840) >> 4 | (a & 3840) >> 8, a & 240 | (a & 240) >> 4, a & 15 | (a & 15) << 4, n === 5 ? parseInt(i.slice(4), 16) / 15 : 1),
                pi(t, e),
                e
            } else if (n === 7 || n === 9) {
                var a = parseInt(i.slice(1, 7), 16);
                if (!(a >= 0 && a <= 16777215)) {
                    ht(e, 0, 0, 0, 1);
                    return
                }
                return ht(e, (a & 16711680) >> 16, (a & 65280) >> 8, a & 255, n === 9 ? parseInt(i.slice(7), 16) / 255 : 1),
                pi(t, e),
                e
            }
            return
        }
        var o = i.indexOf("(")
          , s = i.indexOf(")");
        if (o !== -1 && s + 1 === n) {
            var l = i.substr(0, o)
              , u = i.substr(o + 1, s - (o + 1)).split(",")
              , h = 1;
            switch (l) {
            case "rgba":
                if (u.length !== 4)
                    return u.length === 3 ? ht(e, +u[0], +u[1], +u[2], 1) : ht(e, 0, 0, 0, 1);
                h = On(u.pop());
            case "rgb":
                if (u.length >= 3)
                    return ht(e, Es(u[0]), Es(u[1]), Es(u[2]), u.length === 3 ? h : On(u[3])),
                    pi(t, e),
                    e;
                ht(e, 0, 0, 0, 1);
                return;
            case "hsla":
                if (u.length !== 4) {
                    ht(e, 0, 0, 0, 1);
                    return
                }
                return u[3] = On(u[3]),
                Bf(u, e),
                pi(t, e),
                e;
            case "hsl":
                if (u.length !== 3) {
                    ht(e, 0, 0, 0, 1);
                    return
                }
                return Bf(u, e),
                pi(t, e),
                e;
            default:
                return
            }
        }
        ht(e, 0, 0, 0, 1)
    }
}
function Bf(t, e) {
    var r = (parseFloat(t[0]) % 360 + 360) % 360 / 360
      , i = On(t[1])
      , n = On(t[2])
      , a = n <= .5 ? n * (i + 1) : n + i - n * i
      , o = n * 2 - a;
    return e = e || [],
    ht(e, gr(Rs(o, a, r + 1 / 3) * 255), gr(Rs(o, a, r) * 255), gr(Rs(o, a, r - 1 / 3) * 255), 1),
    t.length === 4 && (e[3] = t[3]),
    e
}
function Nf(t, e) {
    var r = mr(t);
    if (r) {
        for (var i = 0; i < 3; i++)
            e < 0 ? r[i] = r[i] * (1 - e) | 0 : r[i] = (255 - r[i]) * e + r[i] | 0,
            r[i] > 255 ? r[i] = 255 : r[i] < 0 && (r[i] = 0);
        return oh(r, r.length === 4 ? "rgba" : "rgb")
    }
}
function w2(t, e, r) {
    if (!(!(e && e.length) || !(t >= 0 && t <= 1))) {
        var i = t * (e.length - 1)
          , n = Math.floor(i)
          , a = Math.ceil(i)
          , o = mr(e[n])
          , s = mr(e[a])
          , l = i - n
          , u = oh([gr(xa(o[0], s[0], l)), gr(xa(o[1], s[1], l)), gr(xa(o[2], s[2], l)), iu(xa(o[3], s[3], l))], "rgba");
        return r ? {
            color: u,
            leftIndex: n,
            rightIndex: a,
            value: i
        } : u
    }
}
function oh(t, e) {
    if (!(!t || !t.length)) {
        var r = t[0] + "," + t[1] + "," + t[2];
        return (e === "rgba" || e === "hsva" || e === "hsla") && (r += "," + t[3]),
        e + "(" + r + ")"
    }
}
function ko(t, e) {
    var r = mr(t);
    return r ? (.299 * r[0] + .587 * r[1] + .114 * r[2]) * r[3] / 255 + (1 - r[3]) * e : 0
}
var Ff = new ha(100);
function zf(t) {
    if (Q(t)) {
        var e = Ff.get(t);
        return e || (e = Nf(t, -.1),
        Ff.put(t, e)),
        e
    } else if (Zo(t)) {
        var r = G({}, t);
        return r.colorStops = ee(t.colorStops, function(i) {
            return {
                offset: i.offset,
                color: Nf(i.color, -.1)
            }
        }),
        r
    }
    return t
}
function S2(t) {
    return t.type === "linear"
}
function b2(t) {
    return t.type === "radial"
}
(function() {
    return ae.hasGlobalWindow && ne(window.btoa) ? function(t) {
        return window.btoa(unescape(encodeURIComponent(t)))
    }
    : typeof Buffer != "undefined" ? function(t) {
        return Buffer.from(t).toString("base64")
    }
    : function(t) {
        return null
    }
}
)();
var au = Array.prototype.slice;
function $t(t, e, r) {
    return (e - t) * r + t
}
function Os(t, e, r, i) {
    for (var n = e.length, a = 0; a < n; a++)
        t[a] = $t(e[a], r[a], i);
    return t
}
function C2(t, e, r, i) {
    for (var n = e.length, a = n && e[0].length, o = 0; o < n; o++) {
        t[o] || (t[o] = []);
        for (var s = 0; s < a; s++)
            t[o][s] = $t(e[o][s], r[o][s], i)
    }
    return t
}
function Ma(t, e, r, i) {
    for (var n = e.length, a = 0; a < n; a++)
        t[a] = e[a] + r[a] * i;
    return t
}
function Vf(t, e, r, i) {
    for (var n = e.length, a = n && e[0].length, o = 0; o < n; o++) {
        t[o] || (t[o] = []);
        for (var s = 0; s < a; s++)
            t[o][s] = e[o][s] + r[o][s] * i
    }
    return t
}
function x2(t, e) {
    for (var r = t.length, i = e.length, n = r > i ? e : t, a = Math.min(r, i), o = n[a - 1] || {
        color: [0, 0, 0, 0],
        offset: 0
    }, s = a; s < Math.max(r, i); s++)
        n.push({
            offset: o.offset,
            color: o.color.slice()
        })
}
function T2(t, e, r) {
    var i = t
      , n = e;
    if (!(!i.push || !n.push)) {
        var a = i.length
          , o = n.length;
        if (a !== o) {
            var s = a > o;
            if (s)
                i.length = o;
            else
                for (var l = a; l < o; l++)
                    i.push(r === 1 ? n[l] : au.call(n[l]))
        }
        for (var u = i[0] && i[0].length, l = 0; l < i.length; l++)
            if (r === 1)
                isNaN(i[l]) && (i[l] = n[l]);
            else
                for (var h = 0; h < u; h++)
                    isNaN(i[l][h]) && (i[l][h] = n[l][h])
    }
}
function fo(t) {
    if (et(t)) {
        var e = t.length;
        if (et(t[0])) {
            for (var r = [], i = 0; i < e; i++)
                r.push(au.call(t[i]));
            return r
        }
        return au.call(t)
    }
    return t
}
function co(t) {
    return t[0] = Math.floor(t[0]) || 0,
    t[1] = Math.floor(t[1]) || 0,
    t[2] = Math.floor(t[2]) || 0,
    t[3] = t[3] == null ? 1 : t[3],
    "rgba(" + t.join(",") + ")"
}
function M2(t) {
    return et(t && t[0]) ? 2 : 1
}
var Da = 0
  , vo = 1
  , Op = 2
  , An = 3
  , ou = 4
  , su = 5
  , Hf = 6;
function Gf(t) {
    return t === ou || t === su
}
function Aa(t) {
    return t === vo || t === Op
}
var un = [0, 0, 0, 0]
  , D2 = function() {
    function t(e) {
        this.keyframes = [],
        this.discrete = !1,
        this._invalid = !1,
        this._needsSort = !1,
        this._lastFr = 0,
        this._lastFrP = 0,
        this.propName = e
    }
    return t.prototype.isFinished = function() {
        return this._finished
    }
    ,
    t.prototype.setFinished = function() {
        this._finished = !0,
        this._additiveTrack && this._additiveTrack.setFinished()
    }
    ,
    t.prototype.needsAnimate = function() {
        return this.keyframes.length >= 1
    }
    ,
    t.prototype.getAdditiveTrack = function() {
        return this._additiveTrack
    }
    ,
    t.prototype.addKeyframe = function(e, r, i) {
        this._needsSort = !0;
        var n = this.keyframes
          , a = n.length
          , o = !1
          , s = Hf
          , l = r;
        if (et(r)) {
            var u = M2(r);
            s = u,
            (u === 1 && !be(r[0]) || u === 2 && !be(r[0][0])) && (o = !0)
        } else if (be(r) && !To(r))
            s = Da;
        else if (Q(r))
            if (!isNaN(+r))
                s = Da;
            else {
                var h = mr(r);
                h && (l = h,
                s = An)
            }
        else if (Zo(r)) {
            var f = G({}, l);
            f.colorStops = ee(r.colorStops, function(v) {
                return {
                    offset: v.offset,
                    color: mr(v.color)
                }
            }),
            S2(r) ? s = ou : b2(r) && (s = su),
            l = f
        }
        a === 0 ? this.valType = s : (s !== this.valType || s === Hf) && (o = !0),
        this.discrete = this.discrete || o;
        var c = {
            time: e,
            value: l,
            rawValue: r,
            percent: 0
        };
        return i && (c.easing = i,
        c.easingFunc = ne(i) ? i : Dp[i] || Pp(i)),
        n.push(c),
        c
    }
    ,
    t.prototype.prepare = function(e, r) {
        var i = this.keyframes;
        this._needsSort && i.sort(function(m, p) {
            return m.time - p.time
        });
        for (var n = this.valType, a = i.length, o = i[a - 1], s = this.discrete, l = Aa(n), u = Gf(n), h = 0; h < a; h++) {
            var f = i[h]
              , c = f.value
              , v = o.value;
            f.percent = f.time / e,
            s || (l && h !== a - 1 ? T2(c, v, n) : u && x2(c.colorStops, v.colorStops))
        }
        if (!s && n !== su && r && this.needsAnimate() && r.needsAnimate() && n === r.valType && !r._finished) {
            this._additiveTrack = r;
            for (var d = i[0].value, h = 0; h < a; h++)
                n === Da ? i[h].additiveValue = i[h].value - d : n === An ? i[h].additiveValue = Ma([], i[h].value, d, -1) : Aa(n) && (i[h].additiveValue = n === vo ? Ma([], i[h].value, d, -1) : Vf([], i[h].value, d, -1))
        }
    }
    ,
    t.prototype.step = function(e, r) {
        if (!this._finished) {
            this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
            var i = this._additiveTrack != null, n = i ? "additiveValue" : "value", a = this.valType, o = this.keyframes, s = o.length, l = this.propName, u = a === An, h, f = this._lastFr, c = Math.min, v, d;
            if (s === 1)
                v = d = o[0];
            else {
                if (r < 0)
                    h = 0;
                else if (r < this._lastFrP) {
                    var m = c(f + 1, s - 1);
                    for (h = m; h >= 0 && !(o[h].percent <= r); h--)
                        ;
                    h = c(h, s - 2)
                } else {
                    for (h = f; h < s && !(o[h].percent > r); h++)
                        ;
                    h = c(h - 1, s - 2)
                }
                d = o[h + 1],
                v = o[h]
            }
            if (!!(v && d)) {
                this._lastFr = h,
                this._lastFrP = r;
                var p = d.percent - v.percent
                  , g = p === 0 ? 1 : c((r - v.percent) / p, 1);
                d.easingFunc && (g = d.easingFunc(g));
                var y = i ? this._additiveValue : u ? un : e[l];
                if ((Aa(a) || u) && !y && (y = this._additiveValue = []),
                this.discrete)
                    e[l] = g < 1 ? v.rawValue : d.rawValue;
                else if (Aa(a))
                    a === vo ? Os(y, v[n], d[n], g) : C2(y, v[n], d[n], g);
                else if (Gf(a)) {
                    var _ = v[n]
                      , w = d[n]
                      , b = a === ou;
                    e[l] = {
                        type: b ? "linear" : "radial",
                        x: $t(_.x, w.x, g),
                        y: $t(_.y, w.y, g),
                        colorStops: ee(_.colorStops, function(C, T) {
                            var x = w.colorStops[T];
                            return {
                                offset: $t(C.offset, x.offset, g),
                                color: co(Os([], C.color, x.color, g))
                            }
                        }),
                        global: w.global
                    },
                    b ? (e[l].x2 = $t(_.x2, w.x2, g),
                    e[l].y2 = $t(_.y2, w.y2, g)) : e[l].r = $t(_.r, w.r, g)
                } else if (u)
                    Os(y, v[n], d[n], g),
                    i || (e[l] = co(y));
                else {
                    var S = $t(v[n], d[n], g);
                    i ? this._additiveValue = S : e[l] = S
                }
                i && this._addToTarget(e)
            }
        }
    }
    ,
    t.prototype._addToTarget = function(e) {
        var r = this.valType
          , i = this.propName
          , n = this._additiveValue;
        r === Da ? e[i] = e[i] + n : r === An ? (mr(e[i], un),
        Ma(un, un, n, 1),
        e[i] = co(un)) : r === vo ? Ma(e[i], e[i], n, 1) : r === Op && Vf(e[i], e[i], n, 1)
    }
    ,
    t
}()
  , A2 = function() {
    function t(e, r, i, n) {
        if (this._tracks = {},
        this._trackKeys = [],
        this._maxTime = 0,
        this._started = 0,
        this._clip = null,
        this._target = e,
        this._loop = r,
        r && n) {
            Ju("Can' use additive animation on looped animation.");
            return
        }
        this._additiveAnimators = n,
        this._allowDiscrete = i
    }
    return t.prototype.getMaxTime = function() {
        return this._maxTime
    }
    ,
    t.prototype.getDelay = function() {
        return this._delay
    }
    ,
    t.prototype.getLoop = function() {
        return this._loop
    }
    ,
    t.prototype.getTarget = function() {
        return this._target
    }
    ,
    t.prototype.changeTarget = function(e) {
        this._target = e
    }
    ,
    t.prototype.when = function(e, r, i) {
        return this.whenWithKeys(e, r, Se(r), i)
    }
    ,
    t.prototype.whenWithKeys = function(e, r, i, n) {
        for (var a = this._tracks, o = 0; o < i.length; o++) {
            var s = i[o]
              , l = a[s];
            if (!l) {
                l = a[s] = new D2(s);
                var u = void 0
                  , h = this._getAdditiveTrack(s);
                if (h) {
                    var f = h.keyframes
                      , c = f[f.length - 1];
                    u = c && c.value,
                    h.valType === An && u && (u = co(u))
                } else
                    u = this._target[s];
                if (u == null)
                    continue;
                e > 0 && l.addKeyframe(0, fo(u), n),
                this._trackKeys.push(s)
            }
            l.addKeyframe(e, fo(r[s]), n)
        }
        return this._maxTime = Math.max(this._maxTime, e),
        this
    }
    ,
    t.prototype.pause = function() {
        this._clip.pause(),
        this._paused = !0
    }
    ,
    t.prototype.resume = function() {
        this._clip.resume(),
        this._paused = !1
    }
    ,
    t.prototype.isPaused = function() {
        return !!this._paused
    }
    ,
    t.prototype.duration = function(e) {
        return this._maxTime = e,
        this._force = !0,
        this
    }
    ,
    t.prototype._doneCallback = function() {
        this._setTracksFinished(),
        this._clip = null;
        var e = this._doneCbs;
        if (e)
            for (var r = e.length, i = 0; i < r; i++)
                e[i].call(this)
    }
    ,
    t.prototype._abortedCallback = function() {
        this._setTracksFinished();
        var e = this.animation
          , r = this._abortedCbs;
        if (e && e.removeClip(this._clip),
        this._clip = null,
        r)
            for (var i = 0; i < r.length; i++)
                r[i].call(this)
    }
    ,
    t.prototype._setTracksFinished = function() {
        for (var e = this._tracks, r = this._trackKeys, i = 0; i < r.length; i++)
            e[r[i]].setFinished()
    }
    ,
    t.prototype._getAdditiveTrack = function(e) {
        var r, i = this._additiveAnimators;
        if (i)
            for (var n = 0; n < i.length; n++) {
                var a = i[n].getTrack(e);
                a && (r = a)
            }
        return r
    }
    ,
    t.prototype.start = function(e) {
        if (!(this._started > 0)) {
            this._started = 1;
            for (var r = this, i = [], n = this._maxTime || 0, a = 0; a < this._trackKeys.length; a++) {
                var o = this._trackKeys[a]
                  , s = this._tracks[o]
                  , l = this._getAdditiveTrack(o)
                  , u = s.keyframes
                  , h = u.length;
                if (s.prepare(n, l),
                s.needsAnimate())
                    if (!this._allowDiscrete && s.discrete) {
                        var f = u[h - 1];
                        f && (r._target[s.propName] = f.rawValue),
                        s.setFinished()
                    } else
                        i.push(s)
            }
            if (i.length || this._force) {
                var c = new m2({
                    life: n,
                    loop: this._loop,
                    delay: this._delay || 0,
                    onframe: function(v) {
                        r._started = 2;
                        var d = r._additiveAnimators;
                        if (d) {
                            for (var m = !1, p = 0; p < d.length; p++)
                                if (d[p]._clip) {
                                    m = !0;
                                    break
                                }
                            m || (r._additiveAnimators = null)
                        }
                        for (var p = 0; p < i.length; p++)
                            i[p].step(r._target, v);
                        var g = r._onframeCbs;
                        if (g)
                            for (var p = 0; p < g.length; p++)
                                g[p](r._target, v)
                    },
                    ondestroy: function() {
                        r._doneCallback()
                    }
                });
                this._clip = c,
                this.animation && this.animation.addClip(c),
                e && c.setEasing(e)
            } else
                this._doneCallback();
            return this
        }
    }
    ,
    t.prototype.stop = function(e) {
        if (!!this._clip) {
            var r = this._clip;
            e && r.onframe(1),
            this._abortedCallback()
        }
    }
    ,
    t.prototype.delay = function(e) {
        return this._delay = e,
        this
    }
    ,
    t.prototype.during = function(e) {
        return e && (this._onframeCbs || (this._onframeCbs = []),
        this._onframeCbs.push(e)),
        this
    }
    ,
    t.prototype.done = function(e) {
        return e && (this._doneCbs || (this._doneCbs = []),
        this._doneCbs.push(e)),
        this
    }
    ,
    t.prototype.aborted = function(e) {
        return e && (this._abortedCbs || (this._abortedCbs = []),
        this._abortedCbs.push(e)),
        this
    }
    ,
    t.prototype.getClip = function() {
        return this._clip
    }
    ,
    t.prototype.getTrack = function(e) {
        return this._tracks[e]
    }
    ,
    t.prototype.getTracks = function() {
        var e = this;
        return ee(this._trackKeys, function(r) {
            return e._tracks[r]
        })
    }
    ,
    t.prototype.stopTracks = function(e, r) {
        if (!e.length || !this._clip)
            return !0;
        for (var i = this._tracks, n = this._trackKeys, a = 0; a < e.length; a++) {
            var o = i[e[a]];
            o && !o.isFinished() && (r ? o.step(this._target, 1) : this._started === 1 && o.step(this._target, 0),
            o.setFinished())
        }
        for (var s = !0, a = 0; a < n.length; a++)
            if (!i[n[a]].isFinished()) {
                s = !1;
                break
            }
        return s && this._abortedCallback(),
        s
    }
    ,
    t.prototype.saveTo = function(e, r, i) {
        if (!!e) {
            r = r || this._trackKeys;
            for (var n = 0; n < r.length; n++) {
                var a = r[n]
                  , o = this._tracks[a];
                if (!(!o || o.isFinished())) {
                    var s = o.keyframes
                      , l = s[i ? 0 : s.length - 1];
                    l && (e[a] = fo(l.rawValue))
                }
            }
        }
    }
    ,
    t.prototype.__changeFinalValue = function(e, r) {
        r = r || Se(e);
        for (var i = 0; i < r.length; i++) {
            var n = r[i]
              , a = this._tracks[n];
            if (!!a) {
                var o = a.keyframes;
                if (o.length > 1) {
                    var s = o.pop();
                    a.addKeyframe(s.time, e[n]),
                    a.prepare(this._maxTime, a.getAdditiveTrack())
                }
            }
        }
    }
    ,
    t
}()
  , sh = A2;
function Pi() {
    return new Date().getTime()
}
var I2 = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this) || this;
        return i._running = !1,
        i._time = 0,
        i._pausedTime = 0,
        i._pauseStart = 0,
        i._paused = !1,
        r = r || {},
        i.stage = r.stage || {},
        i
    }
    return e.prototype.addClip = function(r) {
        r.animation && this.removeClip(r),
        this._head ? (this._tail.next = r,
        r.prev = this._tail,
        r.next = null,
        this._tail = r) : this._head = this._tail = r,
        r.animation = this
    }
    ,
    e.prototype.addAnimator = function(r) {
        r.animation = this;
        var i = r.getClip();
        i && this.addClip(i)
    }
    ,
    e.prototype.removeClip = function(r) {
        if (!!r.animation) {
            var i = r.prev
              , n = r.next;
            i ? i.next = n : this._head = n,
            n ? n.prev = i : this._tail = i,
            r.next = r.prev = r.animation = null
        }
    }
    ,
    e.prototype.removeAnimator = function(r) {
        var i = r.getClip();
        i && this.removeClip(i),
        r.animation = null
    }
    ,
    e.prototype.update = function(r) {
        for (var i = Pi() - this._pausedTime, n = i - this._time, a = this._head; a; ) {
            var o = a.next
              , s = a.step(i, n);
            s && (a.ondestroy(),
            this.removeClip(a)),
            a = o
        }
        this._time = i,
        r || (this.trigger("frame", n),
        this.stage.update && this.stage.update())
    }
    ,
    e.prototype._startLoop = function() {
        var r = this;
        this._running = !0;
        function i() {
            r._running && (ru(i),
            !r._paused && r.update())
        }
        ru(i)
    }
    ,
    e.prototype.start = function() {
        this._running || (this._time = Pi(),
        this._pausedTime = 0,
        this._startLoop())
    }
    ,
    e.prototype.stop = function() {
        this._running = !1
    }
    ,
    e.prototype.pause = function() {
        this._paused || (this._pauseStart = Pi(),
        this._paused = !0)
    }
    ,
    e.prototype.resume = function() {
        this._paused && (this._pausedTime += Pi() - this._pauseStart,
        this._paused = !1)
    }
    ,
    e.prototype.clear = function() {
        for (var r = this._head; r; ) {
            var i = r.next;
            r.prev = r.next = r.animation = null,
            r = i
        }
        this._head = this._tail = null
    }
    ,
    e.prototype.isFinished = function() {
        return this._head == null
    }
    ,
    e.prototype.animate = function(r, i) {
        i = i || {},
        this.start();
        var n = new sh(r,i.loop);
        return this.addAnimator(n),
        n
    }
    ,
    e
}(Ht)
  , k2 = I2
  , L2 = 300
  , Bs = ae.domSupported
  , Ns = function() {
    var t = ["click", "dblclick", "mousewheel", "wheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"]
      , e = ["touchstart", "touchend", "touchmove"]
      , r = {
        pointerdown: 1,
        pointerup: 1,
        pointermove: 1,
        pointerout: 1
    }
      , i = ee(t, function(n) {
        var a = n.replace("mouse", "pointer");
        return r.hasOwnProperty(a) ? a : n
    });
    return {
        mouse: t,
        touch: e,
        pointer: i
    }
}()
  , Wf = {
    mouse: ["mousemove", "mouseup"],
    pointer: ["pointermove", "pointerup"]
}
  , Uf = !1;
function lu(t) {
    var e = t.pointerType;
    return e === "pen" || e === "touch"
}
function P2(t) {
    t.touching = !0,
    t.touchTimer != null && (clearTimeout(t.touchTimer),
    t.touchTimer = null),
    t.touchTimer = setTimeout(function() {
        t.touching = !1,
        t.touchTimer = null
    }, 700)
}
function Fs(t) {
    t && (t.zrByTouch = !0)
}
function E2(t, e) {
    return ft(t.dom, new R2(t,e), !0)
}
function Bp(t, e) {
    for (var r = e, i = !1; r && r.nodeType !== 9 && !(i = r.domBelongToZr || r !== e && r === t.painterRoot); )
        r = r.parentNode;
    return i
}
var R2 = function() {
    function t(e, r) {
        this.stopPropagation = Qe,
        this.stopImmediatePropagation = Qe,
        this.preventDefault = Qe,
        this.type = r.type,
        this.target = this.currentTarget = e.dom,
        this.pointerType = r.pointerType,
        this.clientX = r.clientX,
        this.clientY = r.clientY
    }
    return t
}()
  , Tt = {
    mousedown: function(t) {
        t = ft(this.dom, t),
        this.__mayPointerCapture = [t.zrX, t.zrY],
        this.trigger("mousedown", t)
    },
    mousemove: function(t) {
        t = ft(this.dom, t);
        var e = this.__mayPointerCapture;
        e && (t.zrX !== e[0] || t.zrY !== e[1]) && this.__togglePointerCapture(!0),
        this.trigger("mousemove", t)
    },
    mouseup: function(t) {
        t = ft(this.dom, t),
        this.__togglePointerCapture(!1),
        this.trigger("mouseup", t)
    },
    mouseout: function(t) {
        t = ft(this.dom, t);
        var e = t.toElement || t.relatedTarget;
        Bp(this, e) || (this.__pointerCapturing && (t.zrEventControl = "no_globalout"),
        this.trigger("mouseout", t))
    },
    wheel: function(t) {
        Uf = !0,
        t = ft(this.dom, t),
        this.trigger("mousewheel", t)
    },
    mousewheel: function(t) {
        Uf || (t = ft(this.dom, t),
        this.trigger("mousewheel", t))
    },
    touchstart: function(t) {
        t = ft(this.dom, t),
        Fs(t),
        this.__lastTouchMoment = new Date,
        this.handler.processGesture(t, "start"),
        Tt.mousemove.call(this, t),
        Tt.mousedown.call(this, t)
    },
    touchmove: function(t) {
        t = ft(this.dom, t),
        Fs(t),
        this.handler.processGesture(t, "change"),
        Tt.mousemove.call(this, t)
    },
    touchend: function(t) {
        t = ft(this.dom, t),
        Fs(t),
        this.handler.processGesture(t, "end"),
        Tt.mouseup.call(this, t),
        +new Date - +this.__lastTouchMoment < L2 && Tt.click.call(this, t)
    },
    pointerdown: function(t) {
        Tt.mousedown.call(this, t)
    },
    pointermove: function(t) {
        lu(t) || Tt.mousemove.call(this, t)
    },
    pointerup: function(t) {
        Tt.mouseup.call(this, t)
    },
    pointerout: function(t) {
        lu(t) || Tt.mouseout.call(this, t)
    }
};
I(["click", "dblclick", "contextmenu"], function(t) {
    Tt[t] = function(e) {
        e = ft(this.dom, e),
        this.trigger(t, e)
    }
});
var uu = {
    pointermove: function(t) {
        lu(t) || uu.mousemove.call(this, t)
    },
    pointerup: function(t) {
        uu.mouseup.call(this, t)
    },
    mousemove: function(t) {
        this.trigger("mousemove", t)
    },
    mouseup: function(t) {
        var e = this.__pointerCapturing;
        this.__togglePointerCapture(!1),
        this.trigger("mouseup", t),
        e && (t.zrEventControl = "only_globalout",
        this.trigger("mouseout", t))
    }
};
function O2(t, e) {
    var r = e.domHandlers;
    ae.pointerEventsSupported ? I(Ns.pointer, function(i) {
        po(e, i, function(n) {
            r[i].call(t, n)
        })
    }) : (ae.touchEventsSupported && I(Ns.touch, function(i) {
        po(e, i, function(n) {
            r[i].call(t, n),
            P2(e)
        })
    }),
    I(Ns.mouse, function(i) {
        po(e, i, function(n) {
            n = rh(n),
            e.touching || r[i].call(t, n)
        })
    }))
}
function B2(t, e) {
    ae.pointerEventsSupported ? I(Wf.pointer, r) : ae.touchEventsSupported || I(Wf.mouse, r);
    function r(i) {
        function n(a) {
            a = rh(a),
            Bp(t, a.target) || (a = E2(t, a),
            e.domHandlers[i].call(t, a))
        }
        po(e, i, n, {
            capture: !0
        })
    }
}
function po(t, e, r, i) {
    t.mounted[e] = r,
    t.listenerOpts[e] = i,
    $_(t.domTarget, e, r, i)
}
function zs(t) {
    var e = t.mounted;
    for (var r in e)
        e.hasOwnProperty(r) && Y_(t.domTarget, r, e[r], t.listenerOpts[r]);
    t.mounted = {}
}
var $f = function() {
    function t(e, r) {
        this.mounted = {},
        this.listenerOpts = {},
        this.touching = !1,
        this.domTarget = e,
        this.domHandlers = r
    }
    return t
}()
  , N2 = function(t) {
    X(e, t);
    function e(r, i) {
        var n = t.call(this) || this;
        return n.__pointerCapturing = !1,
        n.dom = r,
        n.painterRoot = i,
        n._localHandlerScope = new $f(r,Tt),
        Bs && (n._globalHandlerScope = new $f(document,uu)),
        O2(n, n._localHandlerScope),
        n
    }
    return e.prototype.dispose = function() {
        zs(this._localHandlerScope),
        Bs && zs(this._globalHandlerScope)
    }
    ,
    e.prototype.setCursor = function(r) {
        this.dom.style && (this.dom.style.cursor = r || "default")
    }
    ,
    e.prototype.__togglePointerCapture = function(r) {
        if (this.__mayPointerCapture = null,
        Bs && +this.__pointerCapturing ^ +r) {
            this.__pointerCapturing = r;
            var i = this._globalHandlerScope;
            r ? B2(this, i) : zs(i)
        }
    }
    ,
    e
}(Ht)
  , F2 = N2
  , Np = 1;
ae.hasGlobalWindow && (Np = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var Lo = Np
  , hu = .4
  , fu = "#333"
  , cu = "#ccc"
  , z2 = "#eee"
  , Yf = ih
  , Xf = 5e-5;
function Ir(t) {
    return t > Xf || t < -Xf
}
var kr = []
  , gi = []
  , Vs = Bi()
  , Hs = Math.abs
  , lh = function() {
    function t() {}
    return t.prototype.getLocalTransform = function(e) {
        return t.getLocalTransform(this, e)
    }
    ,
    t.prototype.setPosition = function(e) {
        this.x = e[0],
        this.y = e[1]
    }
    ,
    t.prototype.setScale = function(e) {
        this.scaleX = e[0],
        this.scaleY = e[1]
    }
    ,
    t.prototype.setSkew = function(e) {
        this.skewX = e[0],
        this.skewY = e[1]
    }
    ,
    t.prototype.setOrigin = function(e) {
        this.originX = e[0],
        this.originY = e[1]
    }
    ,
    t.prototype.needLocalTransform = function() {
        return Ir(this.rotation) || Ir(this.x) || Ir(this.y) || Ir(this.scaleX - 1) || Ir(this.scaleY - 1) || Ir(this.skewX) || Ir(this.skewY)
    }
    ,
    t.prototype.updateTransform = function() {
        var e = this.parent && this.parent.transform
          , r = this.needLocalTransform()
          , i = this.transform;
        if (!(r || e)) {
            i && (Yf(i),
            this.invTransform = null);
            return
        }
        i = i || Bi(),
        r ? this.getLocalTransform(i) : Yf(i),
        e && (r ? Ni(i, e, i) : Z_(i, e)),
        this.transform = i,
        this._resolveGlobalScaleRatio(i)
    }
    ,
    t.prototype._resolveGlobalScaleRatio = function(e) {
        var r = this.globalScaleRatio;
        if (r != null && r !== 1) {
            this.getGlobalScale(kr);
            var i = kr[0] < 0 ? -1 : 1
              , n = kr[1] < 0 ? -1 : 1
              , a = ((kr[0] - i) * r + i) / kr[0] || 0
              , o = ((kr[1] - n) * r + n) / kr[1] || 0;
            e[0] *= a,
            e[1] *= a,
            e[2] *= o,
            e[3] *= o
        }
        this.invTransform = this.invTransform || Bi(),
        ah(this.invTransform, e)
    }
    ,
    t.prototype.getComputedTransform = function() {
        for (var e = this, r = []; e; )
            r.push(e),
            e = e.parent;
        for (; e = r.pop(); )
            e.updateTransform();
        return this.transform
    }
    ,
    t.prototype.setLocalTransform = function(e) {
        if (!!e) {
            var r = e[0] * e[0] + e[1] * e[1]
              , i = e[2] * e[2] + e[3] * e[3]
              , n = Math.atan2(e[1], e[0])
              , a = Math.PI / 2 + n - Math.atan2(e[3], e[2]);
            i = Math.sqrt(i) * Math.cos(a),
            r = Math.sqrt(r),
            this.skewX = a,
            this.skewY = 0,
            this.rotation = -n,
            this.x = +e[4],
            this.y = +e[5],
            this.scaleX = r,
            this.scaleY = i,
            this.originX = 0,
            this.originY = 0
        }
    }
    ,
    t.prototype.decomposeTransform = function() {
        if (!!this.transform) {
            var e = this.parent
              , r = this.transform;
            e && e.transform && (e.invTransform = e.invTransform || Bi(),
            Ni(gi, e.invTransform, r),
            r = gi);
            var i = this.originX
              , n = this.originY;
            (i || n) && (Vs[4] = i,
            Vs[5] = n,
            Ni(gi, r, Vs),
            gi[4] -= i,
            gi[5] -= n,
            r = gi),
            this.setLocalTransform(r)
        }
    }
    ,
    t.prototype.getGlobalScale = function(e) {
        var r = this.transform;
        return e = e || [],
        r ? (e[0] = Math.sqrt(r[0] * r[0] + r[1] * r[1]),
        e[1] = Math.sqrt(r[2] * r[2] + r[3] * r[3]),
        r[0] < 0 && (e[0] = -e[0]),
        r[3] < 0 && (e[1] = -e[1]),
        e) : (e[0] = 1,
        e[1] = 1,
        e)
    }
    ,
    t.prototype.transformCoordToLocal = function(e, r) {
        var i = [e, r]
          , n = this.invTransform;
        return n && yt(i, i, n),
        i
    }
    ,
    t.prototype.transformCoordToGlobal = function(e, r) {
        var i = [e, r]
          , n = this.transform;
        return n && yt(i, i, n),
        i
    }
    ,
    t.prototype.getLineScale = function() {
        var e = this.transform;
        return e && Hs(e[0] - 1) > 1e-10 && Hs(e[3] - 1) > 1e-10 ? Math.sqrt(Hs(e[0] * e[3] - e[2] * e[1])) : 1
    }
    ,
    t.prototype.copyTransform = function(e) {
        V2(this, e)
    }
    ,
    t.getLocalTransform = function(e, r) {
        r = r || [];
        var i = e.originX || 0
          , n = e.originY || 0
          , a = e.scaleX
          , o = e.scaleY
          , s = e.anchorX
          , l = e.anchorY
          , u = e.rotation || 0
          , h = e.x
          , f = e.y
          , c = e.skewX ? Math.tan(e.skewX) : 0
          , v = e.skewY ? Math.tan(-e.skewY) : 0;
        if (i || n || s || l) {
            var d = i + s
              , m = n + l;
            r[4] = -d * a - c * m * o,
            r[5] = -m * o - v * d * a
        } else
            r[4] = r[5] = 0;
        return r[0] = a,
        r[3] = o,
        r[1] = v * a,
        r[2] = c * o,
        u && nh(r, r, u),
        r[4] += i + h,
        r[5] += n + f,
        r
    }
    ,
    t.initDefaultProps = function() {
        var e = t.prototype;
        e.scaleX = e.scaleY = e.globalScaleRatio = 1,
        e.x = e.y = e.originX = e.originY = e.skewX = e.skewY = e.rotation = e.anchorX = e.anchorY = 0
    }(),
    t
}()
  , Xn = ["x", "y", "originX", "originY", "anchorX", "anchorY", "rotation", "scaleX", "scaleY", "skewX", "skewY"];
function V2(t, e) {
    for (var r = 0; r < Xn.length; r++) {
        var i = Xn[r];
        t[i] = e[i]
    }
}
var qf = {};
function ot(t, e) {
    e = e || ri;
    var r = qf[e];
    r || (r = qf[e] = new ha(500));
    var i = r.get(t);
    return i == null && (i = ui.measureText(t, e).width,
    r.put(t, i)),
    i
}
function Zf(t, e, r, i) {
    var n = ot(t, e)
      , a = hh(e)
      , o = In(0, n, r)
      , s = Ii(0, a, i)
      , l = new ce(o,s,n,a);
    return l
}
function uh(t, e, r, i) {
    var n = ((t || "") + "").split(`
`)
      , a = n.length;
    if (a === 1)
        return Zf(n[0], e, r, i);
    for (var o = new ce(0,0,0,0), s = 0; s < n.length; s++) {
        var l = Zf(n[s], e, r, i);
        s === 0 ? o.copy(l) : o.union(l)
    }
    return o
}
function In(t, e, r) {
    return r === "right" ? t -= e : r === "center" && (t -= e / 2),
    t
}
function Ii(t, e, r) {
    return r === "middle" ? t -= e / 2 : r === "bottom" && (t -= e),
    t
}
function hh(t) {
    return ot("\u56FD", t)
}
function ii(t, e) {
    return typeof t == "string" ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t
}
function Fp(t, e, r) {
    var i = e.position || "inside"
      , n = e.distance != null ? e.distance : 5
      , a = r.height
      , o = r.width
      , s = a / 2
      , l = r.x
      , u = r.y
      , h = "left"
      , f = "top";
    if (i instanceof Array)
        l += ii(i[0], r.width),
        u += ii(i[1], r.height),
        h = null,
        f = null;
    else
        switch (i) {
        case "left":
            l -= n,
            u += s,
            h = "right",
            f = "middle";
            break;
        case "right":
            l += n + o,
            u += s,
            f = "middle";
            break;
        case "top":
            l += o / 2,
            u -= n,
            h = "center",
            f = "bottom";
            break;
        case "bottom":
            l += o / 2,
            u += a + n,
            h = "center";
            break;
        case "inside":
            l += o / 2,
            u += s,
            h = "center",
            f = "middle";
            break;
        case "insideLeft":
            l += n,
            u += s,
            f = "middle";
            break;
        case "insideRight":
            l += o - n,
            u += s,
            h = "right",
            f = "middle";
            break;
        case "insideTop":
            l += o / 2,
            u += n,
            h = "center";
            break;
        case "insideBottom":
            l += o / 2,
            u += a - n,
            h = "center",
            f = "bottom";
            break;
        case "insideTopLeft":
            l += n,
            u += n;
            break;
        case "insideTopRight":
            l += o - n,
            u += n,
            h = "right";
            break;
        case "insideBottomLeft":
            l += n,
            u += a - n,
            f = "bottom";
            break;
        case "insideBottomRight":
            l += o - n,
            u += a - n,
            h = "right",
            f = "bottom";
            break
        }
    return t = t || {},
    t.x = l,
    t.y = u,
    t.align = h,
    t.verticalAlign = f,
    t
}
var Gs = "__zr_normal__"
  , Ws = Xn.concat(["ignore"])
  , H2 = qi(Xn, function(t, e) {
    return t[e] = !0,
    t
}, {
    ignore: !1
})
  , mi = {}
  , G2 = new ce(0,0,0,0)
  , fh = function() {
    function t(e) {
        this.id = dp(),
        this.animators = [],
        this.currentStates = [],
        this.states = {},
        this._init(e)
    }
    return t.prototype._init = function(e) {
        this.attr(e)
    }
    ,
    t.prototype.drift = function(e, r, i) {
        switch (this.draggable) {
        case "horizontal":
            r = 0;
            break;
        case "vertical":
            e = 0;
            break
        }
        var n = this.transform;
        n || (n = this.transform = [1, 0, 0, 1, 0, 0]),
        n[4] += e,
        n[5] += r,
        this.decomposeTransform(),
        this.markRedraw()
    }
    ,
    t.prototype.beforeUpdate = function() {}
    ,
    t.prototype.afterUpdate = function() {}
    ,
    t.prototype.update = function() {
        this.updateTransform(),
        this.__dirty && this.updateInnerText()
    }
    ,
    t.prototype.updateInnerText = function(e) {
        var r = this._textContent;
        if (r && (!r.ignore || e)) {
            this.textConfig || (this.textConfig = {});
            var i = this.textConfig
              , n = i.local
              , a = r.innerTransformable
              , o = void 0
              , s = void 0
              , l = !1;
            a.parent = n ? this : null;
            var u = !1;
            if (a.copyTransform(r),
            i.position != null) {
                var h = G2;
                i.layoutRect ? h.copy(i.layoutRect) : h.copy(this.getBoundingRect()),
                n || h.applyTransform(this.transform),
                this.calculateTextPosition ? this.calculateTextPosition(mi, i, h) : Fp(mi, i, h),
                a.x = mi.x,
                a.y = mi.y,
                o = mi.align,
                s = mi.verticalAlign;
                var f = i.origin;
                if (f && i.rotation != null) {
                    var c = void 0
                      , v = void 0;
                    f === "center" ? (c = h.width * .5,
                    v = h.height * .5) : (c = ii(f[0], h.width),
                    v = ii(f[1], h.height)),
                    u = !0,
                    a.originX = -a.x + c + (n ? 0 : h.x),
                    a.originY = -a.y + v + (n ? 0 : h.y)
                }
            }
            i.rotation != null && (a.rotation = i.rotation);
            var d = i.offset;
            d && (a.x += d[0],
            a.y += d[1],
            u || (a.originX = -d[0],
            a.originY = -d[1]));
            var m = i.inside == null ? typeof i.position == "string" && i.position.indexOf("inside") >= 0 : i.inside
              , p = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {})
              , g = void 0
              , y = void 0
              , _ = void 0;
            m && this.canBeInsideText() ? (g = i.insideFill,
            y = i.insideStroke,
            (g == null || g === "auto") && (g = this.getInsideTextFill()),
            (y == null || y === "auto") && (y = this.getInsideTextStroke(g),
            _ = !0)) : (g = i.outsideFill,
            y = i.outsideStroke,
            (g == null || g === "auto") && (g = this.getOutsideFill()),
            (y == null || y === "auto") && (y = this.getOutsideStroke(g),
            _ = !0)),
            g = g || "#000",
            (g !== p.fill || y !== p.stroke || _ !== p.autoStroke || o !== p.align || s !== p.verticalAlign) && (l = !0,
            p.fill = g,
            p.stroke = y,
            p.autoStroke = _,
            p.align = o,
            p.verticalAlign = s,
            r.setDefaultTextStyle(p)),
            r.__dirty |= at,
            l && r.dirtyStyle(!0)
        }
    }
    ,
    t.prototype.canBeInsideText = function() {
        return !0
    }
    ,
    t.prototype.getInsideTextFill = function() {
        return "#fff"
    }
    ,
    t.prototype.getInsideTextStroke = function(e) {
        return "#000"
    }
    ,
    t.prototype.getOutsideFill = function() {
        return this.__zr && this.__zr.isDarkMode() ? cu : fu
    }
    ,
    t.prototype.getOutsideStroke = function(e) {
        var r = this.__zr && this.__zr.getBackgroundColor()
          , i = typeof r == "string" && mr(r);
        i || (i = [255, 255, 255, 1]);
        for (var n = i[3], a = this.__zr.isDarkMode(), o = 0; o < 3; o++)
            i[o] = i[o] * n + (a ? 0 : 255) * (1 - n);
        return i[3] = 1,
        oh(i, "rgba")
    }
    ,
    t.prototype.traverse = function(e, r) {}
    ,
    t.prototype.attrKV = function(e, r) {
        e === "textConfig" ? this.setTextConfig(r) : e === "textContent" ? this.setTextContent(r) : e === "clipPath" ? this.setClipPath(r) : e === "extra" ? (this.extra = this.extra || {},
        G(this.extra, r)) : this[e] = r
    }
    ,
    t.prototype.hide = function() {
        this.ignore = !0,
        this.markRedraw()
    }
    ,
    t.prototype.show = function() {
        this.ignore = !1,
        this.markRedraw()
    }
    ,
    t.prototype.attr = function(e, r) {
        if (typeof e == "string")
            this.attrKV(e, r);
        else if (J(e))
            for (var i = e, n = Se(i), a = 0; a < n.length; a++) {
                var o = n[a];
                this.attrKV(o, e[o])
            }
        return this.markRedraw(),
        this
    }
    ,
    t.prototype.saveCurrentToNormalState = function(e) {
        this._innerSaveToNormal(e);
        for (var r = this._normalState, i = 0; i < this.animators.length; i++) {
            var n = this.animators[i]
              , a = n.__fromStateTransition;
            if (!(n.getLoop() || a && a !== Gs)) {
                var o = n.targetName
                  , s = o ? r[o] : r;
                n.saveTo(s)
            }
        }
    }
    ,
    t.prototype._innerSaveToNormal = function(e) {
        var r = this._normalState;
        r || (r = this._normalState = {}),
        e.textConfig && !r.textConfig && (r.textConfig = this.textConfig),
        this._savePrimaryToNormal(e, r, Ws)
    }
    ,
    t.prototype._savePrimaryToNormal = function(e, r, i) {
        for (var n = 0; n < i.length; n++) {
            var a = i[n];
            e[a] != null && !(a in r) && (r[a] = this[a])
        }
    }
    ,
    t.prototype.hasState = function() {
        return this.currentStates.length > 0
    }
    ,
    t.prototype.getState = function(e) {
        return this.states[e]
    }
    ,
    t.prototype.ensureState = function(e) {
        var r = this.states;
        return r[e] || (r[e] = {}),
        r[e]
    }
    ,
    t.prototype.clearStates = function(e) {
        this.useState(Gs, !1, e)
    }
    ,
    t.prototype.useState = function(e, r, i, n) {
        var a = e === Gs
          , o = this.hasState();
        if (!(!o && a)) {
            var s = this.currentStates
              , l = this.stateTransition;
            if (!(pe(s, e) >= 0 && (r || s.length === 1))) {
                var u;
                if (this.stateProxy && !a && (u = this.stateProxy(e)),
                u || (u = this.states && this.states[e]),
                !u && !a) {
                    Ju("State " + e + " not exists.");
                    return
                }
                a || this.saveCurrentToNormalState(u);
                var h = !!(u && u.hoverLayer || n);
                h && this._toggleHoverLayerFlag(!0),
                this._applyStateObj(e, u, this._normalState, r, !i && !this.__inHover && l && l.duration > 0, l);
                var f = this._textContent
                  , c = this._textGuide;
                return f && f.useState(e, r, i, h),
                c && c.useState(e, r, i, h),
                a ? (this.currentStates = [],
                this._normalState = {}) : r ? this.currentStates.push(e) : this.currentStates = [e],
                this._updateAnimationTargets(),
                this.markRedraw(),
                !h && this.__inHover && (this._toggleHoverLayerFlag(!1),
                this.__dirty &= ~at),
                u
            }
        }
    }
    ,
    t.prototype.useStates = function(e, r, i) {
        if (!e.length)
            this.clearStates();
        else {
            var n = []
              , a = this.currentStates
              , o = e.length
              , s = o === a.length;
            if (s) {
                for (var l = 0; l < o; l++)
                    if (e[l] !== a[l]) {
                        s = !1;
                        break
                    }
            }
            if (s)
                return;
            for (var l = 0; l < o; l++) {
                var u = e[l]
                  , h = void 0;
                this.stateProxy && (h = this.stateProxy(u, e)),
                h || (h = this.states[u]),
                h && n.push(h)
            }
            var f = n[o - 1]
              , c = !!(f && f.hoverLayer || i);
            c && this._toggleHoverLayerFlag(!0);
            var v = this._mergeStates(n)
              , d = this.stateTransition;
            this.saveCurrentToNormalState(v),
            this._applyStateObj(e.join(","), v, this._normalState, !1, !r && !this.__inHover && d && d.duration > 0, d);
            var m = this._textContent
              , p = this._textGuide;
            m && m.useStates(e, r, c),
            p && p.useStates(e, r, c),
            this._updateAnimationTargets(),
            this.currentStates = e.slice(),
            this.markRedraw(),
            !c && this.__inHover && (this._toggleHoverLayerFlag(!1),
            this.__dirty &= ~at)
        }
    }
    ,
    t.prototype.isSilent = function() {
        for (var e = this.silent, r = this.parent; !e && r; ) {
            if (r.silent) {
                e = !0;
                break
            }
            r = r.parent
        }
        return e
    }
    ,
    t.prototype._updateAnimationTargets = function() {
        for (var e = 0; e < this.animators.length; e++) {
            var r = this.animators[e];
            r.targetName && r.changeTarget(this[r.targetName])
        }
    }
    ,
    t.prototype.removeState = function(e) {
        var r = pe(this.currentStates, e);
        if (r >= 0) {
            var i = this.currentStates.slice();
            i.splice(r, 1),
            this.useStates(i)
        }
    }
    ,
    t.prototype.replaceState = function(e, r, i) {
        var n = this.currentStates.slice()
          , a = pe(n, e)
          , o = pe(n, r) >= 0;
        a >= 0 ? o ? n.splice(a, 1) : n[a] = r : i && !o && n.push(r),
        this.useStates(n)
    }
    ,
    t.prototype.toggleState = function(e, r) {
        r ? this.useState(e, !0) : this.removeState(e)
    }
    ,
    t.prototype._mergeStates = function(e) {
        for (var r = {}, i, n = 0; n < e.length; n++) {
            var a = e[n];
            G(r, a),
            a.textConfig && (i = i || {},
            G(i, a.textConfig))
        }
        return i && (r.textConfig = i),
        r
    }
    ,
    t.prototype._applyStateObj = function(e, r, i, n, a, o) {
        var s = !(r && n);
        r && r.textConfig ? (this.textConfig = G({}, n ? this.textConfig : i.textConfig),
        G(this.textConfig, r.textConfig)) : s && i.textConfig && (this.textConfig = i.textConfig);
        for (var l = {}, u = !1, h = 0; h < Ws.length; h++) {
            var f = Ws[h]
              , c = a && H2[f];
            r && r[f] != null ? c ? (u = !0,
            l[f] = r[f]) : this[f] = r[f] : s && i[f] != null && (c ? (u = !0,
            l[f] = i[f]) : this[f] = i[f])
        }
        if (!a)
            for (var h = 0; h < this.animators.length; h++) {
                var v = this.animators[h]
                  , d = v.targetName;
                v.getLoop() || v.__changeFinalValue(d ? (r || i)[d] : r || i)
            }
        u && this._transitionState(e, l, o)
    }
    ,
    t.prototype._attachComponent = function(e) {
        if (!(e.__zr && !e.__hostTarget) && e !== this) {
            var r = this.__zr;
            r && e.addSelfToZr(r),
            e.__zr = r,
            e.__hostTarget = this
        }
    }
    ,
    t.prototype._detachComponent = function(e) {
        e.__zr && e.removeSelfFromZr(e.__zr),
        e.__zr = null,
        e.__hostTarget = null
    }
    ,
    t.prototype.getClipPath = function() {
        return this._clipPath
    }
    ,
    t.prototype.setClipPath = function(e) {
        this._clipPath && this._clipPath !== e && this.removeClipPath(),
        this._attachComponent(e),
        this._clipPath = e,
        this.markRedraw()
    }
    ,
    t.prototype.removeClipPath = function() {
        var e = this._clipPath;
        e && (this._detachComponent(e),
        this._clipPath = null,
        this.markRedraw())
    }
    ,
    t.prototype.getTextContent = function() {
        return this._textContent
    }
    ,
    t.prototype.setTextContent = function(e) {
        var r = this._textContent;
        r !== e && (r && r !== e && this.removeTextContent(),
        e.innerTransformable = new lh,
        this._attachComponent(e),
        this._textContent = e,
        this.markRedraw())
    }
    ,
    t.prototype.setTextConfig = function(e) {
        this.textConfig || (this.textConfig = {}),
        G(this.textConfig, e),
        this.markRedraw()
    }
    ,
    t.prototype.removeTextConfig = function() {
        this.textConfig = null,
        this.markRedraw()
    }
    ,
    t.prototype.removeTextContent = function() {
        var e = this._textContent;
        e && (e.innerTransformable = null,
        this._detachComponent(e),
        this._textContent = null,
        this._innerTextDefaultStyle = null,
        this.markRedraw())
    }
    ,
    t.prototype.getTextGuideLine = function() {
        return this._textGuide
    }
    ,
    t.prototype.setTextGuideLine = function(e) {
        this._textGuide && this._textGuide !== e && this.removeTextGuideLine(),
        this._attachComponent(e),
        this._textGuide = e,
        this.markRedraw()
    }
    ,
    t.prototype.removeTextGuideLine = function() {
        var e = this._textGuide;
        e && (this._detachComponent(e),
        this._textGuide = null,
        this.markRedraw())
    }
    ,
    t.prototype.markRedraw = function() {
        this.__dirty |= at;
        var e = this.__zr;
        e && (this.__inHover ? e.refreshHover() : e.refresh()),
        this.__hostTarget && this.__hostTarget.markRedraw()
    }
    ,
    t.prototype.dirty = function() {
        this.markRedraw()
    }
    ,
    t.prototype._toggleHoverLayerFlag = function(e) {
        this.__inHover = e;
        var r = this._textContent
          , i = this._textGuide;
        r && (r.__inHover = e),
        i && (i.__inHover = e)
    }
    ,
    t.prototype.addSelfToZr = function(e) {
        if (this.__zr !== e) {
            this.__zr = e;
            var r = this.animators;
            if (r)
                for (var i = 0; i < r.length; i++)
                    e.animation.addAnimator(r[i]);
            this._clipPath && this._clipPath.addSelfToZr(e),
            this._textContent && this._textContent.addSelfToZr(e),
            this._textGuide && this._textGuide.addSelfToZr(e)
        }
    }
    ,
    t.prototype.removeSelfFromZr = function(e) {
        if (!!this.__zr) {
            this.__zr = null;
            var r = this.animators;
            if (r)
                for (var i = 0; i < r.length; i++)
                    e.animation.removeAnimator(r[i]);
            this._clipPath && this._clipPath.removeSelfFromZr(e),
            this._textContent && this._textContent.removeSelfFromZr(e),
            this._textGuide && this._textGuide.removeSelfFromZr(e)
        }
    }
    ,
    t.prototype.animate = function(e, r, i) {
        var n = e ? this[e] : this
          , a = new sh(n,r,i);
        return e && (a.targetName = e),
        this.addAnimator(a, e),
        a
    }
    ,
    t.prototype.addAnimator = function(e, r) {
        var i = this.__zr
          , n = this;
        e.during(function() {
            n.updateDuringAnimation(r)
        }).done(function() {
            var a = n.animators
              , o = pe(a, e);
            o >= 0 && a.splice(o, 1)
        }),
        this.animators.push(e),
        i && i.animation.addAnimator(e),
        i && i.wakeUp()
    }
    ,
    t.prototype.updateDuringAnimation = function(e) {
        this.markRedraw()
    }
    ,
    t.prototype.stopAnimation = function(e, r) {
        for (var i = this.animators, n = i.length, a = [], o = 0; o < n; o++) {
            var s = i[o];
            !e || e === s.scope ? s.stop(r) : a.push(s)
        }
        return this.animators = a,
        this
    }
    ,
    t.prototype.animateTo = function(e, r, i) {
        Us(this, e, r, i)
    }
    ,
    t.prototype.animateFrom = function(e, r, i) {
        Us(this, e, r, i, !0)
    }
    ,
    t.prototype._transitionState = function(e, r, i, n) {
        for (var a = Us(this, r, i, n), o = 0; o < a.length; o++)
            a[o].__fromStateTransition = e
    }
    ,
    t.prototype.getBoundingRect = function() {
        return null
    }
    ,
    t.prototype.getPaintRect = function() {
        return null
    }
    ,
    t.initDefaultProps = function() {
        var e = t.prototype;
        e.type = "element",
        e.name = "",
        e.ignore = e.silent = e.isGroup = e.draggable = e.dragging = e.ignoreClip = e.__inHover = !1,
        e.__dirty = at;
        function r(i, n, a, o) {
            Object.defineProperty(e, i, {
                get: function() {
                    if (!this[n]) {
                        var l = this[n] = [];
                        s(this, l)
                    }
                    return this[n]
                },
                set: function(l) {
                    this[a] = l[0],
                    this[o] = l[1],
                    this[n] = l,
                    s(this, l)
                }
            });
            function s(l, u) {
                Object.defineProperty(u, 0, {
                    get: function() {
                        return l[a]
                    },
                    set: function(h) {
                        l[a] = h
                    }
                }),
                Object.defineProperty(u, 1, {
                    get: function() {
                        return l[o]
                    },
                    set: function(h) {
                        l[o] = h
                    }
                })
            }
        }
        Object.defineProperty && (r("position", "_legacyPos", "x", "y"),
        r("scale", "_legacyScale", "scaleX", "scaleY"),
        r("origin", "_legacyOrigin", "originX", "originY"))
    }(),
    t
}();
It(fh, Ht);
It(fh, lh);
function Us(t, e, r, i, n) {
    r = r || {};
    var a = [];
    zp(t, "", t, e, r, i, a, n);
    var o = a.length
      , s = !1
      , l = r.done
      , u = r.aborted
      , h = function() {
        s = !0,
        o--,
        o <= 0 && (s ? l && l() : u && u())
    }
      , f = function() {
        o--,
        o <= 0 && (s ? l && l() : u && u())
    };
    o || l && l(),
    a.length > 0 && r.during && a[0].during(function(d, m) {
        r.during(m)
    });
    for (var c = 0; c < a.length; c++) {
        var v = a[c];
        h && v.done(h),
        f && v.aborted(f),
        r.force && v.duration(r.duration),
        v.start(r.easing)
    }
    return a
}
function $s(t, e, r) {
    for (var i = 0; i < r; i++)
        t[i] = e[i]
}
function W2(t) {
    return et(t[0])
}
function U2(t, e, r) {
    if (et(e[r]))
        if (et(t[r]) || (t[r] = []),
        tt(e[r])) {
            var i = e[r].length;
            t[r].length !== i && (t[r] = new e[r].constructor(i),
            $s(t[r], e[r], i))
        } else {
            var n = e[r]
              , a = t[r]
              , o = n.length;
            if (W2(n))
                for (var s = n[0].length, l = 0; l < o; l++)
                    a[l] ? $s(a[l], n[l], s) : a[l] = Array.prototype.slice.call(n[l]);
            else
                $s(a, n, o);
            a.length = n.length
        }
    else
        t[r] = e[r]
}
function $2(t, e) {
    return t === e || et(t) && et(e) && Y2(t, e)
}
function Y2(t, e) {
    var r = t.length;
    if (r !== e.length)
        return !1;
    for (var i = 0; i < r; i++)
        if (t[i] !== e[i])
            return !1;
    return !0
}
function zp(t, e, r, i, n, a, o, s) {
    for (var l = Se(i), u = n.duration, h = n.delay, f = n.additive, c = n.setToFinal, v = !J(a), d = t.animators, m = [], p = 0; p < l.length; p++) {
        var g = l[p]
          , y = i[g];
        if (y != null && r[g] != null && (v || a[g]))
            if (J(y) && !et(y) && !Zo(y)) {
                if (e) {
                    s || (r[g] = y,
                    t.updateDuringAnimation(e));
                    continue
                }
                zp(t, g, r[g], y, n, a && a[g], o, s)
            } else
                m.push(g);
        else
            s || (r[g] = y,
            t.updateDuringAnimation(e),
            m.push(g))
    }
    var _ = m.length;
    if (!f && _)
        for (var w = 0; w < d.length; w++) {
            var b = d[w];
            if (b.targetName === e) {
                var S = b.stopTracks(m);
                if (S) {
                    var C = pe(d, b);
                    d.splice(C, 1)
                }
            }
        }
    if (n.force || (m = Ue(m, function(A) {
        return !$2(i[A], r[A])
    }),
    _ = m.length),
    _ > 0 || n.force && !o.length) {
        var T = void 0
          , x = void 0
          , D = void 0;
        if (s) {
            x = {},
            c && (T = {});
            for (var w = 0; w < _; w++) {
                var g = m[w];
                x[g] = r[g],
                c ? T[g] = i[g] : r[g] = i[g]
            }
        } else if (c) {
            D = {};
            for (var w = 0; w < _; w++) {
                var g = m[w];
                D[g] = fo(r[g]),
                U2(r, i, g)
            }
        }
        var b = new sh(r,!1,!1,f ? Ue(d, function(k) {
            return k.targetName === e
        }) : null);
        b.targetName = e,
        n.scope && (b.scope = n.scope),
        c && T && b.whenWithKeys(0, T, m),
        D && b.whenWithKeys(0, D, m),
        b.whenWithKeys(u == null ? 500 : u, s ? x : i, m).delay(h || 0),
        t.addAnimator(b, e),
        o.push(b)
    }
}
var Vp = fh
  , Hp = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this) || this;
        return i.isGroup = !0,
        i._children = [],
        i.attr(r),
        i
    }
    return e.prototype.childrenRef = function() {
        return this._children
    }
    ,
    e.prototype.children = function() {
        return this._children.slice()
    }
    ,
    e.prototype.childAt = function(r) {
        return this._children[r]
    }
    ,
    e.prototype.childOfName = function(r) {
        for (var i = this._children, n = 0; n < i.length; n++)
            if (i[n].name === r)
                return i[n]
    }
    ,
    e.prototype.childCount = function() {
        return this._children.length
    }
    ,
    e.prototype.add = function(r) {
        return r && r !== this && r.parent !== this && (this._children.push(r),
        this._doAdd(r)),
        this
    }
    ,
    e.prototype.addBefore = function(r, i) {
        if (r && r !== this && r.parent !== this && i && i.parent === this) {
            var n = this._children
              , a = n.indexOf(i);
            a >= 0 && (n.splice(a, 0, r),
            this._doAdd(r))
        }
        return this
    }
    ,
    e.prototype.replace = function(r, i) {
        var n = pe(this._children, r);
        return n >= 0 && this.replaceAt(i, n),
        this
    }
    ,
    e.prototype.replaceAt = function(r, i) {
        var n = this._children
          , a = n[i];
        if (r && r !== this && r.parent !== this && r !== a) {
            n[i] = r,
            a.parent = null;
            var o = this.__zr;
            o && a.removeSelfFromZr(o),
            this._doAdd(r)
        }
        return this
    }
    ,
    e.prototype._doAdd = function(r) {
        r.parent && r.parent.remove(r),
        r.parent = this;
        var i = this.__zr;
        i && i !== r.__zr && r.addSelfToZr(i),
        i && i.refresh()
    }
    ,
    e.prototype.remove = function(r) {
        var i = this.__zr
          , n = this._children
          , a = pe(n, r);
        return a < 0 ? this : (n.splice(a, 1),
        r.parent = null,
        i && r.removeSelfFromZr(i),
        i && i.refresh(),
        this)
    }
    ,
    e.prototype.removeAll = function() {
        for (var r = this._children, i = this.__zr, n = 0; n < r.length; n++) {
            var a = r[n];
            i && a.removeSelfFromZr(i),
            a.parent = null
        }
        return r.length = 0,
        this
    }
    ,
    e.prototype.eachChild = function(r, i) {
        for (var n = this._children, a = 0; a < n.length; a++) {
            var o = n[a];
            r.call(i, o, a)
        }
        return this
    }
    ,
    e.prototype.traverse = function(r, i) {
        for (var n = 0; n < this._children.length; n++) {
            var a = this._children[n]
              , o = r.call(i, a);
            a.isGroup && !o && a.traverse(r, i)
        }
        return this
    }
    ,
    e.prototype.addSelfToZr = function(r) {
        t.prototype.addSelfToZr.call(this, r);
        for (var i = 0; i < this._children.length; i++) {
            var n = this._children[i];
            n.addSelfToZr(r)
        }
    }
    ,
    e.prototype.removeSelfFromZr = function(r) {
        t.prototype.removeSelfFromZr.call(this, r);
        for (var i = 0; i < this._children.length; i++) {
            var n = this._children[i];
            n.removeSelfFromZr(r)
        }
    }
    ,
    e.prototype.getBoundingRect = function(r) {
        for (var i = new ce(0,0,0,0), n = r || this._children, a = [], o = null, s = 0; s < n.length; s++) {
            var l = n[s];
            if (!(l.ignore || l.invisible)) {
                var u = l.getBoundingRect()
                  , h = l.getLocalTransform(a);
                h ? (ce.applyTransform(i, u, h),
                o = o || i.clone(),
                o.union(i)) : (o = o || u.clone(),
                o.union(u))
            }
        }
        return o || i
    }
    ,
    e
}(Vp);
Hp.prototype.type = "group";
var Xe = Hp;
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var go = {}
  , Gp = {};
function X2(t) {
    delete Gp[t]
}
function q2(t) {
    if (!t)
        return !1;
    if (typeof t == "string")
        return ko(t, 1) < hu;
    if (t.colorStops) {
        for (var e = t.colorStops, r = 0, i = e.length, n = 0; n < i; n++)
            r += ko(e[n].color, 1);
        return r /= i,
        r < hu
    }
    return !1
}
var Z2 = function() {
    function t(e, r, i) {
        var n = this;
        this._sleepAfterStill = 10,
        this._stillFrameAccum = 0,
        this._needsRefresh = !0,
        this._needsRefreshHover = !0,
        this._darkMode = !1,
        i = i || {},
        this.dom = r,
        this.id = e;
        var a = new u2
          , o = i.renderer || "canvas";
        go[o] || (o = Se(go)[0]),
        i.useDirtyRect = i.useDirtyRect == null ? !1 : i.useDirtyRect;
        var s = new go[o](r,a,i,e)
          , l = i.ssr || s.ssrOnly;
        this.storage = a,
        this.painter = s;
        var u = !ae.node && !ae.worker && !l ? new F2(s.getViewportRoot(),s.root) : null, h = i.useCoarsePointer, f = h == null || h === "auto" ? ae.touchEventsSupported : !!h, c = 44, v;
        f && (v = oe(i.pointerSize, c)),
        this.handler = new n2(a,s,u,s.root,v),
        this.animation = new k2({
            stage: {
                update: l ? null : function() {
                    return n._flush(!0)
                }
            }
        }),
        l || this.animation.start()
    }
    return t.prototype.add = function(e) {
        this._disposed || !e || (this.storage.addRoot(e),
        e.addSelfToZr(this),
        this.refresh())
    }
    ,
    t.prototype.remove = function(e) {
        this._disposed || !e || (this.storage.delRoot(e),
        e.removeSelfFromZr(this),
        this.refresh())
    }
    ,
    t.prototype.configLayer = function(e, r) {
        this._disposed || (this.painter.configLayer && this.painter.configLayer(e, r),
        this.refresh())
    }
    ,
    t.prototype.setBackgroundColor = function(e) {
        this._disposed || (this.painter.setBackgroundColor && this.painter.setBackgroundColor(e),
        this.refresh(),
        this._backgroundColor = e,
        this._darkMode = q2(e))
    }
    ,
    t.prototype.getBackgroundColor = function() {
        return this._backgroundColor
    }
    ,
    t.prototype.setDarkMode = function(e) {
        this._darkMode = e
    }
    ,
    t.prototype.isDarkMode = function() {
        return this._darkMode
    }
    ,
    t.prototype.refreshImmediately = function(e) {
        this._disposed || (e || this.animation.update(!0),
        this._needsRefresh = !1,
        this.painter.refresh(),
        this._needsRefresh = !1)
    }
    ,
    t.prototype.refresh = function() {
        this._disposed || (this._needsRefresh = !0,
        this.animation.start())
    }
    ,
    t.prototype.flush = function() {
        this._disposed || this._flush(!1)
    }
    ,
    t.prototype._flush = function(e) {
        var r, i = Pi();
        this._needsRefresh && (r = !0,
        this.refreshImmediately(e)),
        this._needsRefreshHover && (r = !0,
        this.refreshHoverImmediately());
        var n = Pi();
        r ? (this._stillFrameAccum = 0,
        this.trigger("rendered", {
            elapsedTime: n - i
        })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++,
        this._stillFrameAccum > this._sleepAfterStill && this.animation.stop())
    }
    ,
    t.prototype.setSleepAfterStill = function(e) {
        this._sleepAfterStill = e
    }
    ,
    t.prototype.wakeUp = function() {
        this._disposed || (this.animation.start(),
        this._stillFrameAccum = 0)
    }
    ,
    t.prototype.refreshHover = function() {
        this._needsRefreshHover = !0
    }
    ,
    t.prototype.refreshHoverImmediately = function() {
        this._disposed || (this._needsRefreshHover = !1,
        this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover())
    }
    ,
    t.prototype.resize = function(e) {
        this._disposed || (e = e || {},
        this.painter.resize(e.width, e.height),
        this.handler.resize())
    }
    ,
    t.prototype.clearAnimation = function() {
        this._disposed || this.animation.clear()
    }
    ,
    t.prototype.getWidth = function() {
        if (!this._disposed)
            return this.painter.getWidth()
    }
    ,
    t.prototype.getHeight = function() {
        if (!this._disposed)
            return this.painter.getHeight()
    }
    ,
    t.prototype.setCursorStyle = function(e) {
        this._disposed || this.handler.setCursorStyle(e)
    }
    ,
    t.prototype.findHover = function(e, r) {
        if (!this._disposed)
            return this.handler.findHover(e, r)
    }
    ,
    t.prototype.on = function(e, r, i) {
        return this._disposed || this.handler.on(e, r, i),
        this
    }
    ,
    t.prototype.off = function(e, r) {
        this._disposed || this.handler.off(e, r)
    }
    ,
    t.prototype.trigger = function(e, r) {
        this._disposed || this.handler.trigger(e, r)
    }
    ,
    t.prototype.clear = function() {
        if (!this._disposed) {
            for (var e = this.storage.getRoots(), r = 0; r < e.length; r++)
                e[r]instanceof Xe && e[r].removeSelfFromZr(this);
            this.storage.delAllRoots(),
            this.painter.clear()
        }
    }
    ,
    t.prototype.dispose = function() {
        this._disposed || (this.animation.stop(),
        this.clear(),
        this.storage.dispose(),
        this.painter.dispose(),
        this.handler.dispose(),
        this.animation = this.storage = this.painter = this.handler = null,
        this._disposed = !0,
        X2(this.id))
    }
    ,
    t
}();
function Kf(t, e) {
    var r = new Z2(dp(),t,e);
    return Gp[r.id] = r,
    r
}
function K2(t, e) {
    go[t] = e
}
var jf = 1e-4
  , Wp = 20;
function j2(t) {
    return t.replace(/^\s+|\s+$/g, "")
}
function Qf(t, e, r, i) {
    var n = e[0]
      , a = e[1]
      , o = r[0]
      , s = r[1]
      , l = a - n
      , u = s - o;
    if (l === 0)
        return u === 0 ? o : (o + s) / 2;
    if (i)
        if (l > 0) {
            if (t <= n)
                return o;
            if (t >= a)
                return s
        } else {
            if (t >= n)
                return o;
            if (t <= a)
                return s
        }
    else {
        if (t === n)
            return o;
        if (t === a)
            return s
    }
    return (t - n) / l * u + o
}
function Oe(t, e) {
    switch (t) {
    case "center":
    case "middle":
        t = "50%";
        break;
    case "left":
    case "top":
        t = "0%";
        break;
    case "right":
    case "bottom":
        t = "100%";
        break
    }
    return Q(t) ? j2(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : t == null ? NaN : +t
}
function Me(t, e, r) {
    return e == null && (e = 10),
    e = Math.min(Math.max(0, e), Wp),
    t = (+t).toFixed(e),
    r ? t : +t
}
function Ft(t) {
    if (t = +t,
    isNaN(t))
        return 0;
    if (t > 1e-14) {
        for (var e = 1, r = 0; r < 15; r++,
        e *= 10)
            if (Math.round(t * e) / e === t)
                return r
    }
    return Q2(t)
}
function Q2(t) {
    var e = t.toString().toLowerCase()
      , r = e.indexOf("e")
      , i = r > 0 ? +e.slice(r + 1) : 0
      , n = r > 0 ? r : e.length
      , a = e.indexOf(".")
      , o = a < 0 ? 0 : n - 1 - a;
    return Math.max(0, o - i)
}
function J2(t, e) {
    var r = Math.log
      , i = Math.LN10
      , n = Math.floor(r(t[1] - t[0]) / i)
      , a = Math.round(r(Math.abs(e[1] - e[0])) / i)
      , o = Math.min(Math.max(-n + a, 0), 20);
    return isFinite(o) ? o : 20
}
function ew(t, e) {
    var r = Math.max(Ft(t), Ft(e))
      , i = t + e;
    return r > Wp ? i : Me(i, r)
}
function Up(t) {
    var e = Math.PI * 2;
    return (t % e + e) % e
}
function Po(t) {
    return t > -jf && t < jf
}
var tw = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function Zt(t) {
    if (t instanceof Date)
        return t;
    if (Q(t)) {
        var e = tw.exec(t);
        if (!e)
            return new Date(NaN);
        if (e[8]) {
            var r = +e[4] || 0;
            return e[8].toUpperCase() !== "Z" && (r -= +e[8].slice(0, 3)),
            new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, r, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0))
        } else
            return new Date(+e[1],+(e[2] || 1) - 1,+e[3] || 1,+e[4] || 0,+(e[5] || 0),+e[6] || 0,e[7] ? +e[7].substring(0, 3) : 0)
    } else if (t == null)
        return new Date(NaN);
    return new Date(Math.round(t))
}
function rw(t) {
    return Math.pow(10, ch(t))
}
function ch(t) {
    if (t === 0)
        return 0;
    var e = Math.floor(Math.log(t) / Math.LN10);
    return t / Math.pow(10, e) >= 10 && e++,
    e
}
function $p(t, e) {
    var r = ch(t), i = Math.pow(10, r), n = t / i, a;
    return e ? n < 1.5 ? a = 1 : n < 2.5 ? a = 2 : n < 4 ? a = 3 : n < 7 ? a = 5 : a = 10 : n < 1 ? a = 1 : n < 2 ? a = 2 : n < 3 ? a = 3 : n < 5 ? a = 5 : a = 10,
    t = a * i,
    r >= -20 ? +t.toFixed(r < 0 ? -r : 0) : t
}
function Eo(t) {
    var e = parseFloat(t);
    return e == t && (e !== 0 || !Q(t) || t.indexOf("x") <= 0) ? e : NaN
}
function iw(t) {
    return !isNaN(Eo(t))
}
function Yp() {
    return Math.round(Math.random() * 9)
}
function Xp(t, e) {
    return e === 0 ? t : Xp(e, t % e)
}
function Jf(t, e) {
    return t == null ? e : e == null ? t : t * e / Xp(t, e)
}
function Ke(t) {
    throw new Error(t)
}
function ec(t, e, r) {
    return (e - t) * r + t
}
var qp = "series\0"
  , nw = "\0_ec_\0";
function Ye(t) {
    return t instanceof Array ? t : t == null ? [] : [t]
}
function vu(t, e, r) {
    if (t) {
        t[e] = t[e] || {},
        t.emphasis = t.emphasis || {},
        t.emphasis[e] = t.emphasis[e] || {};
        for (var i = 0, n = r.length; i < n; i++) {
            var a = r[i];
            !t.emphasis[e].hasOwnProperty(a) && t[e].hasOwnProperty(a) && (t.emphasis[e][a] = t[e][a])
        }
    }
}
var tc = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function fa(t) {
    return J(t) && !Y(t) && !(t instanceof Date) ? t.value : t
}
function aw(t) {
    return J(t) && !(t instanceof Array)
}
function ow(t, e, r) {
    var i = r === "normalMerge"
      , n = r === "replaceMerge"
      , a = r === "replaceAll";
    t = t || [],
    e = (e || []).slice();
    var o = le();
    I(e, function(l, u) {
        if (!J(l)) {
            e[u] = null;
            return
        }
    });
    var s = sw(t, o, r);
    return (i || n) && lw(s, t, o, e),
    i && uw(s, e),
    i || n ? hw(s, e, n) : a && fw(s, e),
    cw(s),
    s
}
function sw(t, e, r) {
    var i = [];
    if (r === "replaceAll")
        return i;
    for (var n = 0; n < t.length; n++) {
        var a = t[n];
        a && a.id != null && e.set(a.id, n),
        i.push({
            existing: r === "replaceMerge" || qn(a) ? null : a,
            newOption: null,
            keyInfo: null,
            brandNew: null
        })
    }
    return i
}
function lw(t, e, r, i) {
    I(i, function(n, a) {
        if (!(!n || n.id == null)) {
            var o = Bn(n.id)
              , s = r.get(o);
            if (s != null) {
                var l = t[s];
                qt(!l.newOption, 'Duplicated option on id "' + o + '".'),
                l.newOption = n,
                l.existing = e[s],
                i[a] = null
            }
        }
    })
}
function uw(t, e) {
    I(e, function(r, i) {
        if (!(!r || r.name == null))
            for (var n = 0; n < t.length; n++) {
                var a = t[n].existing;
                if (!t[n].newOption && a && (a.id == null || r.id == null) && !qn(r) && !qn(a) && Zp("name", a, r)) {
                    t[n].newOption = r,
                    e[i] = null;
                    return
                }
            }
    })
}
function hw(t, e, r) {
    I(e, function(i) {
        if (!!i) {
            for (var n, a = 0; (n = t[a]) && (n.newOption || qn(n.existing) || n.existing && i.id != null && !Zp("id", i, n.existing)); )
                a++;
            n ? (n.newOption = i,
            n.brandNew = r) : t.push({
                newOption: i,
                brandNew: r,
                existing: null,
                keyInfo: null
            }),
            a++
        }
    })
}
function fw(t, e) {
    I(e, function(r) {
        t.push({
            newOption: r,
            brandNew: !0,
            existing: null,
            keyInfo: null
        })
    })
}
function cw(t) {
    var e = le();
    I(t, function(r) {
        var i = r.existing;
        i && e.set(i.id, r)
    }),
    I(t, function(r) {
        var i = r.newOption;
        qt(!i || i.id == null || !e.get(i.id) || e.get(i.id) === r, "id duplicates: " + (i && i.id)),
        i && i.id != null && e.set(i.id, r),
        !r.keyInfo && (r.keyInfo = {})
    }),
    I(t, function(r, i) {
        var n = r.existing
          , a = r.newOption
          , o = r.keyInfo;
        if (!!J(a)) {
            if (o.name = a.name != null ? Bn(a.name) : n ? n.name : qp + i,
            n)
                o.id = Bn(n.id);
            else if (a.id != null)
                o.id = Bn(a.id);
            else {
                var s = 0;
                do
                    o.id = "\0" + o.name + "\0" + s++;
                while (e.get(o.id))
            }
            e.set(o.id, r)
        }
    })
}
function Zp(t, e, r) {
    var i = Vt(e[t], null)
      , n = Vt(r[t], null);
    return i != null && n != null && i === n
}
function Bn(t) {
    return Vt(t, "")
}
function Vt(t, e) {
    return t == null ? e : Q(t) ? t : be(t) || Zl(t) ? t + "" : e
}
function Kp(t) {
    var e = t.name;
    return !!(e && e.indexOf(qp))
}
function qn(t) {
    return t && t.id != null && Bn(t.id).indexOf(nw) === 0
}
function vw(t, e, r) {
    I(t, function(i) {
        var n = i.newOption;
        J(n) && (i.keyInfo.mainType = e,
        i.keyInfo.subType = dw(e, n, i.existing, r))
    })
}
function dw(t, e, r, i) {
    var n = e.type ? e.type : r ? r.subType : i.determineSubType(t, e);
    return n
}
function ni(t, e) {
    if (e.dataIndexInside != null)
        return e.dataIndexInside;
    if (e.dataIndex != null)
        return Y(e.dataIndex) ? ee(e.dataIndex, function(r) {
            return t.indexOfRawIndex(r)
        }) : t.indexOfRawIndex(e.dataIndex);
    if (e.name != null)
        return Y(e.name) ? ee(e.name, function(r) {
            return t.indexOfName(r)
        }) : t.indexOfName(e.name)
}
function xe() {
    var t = "__ec_inner_" + pw++;
    return function(e) {
        return e[t] || (e[t] = {})
    }
}
var pw = Yp();
function Ys(t, e, r) {
    var i = vh(e, r)
      , n = i.mainTypeSpecified
      , a = i.queryOptionMap
      , o = i.others
      , s = o
      , l = r ? r.defaultMainType : null;
    return !n && l && a.set(l, {}),
    a.each(function(u, h) {
        var f = ca(t, h, u, {
            useDefault: l === h,
            enableAll: r && r.enableAll != null ? r.enableAll : !0,
            enableNone: r && r.enableNone != null ? r.enableNone : !0
        });
        s[h + "Models"] = f.models,
        s[h + "Model"] = f.models[0]
    }),
    s
}
function vh(t, e) {
    var r;
    if (Q(t)) {
        var i = {};
        i[t + "Index"] = 0,
        r = i
    } else
        r = t;
    var n = le()
      , a = {}
      , o = !1;
    return I(r, function(s, l) {
        if (l === "dataIndex" || l === "dataIndexInside") {
            a[l] = s;
            return
        }
        var u = l.match(/^(\w+)(Index|Id|Name)$/) || []
          , h = u[1]
          , f = (u[2] || "").toLowerCase();
        if (!(!h || !f || e && e.includeMainTypes && pe(e.includeMainTypes, h) < 0)) {
            o = o || !!h;
            var c = n.get(h) || n.set(h, {});
            c[f] = s
        }
    }),
    {
        mainTypeSpecified: o,
        queryOptionMap: n,
        others: a
    }
}
var At = {
    useDefault: !0,
    enableAll: !1,
    enableNone: !1
};
function ca(t, e, r, i) {
    i = i || At;
    var n = r.index
      , a = r.id
      , o = r.name
      , s = {
        models: null,
        specified: n != null || a != null || o != null
    };
    if (!s.specified) {
        var l = void 0;
        return s.models = i.useDefault && (l = t.getComponent(e)) ? [l] : [],
        s
    }
    return n === "none" || n === !1 ? (qt(i.enableNone, '`"none"` or `false` is not a valid value on index option.'),
    s.models = [],
    s) : (n === "all" && (qt(i.enableAll, '`"all"` is not a valid value on index option.'),
    n = a = o = null),
    s.models = t.queryComponents({
        mainType: e,
        index: n,
        id: a,
        name: o
    }),
    s)
}
function jp(t, e, r) {
    t.setAttribute ? t.setAttribute(e, r) : t[e] = r
}
function gw(t, e) {
    return t.getAttribute ? t.getAttribute(e) : t[e]
}
function mw(t) {
    return t === "auto" ? ae.domSupported ? "html" : "richText" : t || "html"
}
function yw(t, e, r, i, n) {
    var a = e == null || e === "auto";
    if (i == null)
        return i;
    if (be(i)) {
        var o = ec(r || 0, i, n);
        return Me(o, a ? Math.max(Ft(r || 0), Ft(i)) : e)
    } else {
        if (Q(i))
            return n < 1 ? r : i;
        for (var s = [], l = r, u = i, h = Math.max(l ? l.length : 0, u.length), f = 0; f < h; ++f) {
            var c = t.getDimensionInfo(f);
            if (c && c.type === "ordinal")
                s[f] = (n < 1 && l ? l : u)[f];
            else {
                var v = l && l[f] ? l[f] : 0
                  , d = u[f]
                  , o = ec(v, d, n);
                s[f] = Me(o, a ? Math.max(Ft(v), Ft(d)) : e)
            }
        }
        return s
    }
}
var _w = "."
  , Lr = "___EC__COMPONENT__CONTAINER___"
  , Qp = "___EC__EXTENDED_CLASS___";
function zt(t) {
    var e = {
        main: "",
        sub: ""
    };
    if (t) {
        var r = t.split(_w);
        e.main = r[0] || "",
        e.sub = r[1] || ""
    }
    return e
}
function ww(t) {
    qt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t), 'componentType "' + t + '" illegal')
}
function Sw(t) {
    return !!(t && t[Qp])
}
function dh(t, e) {
    t.$constructor = t,
    t.extend = function(r) {
        var i = this, n;
        return bw(i) ? n = function(a) {
            X(o, a);
            function o() {
                return a.apply(this, arguments) || this
            }
            return o
        }(i) : (n = function() {
            (r.$constructor || i).apply(this, arguments)
        }
        ,
        w_(n, this)),
        G(n.prototype, r),
        n[Qp] = !0,
        n.extend = this.extend,
        n.superCall = Tw,
        n.superApply = Mw,
        n.superClass = i,
        n
    }
}
function bw(t) {
    return ne(t) && /^class\s/.test(Function.prototype.toString.call(t))
}
function Jp(t, e) {
    t.extend = e.extend
}
var Cw = Math.round(Math.random() * 10);
function xw(t) {
    var e = ["__\0is_clz", Cw++].join("_");
    t.prototype[e] = !0,
    t.isInstance = function(r) {
        return !!(r && r[e])
    }
}
function Tw(t, e) {
    for (var r = [], i = 2; i < arguments.length; i++)
        r[i - 2] = arguments[i];
    return this.superClass.prototype[e].apply(t, r)
}
function Mw(t, e, r) {
    return this.superClass.prototype[e].apply(t, r)
}
function jo(t) {
    var e = {};
    t.registerClass = function(i) {
        var n = i.type || i.prototype.type;
        if (n) {
            ww(n),
            i.prototype.type = n;
            var a = zt(n);
            if (!a.sub)
                e[a.main] = i;
            else if (a.sub !== Lr) {
                var o = r(a);
                o[a.sub] = i
            }
        }
        return i
    }
    ,
    t.getClass = function(i, n, a) {
        var o = e[i];
        if (o && o[Lr] && (o = n ? o[n] : null),
        a && !o)
            throw new Error(n ? "Component " + i + "." + (n || "") + " is used but not imported." : i + ".type should be specified.");
        return o
    }
    ,
    t.getClassesByMainType = function(i) {
        var n = zt(i)
          , a = []
          , o = e[n.main];
        return o && o[Lr] ? I(o, function(s, l) {
            l !== Lr && a.push(s)
        }) : a.push(o),
        a
    }
    ,
    t.hasClass = function(i) {
        var n = zt(i);
        return !!e[n.main]
    }
    ,
    t.getAllClassMainTypes = function() {
        var i = [];
        return I(e, function(n, a) {
            i.push(a)
        }),
        i
    }
    ,
    t.hasSubTypes = function(i) {
        var n = zt(i)
          , a = e[n.main];
        return a && a[Lr]
    }
    ;
    function r(i) {
        var n = e[i.main];
        return (!n || !n[Lr]) && (n = e[i.main] = {},
        n[Lr] = !0),
        n
    }
}
function Zn(t, e) {
    for (var r = 0; r < t.length; r++)
        t[r][1] || (t[r][1] = t[r][0]);
    return e = e || !1,
    function(i, n, a) {
        for (var o = {}, s = 0; s < t.length; s++) {
            var l = t[s][1];
            if (!(n && pe(n, l) >= 0 || a && pe(a, l) < 0)) {
                var u = i.getShallow(l, e);
                u != null && (o[t[s][0]] = u)
            }
        }
        return o
    }
}
var Dw = [["fill", "color"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["opacity"], ["shadowColor"]]
  , Aw = Zn(Dw)
  , Iw = function() {
    function t() {}
    return t.prototype.getAreaStyle = function(e, r) {
        return Aw(this, e, r)
    }
    ,
    t
}()
  , du = new ha(50);
function kw(t) {
    if (typeof t == "string") {
        var e = du.get(t);
        return e && e.image
    } else
        return t
}
function eg(t, e, r, i, n) {
    if (t)
        if (typeof t == "string") {
            if (e && e.__zrImageSrc === t || !r)
                return e;
            var a = du.get(t)
              , o = {
                hostEl: r,
                cb: i,
                cbPayload: n
            };
            return a ? (e = a.image,
            !Qo(e) && a.pending.push(o)) : (e = ui.loadImage(t, rc, rc),
            e.__zrImageSrc = t,
            du.put(t, e.__cachedImgObj = {
                image: e,
                pending: [o]
            })),
            e
        } else
            return t;
    else
        return e
}
function rc() {
    var t = this.__cachedImgObj;
    this.onload = this.onerror = this.__cachedImgObj = null;
    for (var e = 0; e < t.pending.length; e++) {
        var r = t.pending[e]
          , i = r.cb;
        i && i(this, r.cbPayload),
        r.hostEl.dirty()
    }
    t.pending.length = 0
}
function Qo(t) {
    return t && t.width && t.height
}
var Xs = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function Lw(t, e, r, i, n) {
    if (!e)
        return "";
    var a = (t + "").split(`
`);
    n = tg(e, r, i, n);
    for (var o = 0, s = a.length; o < s; o++)
        a[o] = rg(a[o], n);
    return a.join(`
`)
}
function tg(t, e, r, i) {
    i = i || {};
    var n = G({}, i);
    n.font = e,
    r = oe(r, "..."),
    n.maxIterations = oe(i.maxIterations, 2);
    var a = n.minChar = oe(i.minChar, 0);
    n.cnCharWidth = ot("\u56FD", e);
    var o = n.ascCharWidth = ot("a", e);
    n.placeholder = oe(i.placeholder, "");
    for (var s = t = Math.max(0, t - 1), l = 0; l < a && s >= o; l++)
        s -= o;
    var u = ot(r, e);
    return u > s && (r = "",
    u = 0),
    s = t - u,
    n.ellipsis = r,
    n.ellipsisWidth = u,
    n.contentWidth = s,
    n.containerWidth = t,
    n
}
function rg(t, e) {
    var r = e.containerWidth
      , i = e.font
      , n = e.contentWidth;
    if (!r)
        return "";
    var a = ot(t, i);
    if (a <= r)
        return t;
    for (var o = 0; ; o++) {
        if (a <= n || o >= e.maxIterations) {
            t += e.ellipsis;
            break
        }
        var s = o === 0 ? Pw(t, n, e.ascCharWidth, e.cnCharWidth) : a > 0 ? Math.floor(t.length * n / a) : 0;
        t = t.substr(0, s),
        a = ot(t, i)
    }
    return t === "" && (t = e.placeholder),
    t
}
function Pw(t, e, r, i) {
    for (var n = 0, a = 0, o = t.length; a < o && n < e; a++) {
        var s = t.charCodeAt(a);
        n += 0 <= s && s <= 127 ? r : i
    }
    return a
}
function Ew(t, e) {
    t != null && (t += "");
    var r = e.overflow, i = e.padding, n = e.font, a = r === "truncate", o = hh(n), s = oe(e.lineHeight, o), l = !!e.backgroundColor, u = e.lineOverflow === "truncate", h = e.width, f;
    h != null && (r === "break" || r === "breakAll") ? f = t ? ig(t, e.font, h, r === "breakAll", 0).lines : [] : f = t ? t.split(`
`) : [];
    var c = f.length * s
      , v = oe(e.height, c);
    if (c > v && u) {
        var d = Math.floor(v / s);
        f = f.slice(0, d)
    }
    if (t && a && h != null)
        for (var m = tg(h, n, e.ellipsis, {
            minChar: e.truncateMinChar,
            placeholder: e.placeholder
        }), p = 0; p < f.length; p++)
            f[p] = rg(f[p], m);
    for (var g = v, y = 0, p = 0; p < f.length; p++)
        y = Math.max(ot(f[p], n), y);
    h == null && (h = y);
    var _ = y;
    return i && (g += i[0] + i[2],
    _ += i[1] + i[3],
    h += i[1] + i[3]),
    l && (_ = h),
    {
        lines: f,
        height: v,
        outerWidth: _,
        outerHeight: g,
        lineHeight: s,
        calculatedLineHeight: o,
        contentWidth: y,
        contentHeight: c,
        width: h
    }
}
var Rw = function() {
    function t() {}
    return t
}()
  , ic = function() {
    function t(e) {
        this.tokens = [],
        e && (this.tokens = e)
    }
    return t
}()
  , Ow = function() {
    function t() {
        this.width = 0,
        this.height = 0,
        this.contentWidth = 0,
        this.contentHeight = 0,
        this.outerWidth = 0,
        this.outerHeight = 0,
        this.lines = []
    }
    return t
}();
function Bw(t, e) {
    var r = new Ow;
    if (t != null && (t += ""),
    !t)
        return r;
    for (var i = e.width, n = e.height, a = e.overflow, o = (a === "break" || a === "breakAll") && i != null ? {
        width: i,
        accumWidth: 0,
        breakAll: a === "breakAll"
    } : null, s = Xs.lastIndex = 0, l; (l = Xs.exec(t)) != null; ) {
        var u = l.index;
        u > s && qs(r, t.substring(s, u), e, o),
        qs(r, l[2], e, o, l[1]),
        s = Xs.lastIndex
    }
    s < t.length && qs(r, t.substring(s, t.length), e, o);
    var h = []
      , f = 0
      , c = 0
      , v = e.padding
      , d = a === "truncate"
      , m = e.lineOverflow === "truncate";
    function p(W, Z, re) {
        W.width = Z,
        W.lineHeight = re,
        f += re,
        c = Math.max(c, Z)
    }
    e: for (var g = 0; g < r.lines.length; g++) {
        for (var y = r.lines[g], _ = 0, w = 0, b = 0; b < y.tokens.length; b++) {
            var S = y.tokens[b]
              , C = S.styleName && e.rich[S.styleName] || {}
              , T = S.textPadding = C.padding
              , x = T ? T[1] + T[3] : 0
              , D = S.font = C.font || e.font;
            S.contentHeight = hh(D);
            var A = oe(C.height, S.contentHeight);
            if (S.innerHeight = A,
            T && (A += T[0] + T[2]),
            S.height = A,
            S.lineHeight = lo(C.lineHeight, e.lineHeight, A),
            S.align = C && C.align || e.align,
            S.verticalAlign = C && C.verticalAlign || "middle",
            m && n != null && f + S.lineHeight > n) {
                b > 0 ? (y.tokens = y.tokens.slice(0, b),
                p(y, w, _),
                r.lines = r.lines.slice(0, g + 1)) : r.lines = r.lines.slice(0, g);
                break e
            }
            var k = C.width
              , P = k == null || k === "auto";
            if (typeof k == "string" && k.charAt(k.length - 1) === "%")
                S.percentWidth = k,
                h.push(S),
                S.contentWidth = ot(S.text, D);
            else {
                if (P) {
                    var E = C.backgroundColor
                      , O = E && E.image;
                    O && (O = kw(O),
                    Qo(O) && (S.width = Math.max(S.width, O.width * A / O.height)))
                }
                var B = d && i != null ? i - w : null;
                B != null && B < S.width ? !P || B < x ? (S.text = "",
                S.width = S.contentWidth = 0) : (S.text = Lw(S.text, B - x, D, e.ellipsis, {
                    minChar: e.truncateMinChar
                }),
                S.width = S.contentWidth = ot(S.text, D)) : S.contentWidth = ot(S.text, D)
            }
            S.width += x,
            w += S.width,
            C && (_ = Math.max(_, S.lineHeight))
        }
        p(y, w, _)
    }
    r.outerWidth = r.width = oe(i, c),
    r.outerHeight = r.height = oe(n, f),
    r.contentHeight = f,
    r.contentWidth = c,
    v && (r.outerWidth += v[1] + v[3],
    r.outerHeight += v[0] + v[2]);
    for (var g = 0; g < h.length; g++) {
        var S = h[g]
          , te = S.percentWidth;
        S.width = parseInt(te, 10) / 100 * r.width
    }
    return r
}
function qs(t, e, r, i, n) {
    var a = e === "", o = n && r.rich[n] || {}, s = t.lines, l = o.font || r.font, u = !1, h, f;
    if (i) {
        var c = o.padding
          , v = c ? c[1] + c[3] : 0;
        if (o.width != null && o.width !== "auto") {
            var d = ii(o.width, i.width) + v;
            s.length > 0 && d + i.accumWidth > i.width && (h = e.split(`
`),
            u = !0),
            i.accumWidth = d
        } else {
            var m = ig(e, l, i.width, i.breakAll, i.accumWidth);
            i.accumWidth = m.accumWidth + v,
            f = m.linesWidths,
            h = m.lines
        }
    } else
        h = e.split(`
`);
    for (var p = 0; p < h.length; p++) {
        var g = h[p]
          , y = new Rw;
        if (y.styleName = n,
        y.text = g,
        y.isLineHolder = !g && !a,
        typeof o.width == "number" ? y.width = o.width : y.width = f ? f[p] : ot(g, l),
        !p && !u) {
            var _ = (s[s.length - 1] || (s[0] = new ic)).tokens
              , w = _.length;
            w === 1 && _[0].isLineHolder ? _[0] = y : (g || !w || a) && _.push(y)
        } else
            s.push(new ic([y]))
    }
}
function Nw(t) {
    var e = t.charCodeAt(0);
    return e >= 32 && e <= 591 || e >= 880 && e <= 4351 || e >= 4608 && e <= 5119 || e >= 7680 && e <= 8303
}
var Fw = qi(",&?/;] ".split(""), function(t, e) {
    return t[e] = !0,
    t
}, {});
function zw(t) {
    return Nw(t) ? !!Fw[t] : !0
}
function ig(t, e, r, i, n) {
    for (var a = [], o = [], s = "", l = "", u = 0, h = 0, f = 0; f < t.length; f++) {
        var c = t.charAt(f);
        if (c === `
`) {
            l && (s += l,
            h += u),
            a.push(s),
            o.push(h),
            s = "",
            l = "",
            u = 0,
            h = 0;
            continue
        }
        var v = ot(c, e)
          , d = i ? !1 : !zw(c);
        if (a.length ? h + v > r : n + h + v > r) {
            h ? (s || l) && (d ? (s || (s = l,
            l = "",
            u = 0,
            h = u),
            a.push(s),
            o.push(h - u),
            l += c,
            u += v,
            s = "",
            h = u) : (l && (s += l,
            l = "",
            u = 0),
            a.push(s),
            o.push(h),
            s = c,
            h = v)) : d ? (a.push(l),
            o.push(u),
            l = c,
            u = v) : (a.push(c),
            o.push(v));
            continue
        }
        h += v,
        d ? (l += c,
        u += v) : (l && (s += l,
        l = "",
        u = 0),
        s += c)
    }
    return !a.length && !s && (s = t,
    l = "",
    u = 0),
    l && (s += l),
    s && (a.push(s),
    o.push(h)),
    a.length === 1 && (h += n),
    {
        accumWidth: h,
        lines: a,
        linesWidths: o
    }
}
var pu = "__zr_style_" + Math.round(Math.random() * 10)
  , Qr = {
    shadowBlur: 0,
    shadowOffsetX: 0,
    shadowOffsetY: 0,
    shadowColor: "#000",
    opacity: 1,
    blend: "source-over"
}
  , Jo = {
    style: {
        shadowBlur: !0,
        shadowOffsetX: !0,
        shadowOffsetY: !0,
        shadowColor: !0,
        opacity: !0
    }
};
Qr[pu] = !0;
var nc = ["z", "z2", "invisible"]
  , Vw = ["invisible"]
  , Hw = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype._init = function(r) {
        for (var i = Se(r), n = 0; n < i.length; n++) {
            var a = i[n];
            a === "style" ? this.useStyle(r[a]) : t.prototype.attrKV.call(this, a, r[a])
        }
        this.style || this.useStyle({})
    }
    ,
    e.prototype.beforeBrush = function() {}
    ,
    e.prototype.afterBrush = function() {}
    ,
    e.prototype.innerBeforeBrush = function() {}
    ,
    e.prototype.innerAfterBrush = function() {}
    ,
    e.prototype.shouldBePainted = function(r, i, n, a) {
        var o = this.transform;
        if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && Gw(this, r, i) || o && !o[0] && !o[3])
            return !1;
        if (n && this.__clipPaths) {
            for (var s = 0; s < this.__clipPaths.length; ++s)
                if (this.__clipPaths[s].isZeroArea())
                    return !1
        }
        if (a && this.parent)
            for (var l = this.parent; l; ) {
                if (l.ignore)
                    return !1;
                l = l.parent
            }
        return !0
    }
    ,
    e.prototype.contain = function(r, i) {
        return this.rectContain(r, i)
    }
    ,
    e.prototype.traverse = function(r, i) {
        r.call(i, this)
    }
    ,
    e.prototype.rectContain = function(r, i) {
        var n = this.transformCoordToLocal(r, i)
          , a = this.getBoundingRect();
        return a.contain(n[0], n[1])
    }
    ,
    e.prototype.getPaintRect = function() {
        var r = this._paintRect;
        if (!this._paintRect || this.__dirty) {
            var i = this.transform
              , n = this.getBoundingRect()
              , a = this.style
              , o = a.shadowBlur || 0
              , s = a.shadowOffsetX || 0
              , l = a.shadowOffsetY || 0;
            r = this._paintRect || (this._paintRect = new ce(0,0,0,0)),
            i ? ce.applyTransform(r, n, i) : r.copy(n),
            (o || s || l) && (r.width += o * 2 + Math.abs(s),
            r.height += o * 2 + Math.abs(l),
            r.x = Math.min(r.x, r.x + s - o),
            r.y = Math.min(r.y, r.y + l - o));
            var u = this.dirtyRectTolerance;
            r.isZero() || (r.x = Math.floor(r.x - u),
            r.y = Math.floor(r.y - u),
            r.width = Math.ceil(r.width + 1 + u * 2),
            r.height = Math.ceil(r.height + 1 + u * 2))
        }
        return r
    }
    ,
    e.prototype.setPrevPaintRect = function(r) {
        r ? (this._prevPaintRect = this._prevPaintRect || new ce(0,0,0,0),
        this._prevPaintRect.copy(r)) : this._prevPaintRect = null
    }
    ,
    e.prototype.getPrevPaintRect = function() {
        return this._prevPaintRect
    }
    ,
    e.prototype.animateStyle = function(r) {
        return this.animate("style", r)
    }
    ,
    e.prototype.updateDuringAnimation = function(r) {
        r === "style" ? this.dirtyStyle() : this.markRedraw()
    }
    ,
    e.prototype.attrKV = function(r, i) {
        r !== "style" ? t.prototype.attrKV.call(this, r, i) : this.style ? this.setStyle(i) : this.useStyle(i)
    }
    ,
    e.prototype.setStyle = function(r, i) {
        return typeof r == "string" ? this.style[r] = i : G(this.style, r),
        this.dirtyStyle(),
        this
    }
    ,
    e.prototype.dirtyStyle = function(r) {
        r || this.markRedraw(),
        this.__dirty |= Dn,
        this._rect && (this._rect = null)
    }
    ,
    e.prototype.dirty = function() {
        this.dirtyStyle()
    }
    ,
    e.prototype.styleChanged = function() {
        return !!(this.__dirty & Dn)
    }
    ,
    e.prototype.styleUpdated = function() {
        this.__dirty &= ~Dn
    }
    ,
    e.prototype.createStyle = function(r) {
        return Ko(Qr, r)
    }
    ,
    e.prototype.useStyle = function(r) {
        r[pu] || (r = this.createStyle(r)),
        this.__inHover ? this.__hoverStyle = r : this.style = r,
        this.dirtyStyle()
    }
    ,
    e.prototype.isStyleObject = function(r) {
        return r[pu]
    }
    ,
    e.prototype._innerSaveToNormal = function(r) {
        t.prototype._innerSaveToNormal.call(this, r);
        var i = this._normalState;
        r.style && !i.style && (i.style = this._mergeStyle(this.createStyle(), this.style)),
        this._savePrimaryToNormal(r, i, nc)
    }
    ,
    e.prototype._applyStateObj = function(r, i, n, a, o, s) {
        t.prototype._applyStateObj.call(this, r, i, n, a, o, s);
        var l = !(i && a), u;
        if (i && i.style ? o ? a ? u = i.style : (u = this._mergeStyle(this.createStyle(), n.style),
        this._mergeStyle(u, i.style)) : (u = this._mergeStyle(this.createStyle(), a ? this.style : n.style),
        this._mergeStyle(u, i.style)) : l && (u = n.style),
        u)
            if (o) {
                var h = this.style;
                if (this.style = this.createStyle(l ? {} : h),
                l)
                    for (var f = Se(h), c = 0; c < f.length; c++) {
                        var v = f[c];
                        v in u && (u[v] = u[v],
                        this.style[v] = h[v])
                    }
                for (var d = Se(u), c = 0; c < d.length; c++) {
                    var v = d[c];
                    this.style[v] = this.style[v]
                }
                this._transitionState(r, {
                    style: u
                }, s, this.getAnimationStyleProps())
            } else
                this.useStyle(u);
        for (var m = this.__inHover ? Vw : nc, c = 0; c < m.length; c++) {
            var v = m[c];
            i && i[v] != null ? this[v] = i[v] : l && n[v] != null && (this[v] = n[v])
        }
    }
    ,
    e.prototype._mergeStates = function(r) {
        for (var i = t.prototype._mergeStates.call(this, r), n, a = 0; a < r.length; a++) {
            var o = r[a];
            o.style && (n = n || {},
            this._mergeStyle(n, o.style))
        }
        return n && (i.style = n),
        i
    }
    ,
    e.prototype._mergeStyle = function(r, i) {
        return G(r, i),
        r
    }
    ,
    e.prototype.getAnimationStyleProps = function() {
        return Jo
    }
    ,
    e.initDefaultProps = function() {
        var r = e.prototype;
        r.type = "displayable",
        r.invisible = !1,
        r.z = 0,
        r.z2 = 0,
        r.zlevel = 0,
        r.culling = !1,
        r.cursor = "pointer",
        r.rectHover = !1,
        r.incremental = !1,
        r._rect = null,
        r.dirtyRectTolerance = 0,
        r.__dirty = at | Dn
    }(),
    e
}(Vp)
  , Zs = new ce(0,0,0,0)
  , Ks = new ce(0,0,0,0);
function Gw(t, e, r) {
    return Zs.copy(t.getBoundingRect()),
    t.transform && Zs.applyTransform(t.transform),
    Ks.width = e,
    Ks.height = r,
    !Zs.intersect(Ks)
}
var va = Hw
  , pt = Math.min
  , gt = Math.max
  , js = Math.sin
  , Qs = Math.cos
  , Pr = Math.PI * 2
  , Ia = Zi()
  , ka = Zi()
  , La = Zi();
function ac(t, e, r, i, n, a) {
    n[0] = pt(t, r),
    n[1] = pt(e, i),
    a[0] = gt(t, r),
    a[1] = gt(e, i)
}
var oc = []
  , sc = [];
function Ww(t, e, r, i, n, a, o, s, l, u) {
    var h = kp
      , f = Ae
      , c = h(t, r, n, o, oc);
    l[0] = 1 / 0,
    l[1] = 1 / 0,
    u[0] = -1 / 0,
    u[1] = -1 / 0;
    for (var v = 0; v < c; v++) {
        var d = f(t, r, n, o, oc[v]);
        l[0] = pt(d, l[0]),
        u[0] = gt(d, u[0])
    }
    c = h(e, i, a, s, sc);
    for (var v = 0; v < c; v++) {
        var m = f(e, i, a, s, sc[v]);
        l[1] = pt(m, l[1]),
        u[1] = gt(m, u[1])
    }
    l[0] = pt(t, l[0]),
    u[0] = gt(t, u[0]),
    l[0] = pt(o, l[0]),
    u[0] = gt(o, u[0]),
    l[1] = pt(e, l[1]),
    u[1] = gt(e, u[1]),
    l[1] = pt(s, l[1]),
    u[1] = gt(s, u[1])
}
function Uw(t, e, r, i, n, a, o, s) {
    var l = Lp
      , u = ze
      , h = gt(pt(l(t, r, n), 1), 0)
      , f = gt(pt(l(e, i, a), 1), 0)
      , c = u(t, r, n, h)
      , v = u(e, i, a, f);
    o[0] = pt(t, n, c),
    o[1] = pt(e, a, v),
    s[0] = gt(t, n, c),
    s[1] = gt(e, a, v)
}
function $w(t, e, r, i, n, a, o, s, l) {
    var u = ki
      , h = Li
      , f = Math.abs(n - a);
    if (f % Pr < 1e-4 && f > 1e-4) {
        s[0] = t - r,
        s[1] = e - i,
        l[0] = t + r,
        l[1] = e + i;
        return
    }
    if (Ia[0] = Qs(n) * r + t,
    Ia[1] = js(n) * i + e,
    ka[0] = Qs(a) * r + t,
    ka[1] = js(a) * i + e,
    u(s, Ia, ka),
    h(l, Ia, ka),
    n = n % Pr,
    n < 0 && (n = n + Pr),
    a = a % Pr,
    a < 0 && (a = a + Pr),
    n > a && !o ? a += Pr : n < a && o && (n += Pr),
    o) {
        var c = a;
        a = n,
        n = c
    }
    for (var v = 0; v < a; v += Math.PI / 2)
        v > n && (La[0] = Qs(v) * r + t,
        La[1] = js(v) * i + e,
        u(s, La, s),
        h(l, La, l))
}
var fe = {
    M: 1,
    L: 2,
    C: 3,
    Q: 4,
    A: 5,
    Z: 6,
    R: 7
}
  , Er = []
  , Rr = []
  , Pt = []
  , tr = []
  , Et = []
  , Rt = []
  , Js = Math.min
  , el = Math.max
  , Or = Math.cos
  , Br = Math.sin
  , Wt = Math.abs
  , gu = Math.PI
  , fr = gu * 2
  , tl = typeof Float32Array != "undefined"
  , hn = [];
function rl(t) {
    var e = Math.round(t / gu * 1e8) / 1e8;
    return e % 2 * gu
}
function Yw(t, e) {
    var r = rl(t[0]);
    r < 0 && (r += fr);
    var i = r - t[0]
      , n = t[1];
    n += i,
    !e && n - r >= fr ? n = r + fr : e && r - n >= fr ? n = r - fr : !e && r > n ? n = r + (fr - rl(r - n)) : e && r < n && (n = r - (fr - rl(n - r))),
    t[0] = r,
    t[1] = n
}
var Xw = function() {
    function t(e) {
        this.dpr = 1,
        this._xi = 0,
        this._yi = 0,
        this._x0 = 0,
        this._y0 = 0,
        this._len = 0,
        e && (this._saveData = !1),
        this._saveData && (this.data = [])
    }
    return t.prototype.increaseVersion = function() {
        this._version++
    }
    ,
    t.prototype.getVersion = function() {
        return this._version
    }
    ,
    t.prototype.setScale = function(e, r, i) {
        i = i || 0,
        i > 0 && (this._ux = Wt(i / Lo / e) || 0,
        this._uy = Wt(i / Lo / r) || 0)
    }
    ,
    t.prototype.setDPR = function(e) {
        this.dpr = e
    }
    ,
    t.prototype.setContext = function(e) {
        this._ctx = e
    }
    ,
    t.prototype.getContext = function() {
        return this._ctx
    }
    ,
    t.prototype.beginPath = function() {
        return this._ctx && this._ctx.beginPath(),
        this.reset(),
        this
    }
    ,
    t.prototype.reset = function() {
        this._saveData && (this._len = 0),
        this._pathSegLen && (this._pathSegLen = null,
        this._pathLen = 0),
        this._version++
    }
    ,
    t.prototype.moveTo = function(e, r) {
        return this._drawPendingPt(),
        this.addData(fe.M, e, r),
        this._ctx && this._ctx.moveTo(e, r),
        this._x0 = e,
        this._y0 = r,
        this._xi = e,
        this._yi = r,
        this
    }
    ,
    t.prototype.lineTo = function(e, r) {
        var i = Wt(e - this._xi)
          , n = Wt(r - this._yi)
          , a = i > this._ux || n > this._uy;
        if (this.addData(fe.L, e, r),
        this._ctx && a && this._ctx.lineTo(e, r),
        a)
            this._xi = e,
            this._yi = r,
            this._pendingPtDist = 0;
        else {
            var o = i * i + n * n;
            o > this._pendingPtDist && (this._pendingPtX = e,
            this._pendingPtY = r,
            this._pendingPtDist = o)
        }
        return this
    }
    ,
    t.prototype.bezierCurveTo = function(e, r, i, n, a, o) {
        return this._drawPendingPt(),
        this.addData(fe.C, e, r, i, n, a, o),
        this._ctx && this._ctx.bezierCurveTo(e, r, i, n, a, o),
        this._xi = a,
        this._yi = o,
        this
    }
    ,
    t.prototype.quadraticCurveTo = function(e, r, i, n) {
        return this._drawPendingPt(),
        this.addData(fe.Q, e, r, i, n),
        this._ctx && this._ctx.quadraticCurveTo(e, r, i, n),
        this._xi = i,
        this._yi = n,
        this
    }
    ,
    t.prototype.arc = function(e, r, i, n, a, o) {
        this._drawPendingPt(),
        hn[0] = n,
        hn[1] = a,
        Yw(hn, o),
        n = hn[0],
        a = hn[1];
        var s = a - n;
        return this.addData(fe.A, e, r, i, i, n, s, 0, o ? 0 : 1),
        this._ctx && this._ctx.arc(e, r, i, n, a, o),
        this._xi = Or(a) * i + e,
        this._yi = Br(a) * i + r,
        this
    }
    ,
    t.prototype.arcTo = function(e, r, i, n, a) {
        return this._drawPendingPt(),
        this._ctx && this._ctx.arcTo(e, r, i, n, a),
        this
    }
    ,
    t.prototype.rect = function(e, r, i, n) {
        return this._drawPendingPt(),
        this._ctx && this._ctx.rect(e, r, i, n),
        this.addData(fe.R, e, r, i, n),
        this
    }
    ,
    t.prototype.closePath = function() {
        this._drawPendingPt(),
        this.addData(fe.Z);
        var e = this._ctx
          , r = this._x0
          , i = this._y0;
        return e && e.closePath(),
        this._xi = r,
        this._yi = i,
        this
    }
    ,
    t.prototype.fill = function(e) {
        e && e.fill(),
        this.toStatic()
    }
    ,
    t.prototype.stroke = function(e) {
        e && e.stroke(),
        this.toStatic()
    }
    ,
    t.prototype.len = function() {
        return this._len
    }
    ,
    t.prototype.setData = function(e) {
        var r = e.length;
        !(this.data && this.data.length === r) && tl && (this.data = new Float32Array(r));
        for (var i = 0; i < r; i++)
            this.data[i] = e[i];
        this._len = r
    }
    ,
    t.prototype.appendPath = function(e) {
        e instanceof Array || (e = [e]);
        for (var r = e.length, i = 0, n = this._len, a = 0; a < r; a++)
            i += e[a].len();
        tl && this.data instanceof Float32Array && (this.data = new Float32Array(n + i));
        for (var a = 0; a < r; a++)
            for (var o = e[a].data, s = 0; s < o.length; s++)
                this.data[n++] = o[s];
        this._len = n
    }
    ,
    t.prototype.addData = function(e, r, i, n, a, o, s, l, u) {
        if (!!this._saveData) {
            var h = this.data;
            this._len + arguments.length > h.length && (this._expandData(),
            h = this.data);
            for (var f = 0; f < arguments.length; f++)
                h[this._len++] = arguments[f]
        }
    }
    ,
    t.prototype._drawPendingPt = function() {
        this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY),
        this._pendingPtDist = 0)
    }
    ,
    t.prototype._expandData = function() {
        if (!(this.data instanceof Array)) {
            for (var e = [], r = 0; r < this._len; r++)
                e[r] = this.data[r];
            this.data = e
        }
    }
    ,
    t.prototype.toStatic = function() {
        if (!!this._saveData) {
            this._drawPendingPt();
            var e = this.data;
            e instanceof Array && (e.length = this._len,
            tl && this._len > 11 && (this.data = new Float32Array(e)))
        }
    }
    ,
    t.prototype.getBoundingRect = function() {
        Pt[0] = Pt[1] = Et[0] = Et[1] = Number.MAX_VALUE,
        tr[0] = tr[1] = Rt[0] = Rt[1] = -Number.MAX_VALUE;
        var e = this.data, r = 0, i = 0, n = 0, a = 0, o;
        for (o = 0; o < this._len; ) {
            var s = e[o++]
              , l = o === 1;
            switch (l && (r = e[o],
            i = e[o + 1],
            n = r,
            a = i),
            s) {
            case fe.M:
                r = n = e[o++],
                i = a = e[o++],
                Et[0] = n,
                Et[1] = a,
                Rt[0] = n,
                Rt[1] = a;
                break;
            case fe.L:
                ac(r, i, e[o], e[o + 1], Et, Rt),
                r = e[o++],
                i = e[o++];
                break;
            case fe.C:
                Ww(r, i, e[o++], e[o++], e[o++], e[o++], e[o], e[o + 1], Et, Rt),
                r = e[o++],
                i = e[o++];
                break;
            case fe.Q:
                Uw(r, i, e[o++], e[o++], e[o], e[o + 1], Et, Rt),
                r = e[o++],
                i = e[o++];
                break;
            case fe.A:
                var u = e[o++]
                  , h = e[o++]
                  , f = e[o++]
                  , c = e[o++]
                  , v = e[o++]
                  , d = e[o++] + v;
                o += 1;
                var m = !e[o++];
                l && (n = Or(v) * f + u,
                a = Br(v) * c + h),
                $w(u, h, f, c, v, d, m, Et, Rt),
                r = Or(d) * f + u,
                i = Br(d) * c + h;
                break;
            case fe.R:
                n = r = e[o++],
                a = i = e[o++];
                var p = e[o++]
                  , g = e[o++];
                ac(n, a, n + p, a + g, Et, Rt);
                break;
            case fe.Z:
                r = n,
                i = a;
                break
            }
            ki(Pt, Pt, Et),
            Li(tr, tr, Rt)
        }
        return o === 0 && (Pt[0] = Pt[1] = tr[0] = tr[1] = 0),
        new ce(Pt[0],Pt[1],tr[0] - Pt[0],tr[1] - Pt[1])
    }
    ,
    t.prototype._calculateLength = function() {
        var e = this.data
          , r = this._len
          , i = this._ux
          , n = this._uy
          , a = 0
          , o = 0
          , s = 0
          , l = 0;
        this._pathSegLen || (this._pathSegLen = []);
        for (var u = this._pathSegLen, h = 0, f = 0, c = 0; c < r; ) {
            var v = e[c++]
              , d = c === 1;
            d && (a = e[c],
            o = e[c + 1],
            s = a,
            l = o);
            var m = -1;
            switch (v) {
            case fe.M:
                a = s = e[c++],
                o = l = e[c++];
                break;
            case fe.L:
                {
                    var p = e[c++]
                      , g = e[c++]
                      , y = p - a
                      , _ = g - o;
                    (Wt(y) > i || Wt(_) > n || c === r - 1) && (m = Math.sqrt(y * y + _ * _),
                    a = p,
                    o = g);
                    break
                }
            case fe.C:
                {
                    var w = e[c++]
                      , b = e[c++]
                      , p = e[c++]
                      , g = e[c++]
                      , S = e[c++]
                      , C = e[c++];
                    m = f2(a, o, w, b, p, g, S, C, 10),
                    a = S,
                    o = C;
                    break
                }
            case fe.Q:
                {
                    var w = e[c++]
                      , b = e[c++]
                      , p = e[c++]
                      , g = e[c++];
                    m = d2(a, o, w, b, p, g, 10),
                    a = p,
                    o = g;
                    break
                }
            case fe.A:
                var T = e[c++]
                  , x = e[c++]
                  , D = e[c++]
                  , A = e[c++]
                  , k = e[c++]
                  , P = e[c++]
                  , E = P + k;
                c += 1,
                d && (s = Or(k) * D + T,
                l = Br(k) * A + x),
                m = el(D, A) * Js(fr, Math.abs(P)),
                a = Or(E) * D + T,
                o = Br(E) * A + x;
                break;
            case fe.R:
                {
                    s = a = e[c++],
                    l = o = e[c++];
                    var O = e[c++]
                      , B = e[c++];
                    m = O * 2 + B * 2;
                    break
                }
            case fe.Z:
                {
                    var y = s - a
                      , _ = l - o;
                    m = Math.sqrt(y * y + _ * _),
                    a = s,
                    o = l;
                    break
                }
            }
            m >= 0 && (u[f++] = m,
            h += m)
        }
        return this._pathLen = h,
        h
    }
    ,
    t.prototype.rebuildPath = function(e, r) {
        var i = this.data, n = this._ux, a = this._uy, o = this._len, s, l, u, h, f, c, v = r < 1, d, m, p = 0, g = 0, y, _ = 0, w, b;
        if (v && (this._pathSegLen || this._calculateLength(),
        d = this._pathSegLen,
        m = this._pathLen,
        y = r * m,
        !y))
            return;
        e: for (var S = 0; S < o; ) {
            var C = i[S++]
              , T = S === 1;
            switch (T && (u = i[S],
            h = i[S + 1],
            s = u,
            l = h),
            C !== fe.L && _ > 0 && (e.lineTo(w, b),
            _ = 0),
            C) {
            case fe.M:
                s = u = i[S++],
                l = h = i[S++],
                e.moveTo(u, h);
                break;
            case fe.L:
                {
                    f = i[S++],
                    c = i[S++];
                    var x = Wt(f - u)
                      , D = Wt(c - h);
                    if (x > n || D > a) {
                        if (v) {
                            var A = d[g++];
                            if (p + A > y) {
                                var k = (y - p) / A;
                                e.lineTo(u * (1 - k) + f * k, h * (1 - k) + c * k);
                                break e
                            }
                            p += A
                        }
                        e.lineTo(f, c),
                        u = f,
                        h = c,
                        _ = 0
                    } else {
                        var P = x * x + D * D;
                        P > _ && (w = f,
                        b = c,
                        _ = P)
                    }
                    break
                }
            case fe.C:
                {
                    var E = i[S++]
                      , O = i[S++]
                      , B = i[S++]
                      , te = i[S++]
                      , W = i[S++]
                      , Z = i[S++];
                    if (v) {
                        var A = d[g++];
                        if (p + A > y) {
                            var k = (y - p) / A;
                            Ao(u, E, B, W, k, Er),
                            Ao(h, O, te, Z, k, Rr),
                            e.bezierCurveTo(Er[1], Rr[1], Er[2], Rr[2], Er[3], Rr[3]);
                            break e
                        }
                        p += A
                    }
                    e.bezierCurveTo(E, O, B, te, W, Z),
                    u = W,
                    h = Z;
                    break
                }
            case fe.Q:
                {
                    var E = i[S++]
                      , O = i[S++]
                      , B = i[S++]
                      , te = i[S++];
                    if (v) {
                        var A = d[g++];
                        if (p + A > y) {
                            var k = (y - p) / A;
                            Io(u, E, B, k, Er),
                            Io(h, O, te, k, Rr),
                            e.quadraticCurveTo(Er[1], Rr[1], Er[2], Rr[2]);
                            break e
                        }
                        p += A
                    }
                    e.quadraticCurveTo(E, O, B, te),
                    u = B,
                    h = te;
                    break
                }
            case fe.A:
                var re = i[S++]
                  , ve = i[S++]
                  , $ = i[S++]
                  , z = i[S++]
                  , N = i[S++]
                  , j = i[S++]
                  , q = i[S++]
                  , M = !i[S++]
                  , K = $ > z ? $ : z
                  , Ie = Wt($ - z) > .001
                  , ke = N + j
                  , ie = !1;
                if (v) {
                    var A = d[g++];
                    p + A > y && (ke = N + j * (y - p) / A,
                    ie = !0),
                    p += A
                }
                if (Ie && e.ellipse ? e.ellipse(re, ve, $, z, q, N, ke, M) : e.arc(re, ve, K, N, ke, M),
                ie)
                    break e;
                T && (s = Or(N) * $ + re,
                l = Br(N) * z + ve),
                u = Or(ke) * $ + re,
                h = Br(ke) * z + ve;
                break;
            case fe.R:
                s = u = i[S],
                l = h = i[S + 1],
                f = i[S++],
                c = i[S++];
                var he = i[S++]
                  , br = i[S++];
                if (v) {
                    var A = d[g++];
                    if (p + A > y) {
                        var He = y - p;
                        e.moveTo(f, c),
                        e.lineTo(f + Js(He, he), c),
                        He -= he,
                        He > 0 && e.lineTo(f + he, c + Js(He, br)),
                        He -= br,
                        He > 0 && e.lineTo(f + el(he - He, 0), c + br),
                        He -= he,
                        He > 0 && e.lineTo(f, c + el(br - He, 0));
                        break e
                    }
                    p += A
                }
                e.rect(f, c, he, br);
                break;
            case fe.Z:
                if (v) {
                    var A = d[g++];
                    if (p + A > y) {
                        var k = (y - p) / A;
                        e.lineTo(u * (1 - k) + s * k, h * (1 - k) + l * k);
                        break e
                    }
                    p += A
                }
                e.closePath(),
                u = s,
                h = l
            }
        }
    }
    ,
    t.prototype.clone = function() {
        var e = new t
          , r = this.data;
        return e.data = r.slice ? r.slice() : Array.prototype.slice.call(r),
        e._len = this._len,
        e
    }
    ,
    t.CMD = fe,
    t.initDefaultProps = function() {
        var e = t.prototype;
        e._saveData = !0,
        e._ux = 0,
        e._uy = 0,
        e._pendingPtDist = 0,
        e._version = 0
    }(),
    t
}()
  , ai = Xw;
function yi(t, e, r, i, n, a, o) {
    if (n === 0)
        return !1;
    var s = n
      , l = 0
      , u = t;
    if (o > e + s && o > i + s || o < e - s && o < i - s || a > t + s && a > r + s || a < t - s && a < r - s)
        return !1;
    if (t !== r)
        l = (e - i) / (t - r),
        u = (t * i - r * e) / (t - r);
    else
        return Math.abs(a - t) <= s / 2;
    var h = l * a - o + u
      , f = h * h / (l * l + 1);
    return f <= s / 2 * s / 2
}
function qw(t, e, r, i, n, a, o, s, l, u, h) {
    if (l === 0)
        return !1;
    var f = l;
    if (h > e + f && h > i + f && h > a + f && h > s + f || h < e - f && h < i - f && h < a - f && h < s - f || u > t + f && u > r + f && u > n + f && u > o + f || u < t - f && u < r - f && u < n - f && u < o - f)
        return !1;
    var c = h2(t, e, r, i, n, a, o, s, u, h, null);
    return c <= f / 2
}
function Zw(t, e, r, i, n, a, o, s, l) {
    if (o === 0)
        return !1;
    var u = o;
    if (l > e + u && l > i + u && l > a + u || l < e - u && l < i - u && l < a - u || s > t + u && s > r + u && s > n + u || s < t - u && s < r - u && s < n - u)
        return !1;
    var h = v2(t, e, r, i, n, a, s, l, null);
    return h <= u / 2
}
var lc = Math.PI * 2;
function Pa(t) {
    return t %= lc,
    t < 0 && (t += lc),
    t
}
var fn = Math.PI * 2;
function Kw(t, e, r, i, n, a, o, s, l) {
    if (o === 0)
        return !1;
    var u = o;
    s -= t,
    l -= e;
    var h = Math.sqrt(s * s + l * l);
    if (h - u > r || h + u < r)
        return !1;
    if (Math.abs(i - n) % fn < 1e-4)
        return !0;
    if (a) {
        var f = i;
        i = Pa(n),
        n = Pa(f)
    } else
        i = Pa(i),
        n = Pa(n);
    i > n && (n += fn);
    var c = Math.atan2(l, s);
    return c < 0 && (c += fn),
    c >= i && c <= n || c + fn >= i && c + fn <= n
}
function Nr(t, e, r, i, n, a) {
    if (a > e && a > i || a < e && a < i || i === e)
        return 0;
    var o = (a - e) / (i - e)
      , s = i < e ? 1 : -1;
    (o === 1 || o === 0) && (s = i < e ? .5 : -.5);
    var l = o * (r - t) + t;
    return l === n ? 1 / 0 : l > n ? s : 0
}
var rr = ai.CMD
  , Fr = Math.PI * 2
  , jw = 1e-4;
function Qw(t, e) {
    return Math.abs(t - e) < jw
}
var We = [-1, -1, -1]
  , vt = [-1, -1];
function Jw() {
    var t = vt[0];
    vt[0] = vt[1],
    vt[1] = t
}
function eS(t, e, r, i, n, a, o, s, l, u) {
    if (u > e && u > i && u > a && u > s || u < e && u < i && u < a && u < s)
        return 0;
    var h = Do(e, i, a, s, u, We);
    if (h === 0)
        return 0;
    for (var f = 0, c = -1, v = void 0, d = void 0, m = 0; m < h; m++) {
        var p = We[m]
          , g = p === 0 || p === 1 ? .5 : 1
          , y = Ae(t, r, n, o, p);
        y < l || (c < 0 && (c = kp(e, i, a, s, vt),
        vt[1] < vt[0] && c > 1 && Jw(),
        v = Ae(e, i, a, s, vt[0]),
        c > 1 && (d = Ae(e, i, a, s, vt[1]))),
        c === 2 ? p < vt[0] ? f += v < e ? g : -g : p < vt[1] ? f += d < v ? g : -g : f += s < d ? g : -g : p < vt[0] ? f += v < e ? g : -g : f += s < v ? g : -g)
    }
    return f
}
function tS(t, e, r, i, n, a, o, s) {
    if (s > e && s > i && s > a || s < e && s < i && s < a)
        return 0;
    var l = c2(e, i, a, s, We);
    if (l === 0)
        return 0;
    var u = Lp(e, i, a);
    if (u >= 0 && u <= 1) {
        for (var h = 0, f = ze(e, i, a, u), c = 0; c < l; c++) {
            var v = We[c] === 0 || We[c] === 1 ? .5 : 1
              , d = ze(t, r, n, We[c]);
            d < o || (We[c] < u ? h += f < e ? v : -v : h += a < f ? v : -v)
        }
        return h
    } else {
        var v = We[0] === 0 || We[0] === 1 ? .5 : 1
          , d = ze(t, r, n, We[0]);
        return d < o ? 0 : a < e ? v : -v
    }
}
function rS(t, e, r, i, n, a, o, s) {
    if (s -= e,
    s > r || s < -r)
        return 0;
    var l = Math.sqrt(r * r - s * s);
    We[0] = -l,
    We[1] = l;
    var u = Math.abs(i - n);
    if (u < 1e-4)
        return 0;
    if (u >= Fr - 1e-4) {
        i = 0,
        n = Fr;
        var h = a ? 1 : -1;
        return o >= We[0] + t && o <= We[1] + t ? h : 0
    }
    if (i > n) {
        var f = i;
        i = n,
        n = f
    }
    i < 0 && (i += Fr,
    n += Fr);
    for (var c = 0, v = 0; v < 2; v++) {
        var d = We[v];
        if (d + t > o) {
            var m = Math.atan2(s, d)
              , h = a ? 1 : -1;
            m < 0 && (m = Fr + m),
            (m >= i && m <= n || m + Fr >= i && m + Fr <= n) && (m > Math.PI / 2 && m < Math.PI * 1.5 && (h = -h),
            c += h)
        }
    }
    return c
}
function ng(t, e, r, i, n) {
    for (var a = t.data, o = t.len(), s = 0, l = 0, u = 0, h = 0, f = 0, c, v, d = 0; d < o; ) {
        var m = a[d++]
          , p = d === 1;
        switch (m === rr.M && d > 1 && (r || (s += Nr(l, u, h, f, i, n))),
        p && (l = a[d],
        u = a[d + 1],
        h = l,
        f = u),
        m) {
        case rr.M:
            h = a[d++],
            f = a[d++],
            l = h,
            u = f;
            break;
        case rr.L:
            if (r) {
                if (yi(l, u, a[d], a[d + 1], e, i, n))
                    return !0
            } else
                s += Nr(l, u, a[d], a[d + 1], i, n) || 0;
            l = a[d++],
            u = a[d++];
            break;
        case rr.C:
            if (r) {
                if (qw(l, u, a[d++], a[d++], a[d++], a[d++], a[d], a[d + 1], e, i, n))
                    return !0
            } else
                s += eS(l, u, a[d++], a[d++], a[d++], a[d++], a[d], a[d + 1], i, n) || 0;
            l = a[d++],
            u = a[d++];
            break;
        case rr.Q:
            if (r) {
                if (Zw(l, u, a[d++], a[d++], a[d], a[d + 1], e, i, n))
                    return !0
            } else
                s += tS(l, u, a[d++], a[d++], a[d], a[d + 1], i, n) || 0;
            l = a[d++],
            u = a[d++];
            break;
        case rr.A:
            var g = a[d++]
              , y = a[d++]
              , _ = a[d++]
              , w = a[d++]
              , b = a[d++]
              , S = a[d++];
            d += 1;
            var C = !!(1 - a[d++]);
            c = Math.cos(b) * _ + g,
            v = Math.sin(b) * w + y,
            p ? (h = c,
            f = v) : s += Nr(l, u, c, v, i, n);
            var T = (i - g) * w / _ + g;
            if (r) {
                if (Kw(g, y, w, b, b + S, C, e, T, n))
                    return !0
            } else
                s += rS(g, y, w, b, b + S, C, T, n);
            l = Math.cos(b + S) * _ + g,
            u = Math.sin(b + S) * w + y;
            break;
        case rr.R:
            h = l = a[d++],
            f = u = a[d++];
            var x = a[d++]
              , D = a[d++];
            if (c = h + x,
            v = f + D,
            r) {
                if (yi(h, f, c, f, e, i, n) || yi(c, f, c, v, e, i, n) || yi(c, v, h, v, e, i, n) || yi(h, v, h, f, e, i, n))
                    return !0
            } else
                s += Nr(c, f, c, v, i, n),
                s += Nr(h, v, h, f, i, n);
            break;
        case rr.Z:
            if (r) {
                if (yi(l, u, h, f, e, i, n))
                    return !0
            } else
                s += Nr(l, u, h, f, i, n);
            l = h,
            u = f;
            break
        }
    }
    return !r && !Qw(u, f) && (s += Nr(l, u, h, f, i, n) || 0),
    s !== 0
}
function iS(t, e, r) {
    return ng(t, 0, !1, e, r)
}
function nS(t, e, r, i) {
    return ng(t, e, !0, r, i)
}
var ag = me({
    fill: "#000",
    stroke: null,
    strokePercent: 1,
    fillOpacity: 1,
    strokeOpacity: 1,
    lineDashOffset: 0,
    lineWidth: 1,
    lineCap: "butt",
    miterLimit: 10,
    strokeNoScale: !1,
    strokeFirst: !1
}, Qr)
  , aS = {
    style: me({
        fill: !0,
        stroke: !0,
        strokePercent: !0,
        fillOpacity: !0,
        strokeOpacity: !0,
        lineDashOffset: !0,
        lineWidth: !0,
        miterLimit: !0
    }, Jo.style)
}
  , il = Xn.concat(["invisible", "culling", "z", "z2", "zlevel", "parent"])
  , oS = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.update = function() {
        var r = this;
        t.prototype.update.call(this);
        var i = this.style;
        if (i.decal) {
            var n = this._decalEl = this._decalEl || new e;
            n.buildPath === e.prototype.buildPath && (n.buildPath = function(l) {
                r.buildPath(l, r.shape)
            }
            ),
            n.silent = !0;
            var a = n.style;
            for (var o in i)
                a[o] !== i[o] && (a[o] = i[o]);
            a.fill = i.fill ? i.decal : null,
            a.decal = null,
            a.shadowColor = null,
            i.strokeFirst && (a.stroke = null);
            for (var s = 0; s < il.length; ++s)
                n[il[s]] = this[il[s]];
            n.__dirty |= at
        } else
            this._decalEl && (this._decalEl = null)
    }
    ,
    e.prototype.getDecalElement = function() {
        return this._decalEl
    }
    ,
    e.prototype._init = function(r) {
        var i = Se(r);
        this.shape = this.getDefaultShape();
        var n = this.getDefaultStyle();
        n && this.useStyle(n);
        for (var a = 0; a < i.length; a++) {
            var o = i[a]
              , s = r[o];
            o === "style" ? this.style ? G(this.style, s) : this.useStyle(s) : o === "shape" ? G(this.shape, s) : t.prototype.attrKV.call(this, o, s)
        }
        this.style || this.useStyle({})
    }
    ,
    e.prototype.getDefaultStyle = function() {
        return null
    }
    ,
    e.prototype.getDefaultShape = function() {
        return {}
    }
    ,
    e.prototype.canBeInsideText = function() {
        return this.hasFill()
    }
    ,
    e.prototype.getInsideTextFill = function() {
        var r = this.style.fill;
        if (r !== "none") {
            if (Q(r)) {
                var i = ko(r, 0);
                return i > .5 ? fu : i > .2 ? z2 : cu
            } else if (r)
                return cu
        }
        return fu
    }
    ,
    e.prototype.getInsideTextStroke = function(r) {
        var i = this.style.fill;
        if (Q(i)) {
            var n = this.__zr
              , a = !!(n && n.isDarkMode())
              , o = ko(r, 0) < hu;
            if (a === o)
                return i
        }
    }
    ,
    e.prototype.buildPath = function(r, i, n) {}
    ,
    e.prototype.pathUpdated = function() {
        this.__dirty &= ~Ai
    }
    ,
    e.prototype.getUpdatedPathProxy = function(r) {
        return !this.path && this.createPathProxy(),
        this.path.beginPath(),
        this.buildPath(this.path, this.shape, r),
        this.path
    }
    ,
    e.prototype.createPathProxy = function() {
        this.path = new ai(!1)
    }
    ,
    e.prototype.hasStroke = function() {
        var r = this.style
          , i = r.stroke;
        return !(i == null || i === "none" || !(r.lineWidth > 0))
    }
    ,
    e.prototype.hasFill = function() {
        var r = this.style
          , i = r.fill;
        return i != null && i !== "none"
    }
    ,
    e.prototype.getBoundingRect = function() {
        var r = this._rect
          , i = this.style
          , n = !r;
        if (n) {
            var a = !1;
            this.path || (a = !0,
            this.createPathProxy());
            var o = this.path;
            (a || this.__dirty & Ai) && (o.beginPath(),
            this.buildPath(o, this.shape, !1),
            this.pathUpdated()),
            r = o.getBoundingRect()
        }
        if (this._rect = r,
        this.hasStroke() && this.path && this.path.len() > 0) {
            var s = this._rectStroke || (this._rectStroke = r.clone());
            if (this.__dirty || n) {
                s.copy(r);
                var l = i.strokeNoScale ? this.getLineScale() : 1
                  , u = i.lineWidth;
                if (!this.hasFill()) {
                    var h = this.strokeContainThreshold;
                    u = Math.max(u, h == null ? 4 : h)
                }
                l > 1e-10 && (s.width += u / l,
                s.height += u / l,
                s.x -= u / l / 2,
                s.y -= u / l / 2)
            }
            return s
        }
        return r
    }
    ,
    e.prototype.contain = function(r, i) {
        var n = this.transformCoordToLocal(r, i)
          , a = this.getBoundingRect()
          , o = this.style;
        if (r = n[0],
        i = n[1],
        a.contain(r, i)) {
            var s = this.path;
            if (this.hasStroke()) {
                var l = o.lineWidth
                  , u = o.strokeNoScale ? this.getLineScale() : 1;
                if (u > 1e-10 && (this.hasFill() || (l = Math.max(l, this.strokeContainThreshold)),
                nS(s, l / u, r, i)))
                    return !0
            }
            if (this.hasFill())
                return iS(s, r, i)
        }
        return !1
    }
    ,
    e.prototype.dirtyShape = function() {
        this.__dirty |= Ai,
        this._rect && (this._rect = null),
        this._decalEl && this._decalEl.dirtyShape(),
        this.markRedraw()
    }
    ,
    e.prototype.dirty = function() {
        this.dirtyStyle(),
        this.dirtyShape()
    }
    ,
    e.prototype.animateShape = function(r) {
        return this.animate("shape", r)
    }
    ,
    e.prototype.updateDuringAnimation = function(r) {
        r === "style" ? this.dirtyStyle() : r === "shape" ? this.dirtyShape() : this.markRedraw()
    }
    ,
    e.prototype.attrKV = function(r, i) {
        r === "shape" ? this.setShape(i) : t.prototype.attrKV.call(this, r, i)
    }
    ,
    e.prototype.setShape = function(r, i) {
        var n = this.shape;
        return n || (n = this.shape = {}),
        typeof r == "string" ? n[r] = i : G(n, r),
        this.dirtyShape(),
        this
    }
    ,
    e.prototype.shapeChanged = function() {
        return !!(this.__dirty & Ai)
    }
    ,
    e.prototype.createStyle = function(r) {
        return Ko(ag, r)
    }
    ,
    e.prototype._innerSaveToNormal = function(r) {
        t.prototype._innerSaveToNormal.call(this, r);
        var i = this._normalState;
        r.shape && !i.shape && (i.shape = G({}, this.shape))
    }
    ,
    e.prototype._applyStateObj = function(r, i, n, a, o, s) {
        t.prototype._applyStateObj.call(this, r, i, n, a, o, s);
        var l = !(i && a), u;
        if (i && i.shape ? o ? a ? u = i.shape : (u = G({}, n.shape),
        G(u, i.shape)) : (u = G({}, a ? this.shape : n.shape),
        G(u, i.shape)) : l && (u = n.shape),
        u)
            if (o) {
                this.shape = G({}, this.shape);
                for (var h = {}, f = Se(u), c = 0; c < f.length; c++) {
                    var v = f[c];
                    typeof u[v] == "object" ? this.shape[v] = u[v] : h[v] = u[v]
                }
                this._transitionState(r, {
                    shape: h
                }, s)
            } else
                this.shape = u,
                this.dirtyShape()
    }
    ,
    e.prototype._mergeStates = function(r) {
        for (var i = t.prototype._mergeStates.call(this, r), n, a = 0; a < r.length; a++) {
            var o = r[a];
            o.shape && (n = n || {},
            this._mergeStyle(n, o.shape))
        }
        return n && (i.shape = n),
        i
    }
    ,
    e.prototype.getAnimationStyleProps = function() {
        return aS
    }
    ,
    e.prototype.isZeroArea = function() {
        return !1
    }
    ,
    e.extend = function(r) {
        var i = function(a) {
            X(o, a);
            function o(s) {
                var l = a.call(this, s) || this;
                return r.init && r.init.call(l, s),
                l
            }
            return o.prototype.getDefaultStyle = function() {
                return ue(r.style)
            }
            ,
            o.prototype.getDefaultShape = function() {
                return ue(r.shape)
            }
            ,
            o
        }(e);
        for (var n in r)
            typeof r[n] == "function" && (i.prototype[n] = r[n]);
        return i
    }
    ,
    e.initDefaultProps = function() {
        var r = e.prototype;
        r.type = "path",
        r.strokeContainThreshold = 5,
        r.segmentIgnoreThreshold = 0,
        r.subPixelOptimize = !1,
        r.autoBatch = !1,
        r.__dirty = at | Dn | Ai
    }(),
    e
}(va)
  , ye = oS
  , sS = me({
    strokeFirst: !0,
    font: ri,
    x: 0,
    y: 0,
    textAlign: "left",
    textBaseline: "top",
    miterLimit: 2
}, ag)
  , og = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.hasStroke = function() {
        var r = this.style
          , i = r.stroke;
        return i != null && i !== "none" && r.lineWidth > 0
    }
    ,
    e.prototype.hasFill = function() {
        var r = this.style
          , i = r.fill;
        return i != null && i !== "none"
    }
    ,
    e.prototype.createStyle = function(r) {
        return Ko(sS, r)
    }
    ,
    e.prototype.setBoundingRect = function(r) {
        this._rect = r
    }
    ,
    e.prototype.getBoundingRect = function() {
        var r = this.style;
        if (!this._rect) {
            var i = r.text;
            i != null ? i += "" : i = "";
            var n = uh(i, r.font, r.textAlign, r.textBaseline);
            if (n.x += r.x || 0,
            n.y += r.y || 0,
            this.hasStroke()) {
                var a = r.lineWidth;
                n.x -= a / 2,
                n.y -= a / 2,
                n.width += a,
                n.height += a
            }
            this._rect = n
        }
        return this._rect
    }
    ,
    e.initDefaultProps = function() {
        var r = e.prototype;
        r.dirtyRectTolerance = 10
    }(),
    e
}(va);
og.prototype.type = "tspan";
var mu = og
  , lS = me({
    x: 0,
    y: 0
}, Qr)
  , uS = {
    style: me({
        x: !0,
        y: !0,
        width: !0,
        height: !0,
        sx: !0,
        sy: !0,
        sWidth: !0,
        sHeight: !0
    }, Jo.style)
};
function hS(t) {
    return !!(t && typeof t != "string" && t.width && t.height)
}
var sg = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.createStyle = function(r) {
        return Ko(lS, r)
    }
    ,
    e.prototype._getSize = function(r) {
        var i = this.style
          , n = i[r];
        if (n != null)
            return n;
        var a = hS(i.image) ? i.image : this.__image;
        if (!a)
            return 0;
        var o = r === "width" ? "height" : "width"
          , s = i[o];
        return s == null ? a[r] : a[r] / a[o] * s
    }
    ,
    e.prototype.getWidth = function() {
        return this._getSize("width")
    }
    ,
    e.prototype.getHeight = function() {
        return this._getSize("height")
    }
    ,
    e.prototype.getAnimationStyleProps = function() {
        return uS
    }
    ,
    e.prototype.getBoundingRect = function() {
        var r = this.style;
        return this._rect || (this._rect = new ce(r.x || 0,r.y || 0,this.getWidth(),this.getHeight())),
        this._rect
    }
    ,
    e
}(va);
sg.prototype.type = "image";
var hi = sg;
function fS(t, e) {
    var r = e.x, i = e.y, n = e.width, a = e.height, o = e.r, s, l, u, h;
    n < 0 && (r = r + n,
    n = -n),
    a < 0 && (i = i + a,
    a = -a),
    typeof o == "number" ? s = l = u = h = o : o instanceof Array ? o.length === 1 ? s = l = u = h = o[0] : o.length === 2 ? (s = u = o[0],
    l = h = o[1]) : o.length === 3 ? (s = o[0],
    l = h = o[1],
    u = o[2]) : (s = o[0],
    l = o[1],
    u = o[2],
    h = o[3]) : s = l = u = h = 0;
    var f;
    s + l > n && (f = s + l,
    s *= n / f,
    l *= n / f),
    u + h > n && (f = u + h,
    u *= n / f,
    h *= n / f),
    l + u > a && (f = l + u,
    l *= a / f,
    u *= a / f),
    s + h > a && (f = s + h,
    s *= a / f,
    h *= a / f),
    t.moveTo(r + s, i),
    t.lineTo(r + n - l, i),
    l !== 0 && t.arc(r + n - l, i + l, l, -Math.PI / 2, 0),
    t.lineTo(r + n, i + a - u),
    u !== 0 && t.arc(r + n - u, i + a - u, u, 0, Math.PI / 2),
    t.lineTo(r + h, i + a),
    h !== 0 && t.arc(r + h, i + a - h, h, Math.PI / 2, Math.PI),
    t.lineTo(r, i + s),
    s !== 0 && t.arc(r + s, i + s, s, Math.PI, Math.PI * 1.5)
}
var Ei = Math.round;
function lg(t, e, r) {
    if (!!e) {
        var i = e.x1
          , n = e.x2
          , a = e.y1
          , o = e.y2;
        t.x1 = i,
        t.x2 = n,
        t.y1 = a,
        t.y2 = o;
        var s = r && r.lineWidth;
        return s && (Ei(i * 2) === Ei(n * 2) && (t.x1 = t.x2 = Zr(i, s, !0)),
        Ei(a * 2) === Ei(o * 2) && (t.y1 = t.y2 = Zr(a, s, !0))),
        t
    }
}
function ug(t, e, r) {
    if (!!e) {
        var i = e.x
          , n = e.y
          , a = e.width
          , o = e.height;
        t.x = i,
        t.y = n,
        t.width = a,
        t.height = o;
        var s = r && r.lineWidth;
        return s && (t.x = Zr(i, s, !0),
        t.y = Zr(n, s, !0),
        t.width = Math.max(Zr(i + a, s, !1) - t.x, a === 0 ? 0 : 1),
        t.height = Math.max(Zr(n + o, s, !1) - t.y, o === 0 ? 0 : 1)),
        t
    }
}
function Zr(t, e, r) {
    if (!e)
        return t;
    var i = Ei(t * 2);
    return (i + Ei(e)) % 2 === 0 ? i / 2 : (i + (r ? 1 : -1)) / 2
}
var cS = function() {
    function t() {
        this.x = 0,
        this.y = 0,
        this.width = 0,
        this.height = 0
    }
    return t
}()
  , vS = {}
  , hg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultShape = function() {
        return new cS
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n, a, o, s;
        if (this.subPixelOptimize) {
            var l = ug(vS, i, this.style);
            n = l.x,
            a = l.y,
            o = l.width,
            s = l.height,
            l.r = i.r,
            i = l
        } else
            n = i.x,
            a = i.y,
            o = i.width,
            s = i.height;
        i.r ? fS(r, i) : r.rect(n, a, o, s)
    }
    ,
    e.prototype.isZeroArea = function() {
        return !this.shape.width || !this.shape.height
    }
    ,
    e
}(ye);
hg.prototype.type = "rect";
var Je = hg
  , uc = {
    fill: "#000"
}
  , hc = 2
  , dS = {
    style: me({
        fill: !0,
        stroke: !0,
        fillOpacity: !0,
        strokeOpacity: !0,
        lineWidth: !0,
        fontSize: !0,
        lineHeight: !0,
        width: !0,
        height: !0,
        textShadowColor: !0,
        textShadowBlur: !0,
        textShadowOffsetX: !0,
        textShadowOffsetY: !0,
        backgroundColor: !0,
        padding: !0,
        borderColor: !0,
        borderWidth: !0,
        borderRadius: !0
    }, Jo.style)
}
  , fg = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this) || this;
        return i.type = "text",
        i._children = [],
        i._defaultStyle = uc,
        i.attr(r),
        i
    }
    return e.prototype.childrenRef = function() {
        return this._children
    }
    ,
    e.prototype.update = function() {
        t.prototype.update.call(this),
        this.styleChanged() && this._updateSubTexts();
        for (var r = 0; r < this._children.length; r++) {
            var i = this._children[r];
            i.zlevel = this.zlevel,
            i.z = this.z,
            i.z2 = this.z2,
            i.culling = this.culling,
            i.cursor = this.cursor,
            i.invisible = this.invisible
        }
    }
    ,
    e.prototype.updateTransform = function() {
        var r = this.innerTransformable;
        r ? (r.updateTransform(),
        r.transform && (this.transform = r.transform)) : t.prototype.updateTransform.call(this)
    }
    ,
    e.prototype.getLocalTransform = function(r) {
        var i = this.innerTransformable;
        return i ? i.getLocalTransform(r) : t.prototype.getLocalTransform.call(this, r)
    }
    ,
    e.prototype.getComputedTransform = function() {
        return this.__hostTarget && (this.__hostTarget.getComputedTransform(),
        this.__hostTarget.updateInnerText(!0)),
        t.prototype.getComputedTransform.call(this)
    }
    ,
    e.prototype._updateSubTexts = function() {
        this._childCursor = 0,
        _S(this.style),
        this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(),
        this._children.length = this._childCursor,
        this.styleUpdated()
    }
    ,
    e.prototype.addSelfToZr = function(r) {
        t.prototype.addSelfToZr.call(this, r);
        for (var i = 0; i < this._children.length; i++)
            this._children[i].__zr = r
    }
    ,
    e.prototype.removeSelfFromZr = function(r) {
        t.prototype.removeSelfFromZr.call(this, r);
        for (var i = 0; i < this._children.length; i++)
            this._children[i].__zr = null
    }
    ,
    e.prototype.getBoundingRect = function() {
        if (this.styleChanged() && this._updateSubTexts(),
        !this._rect) {
            for (var r = new ce(0,0,0,0), i = this._children, n = [], a = null, o = 0; o < i.length; o++) {
                var s = i[o]
                  , l = s.getBoundingRect()
                  , u = s.getLocalTransform(n);
                u ? (r.copy(l),
                r.applyTransform(u),
                a = a || r.clone(),
                a.union(r)) : (a = a || l.clone(),
                a.union(l))
            }
            this._rect = a || r
        }
        return this._rect
    }
    ,
    e.prototype.setDefaultTextStyle = function(r) {
        this._defaultStyle = r || uc
    }
    ,
    e.prototype.setTextContent = function(r) {}
    ,
    e.prototype._mergeStyle = function(r, i) {
        if (!i)
            return r;
        var n = i.rich
          , a = r.rich || n && {};
        return G(r, i),
        n && a ? (this._mergeRich(a, n),
        r.rich = a) : a && (r.rich = a),
        r
    }
    ,
    e.prototype._mergeRich = function(r, i) {
        for (var n = Se(i), a = 0; a < n.length; a++) {
            var o = n[a];
            r[o] = r[o] || {},
            G(r[o], i[o])
        }
    }
    ,
    e.prototype.getAnimationStyleProps = function() {
        return dS
    }
    ,
    e.prototype._getOrCreateChild = function(r) {
        var i = this._children[this._childCursor];
        return (!i || !(i instanceof r)) && (i = new r),
        this._children[this._childCursor++] = i,
        i.__zr = this.__zr,
        i.parent = this,
        i
    }
    ,
    e.prototype._updatePlainTexts = function() {
        var r = this.style
          , i = r.font || ri
          , n = r.padding
          , a = mc(r)
          , o = Ew(a, r)
          , s = nl(r)
          , l = !!r.backgroundColor
          , u = o.outerHeight
          , h = o.outerWidth
          , f = o.contentWidth
          , c = o.lines
          , v = o.lineHeight
          , d = this._defaultStyle
          , m = r.x || 0
          , p = r.y || 0
          , g = r.align || d.align || "left"
          , y = r.verticalAlign || d.verticalAlign || "top"
          , _ = m
          , w = Ii(p, o.contentHeight, y);
        if (s || n) {
            var b = In(m, h, g)
              , S = Ii(p, u, y);
            s && this._renderBackground(r, r, b, S, h, u)
        }
        w += v / 2,
        n && (_ = gc(m, g, n),
        y === "top" ? w += n[0] : y === "bottom" && (w -= n[2]));
        for (var C = 0, T = !1, x = pc("fill"in r ? r.fill : (T = !0,
        d.fill)), D = dc("stroke"in r ? r.stroke : !l && (!d.autoStroke || T) ? (C = hc,
        d.stroke) : null), A = r.textShadowBlur > 0, k = r.width != null && (r.overflow === "truncate" || r.overflow === "break" || r.overflow === "breakAll"), P = o.calculatedLineHeight, E = 0; E < c.length; E++) {
            var O = this._getOrCreateChild(mu)
              , B = O.createStyle();
            O.useStyle(B),
            B.text = c[E],
            B.x = _,
            B.y = w,
            g && (B.textAlign = g),
            B.textBaseline = "middle",
            B.opacity = r.opacity,
            B.strokeFirst = !0,
            A && (B.shadowBlur = r.textShadowBlur || 0,
            B.shadowColor = r.textShadowColor || "transparent",
            B.shadowOffsetX = r.textShadowOffsetX || 0,
            B.shadowOffsetY = r.textShadowOffsetY || 0),
            B.stroke = D,
            B.fill = x,
            D && (B.lineWidth = r.lineWidth || C,
            B.lineDash = r.lineDash,
            B.lineDashOffset = r.lineDashOffset || 0),
            B.font = i,
            cc(B, r),
            w += v,
            k && O.setBoundingRect(new ce(In(B.x, r.width, B.textAlign),Ii(B.y, P, B.textBaseline),f,P))
        }
    }
    ,
    e.prototype._updateRichTexts = function() {
        var r = this.style
          , i = mc(r)
          , n = Bw(i, r)
          , a = n.width
          , o = n.outerWidth
          , s = n.outerHeight
          , l = r.padding
          , u = r.x || 0
          , h = r.y || 0
          , f = this._defaultStyle
          , c = r.align || f.align
          , v = r.verticalAlign || f.verticalAlign
          , d = In(u, o, c)
          , m = Ii(h, s, v)
          , p = d
          , g = m;
        l && (p += l[3],
        g += l[0]);
        var y = p + a;
        nl(r) && this._renderBackground(r, r, d, m, o, s);
        for (var _ = !!r.backgroundColor, w = 0; w < n.lines.length; w++) {
            for (var b = n.lines[w], S = b.tokens, C = S.length, T = b.lineHeight, x = b.width, D = 0, A = p, k = y, P = C - 1, E = void 0; D < C && (E = S[D],
            !E.align || E.align === "left"); )
                this._placeToken(E, r, T, g, A, "left", _),
                x -= E.width,
                A += E.width,
                D++;
            for (; P >= 0 && (E = S[P],
            E.align === "right"); )
                this._placeToken(E, r, T, g, k, "right", _),
                x -= E.width,
                k -= E.width,
                P--;
            for (A += (a - (A - p) - (y - k) - x) / 2; D <= P; )
                E = S[D],
                this._placeToken(E, r, T, g, A + E.width / 2, "center", _),
                A += E.width,
                D++;
            g += T
        }
    }
    ,
    e.prototype._placeToken = function(r, i, n, a, o, s, l) {
        var u = i.rich[r.styleName] || {};
        u.text = r.text;
        var h = r.verticalAlign
          , f = a + n / 2;
        h === "top" ? f = a + r.height / 2 : h === "bottom" && (f = a + n - r.height / 2);
        var c = !r.isLineHolder && nl(u);
        c && this._renderBackground(u, i, s === "right" ? o - r.width : s === "center" ? o - r.width / 2 : o, f - r.height / 2, r.width, r.height);
        var v = !!u.backgroundColor
          , d = r.textPadding;
        d && (o = gc(o, s, d),
        f -= r.height / 2 - d[0] - r.innerHeight / 2);
        var m = this._getOrCreateChild(mu)
          , p = m.createStyle();
        m.useStyle(p);
        var g = this._defaultStyle
          , y = !1
          , _ = 0
          , w = pc("fill"in u ? u.fill : "fill"in i ? i.fill : (y = !0,
        g.fill))
          , b = dc("stroke"in u ? u.stroke : "stroke"in i ? i.stroke : !v && !l && (!g.autoStroke || y) ? (_ = hc,
        g.stroke) : null)
          , S = u.textShadowBlur > 0 || i.textShadowBlur > 0;
        p.text = r.text,
        p.x = o,
        p.y = f,
        S && (p.shadowBlur = u.textShadowBlur || i.textShadowBlur || 0,
        p.shadowColor = u.textShadowColor || i.textShadowColor || "transparent",
        p.shadowOffsetX = u.textShadowOffsetX || i.textShadowOffsetX || 0,
        p.shadowOffsetY = u.textShadowOffsetY || i.textShadowOffsetY || 0),
        p.textAlign = s,
        p.textBaseline = "middle",
        p.font = r.font || ri,
        p.opacity = lo(u.opacity, i.opacity, 1),
        cc(p, u),
        b && (p.lineWidth = lo(u.lineWidth, i.lineWidth, _),
        p.lineDash = oe(u.lineDash, i.lineDash),
        p.lineDashOffset = i.lineDashOffset || 0,
        p.stroke = b),
        w && (p.fill = w);
        var C = r.contentWidth
          , T = r.contentHeight;
        m.setBoundingRect(new ce(In(p.x, C, p.textAlign),Ii(p.y, T, p.textBaseline),C,T))
    }
    ,
    e.prototype._renderBackground = function(r, i, n, a, o, s) {
        var l = r.backgroundColor, u = r.borderWidth, h = r.borderColor, f = l && l.image, c = l && !f, v = r.borderRadius, d = this, m, p;
        if (c || r.lineHeight || u && h) {
            m = this._getOrCreateChild(Je),
            m.useStyle(m.createStyle()),
            m.style.fill = null;
            var g = m.shape;
            g.x = n,
            g.y = a,
            g.width = o,
            g.height = s,
            g.r = v,
            m.dirtyShape()
        }
        if (c) {
            var y = m.style;
            y.fill = l || null,
            y.fillOpacity = oe(r.fillOpacity, 1)
        } else if (f) {
            p = this._getOrCreateChild(hi),
            p.onload = function() {
                d.dirtyStyle()
            }
            ;
            var _ = p.style;
            _.image = l.image,
            _.x = n,
            _.y = a,
            _.width = o,
            _.height = s
        }
        if (u && h) {
            var y = m.style;
            y.lineWidth = u,
            y.stroke = h,
            y.strokeOpacity = oe(r.strokeOpacity, 1),
            y.lineDash = r.borderDash,
            y.lineDashOffset = r.borderDashOffset || 0,
            m.strokeContainThreshold = 0,
            m.hasFill() && m.hasStroke() && (y.strokeFirst = !0,
            y.lineWidth *= 2)
        }
        var w = (m || p).style;
        w.shadowBlur = r.shadowBlur || 0,
        w.shadowColor = r.shadowColor || "transparent",
        w.shadowOffsetX = r.shadowOffsetX || 0,
        w.shadowOffsetY = r.shadowOffsetY || 0,
        w.opacity = lo(r.opacity, i.opacity, 1)
    }
    ,
    e.makeFont = function(r) {
        var i = "";
        return yS(r) && (i = [r.fontStyle, r.fontWeight, mS(r.fontSize), r.fontFamily || "sans-serif"].join(" ")),
        i && Nt(i) || r.textFont || r.font
    }
    ,
    e
}(va)
  , pS = {
    left: !0,
    right: 1,
    center: 1
}
  , gS = {
    top: 1,
    bottom: 1,
    middle: 1
}
  , fc = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function mS(t) {
    return typeof t == "string" && (t.indexOf("px") !== -1 || t.indexOf("rem") !== -1 || t.indexOf("em") !== -1) ? t : isNaN(+t) ? Ku + "px" : t + "px"
}
function cc(t, e) {
    for (var r = 0; r < fc.length; r++) {
        var i = fc[r]
          , n = e[i];
        n != null && (t[i] = n)
    }
}
function yS(t) {
    return t.fontSize != null || t.fontFamily || t.fontWeight
}
function _S(t) {
    return vc(t),
    I(t.rich, vc),
    t
}
function vc(t) {
    if (t) {
        t.font = fg.makeFont(t);
        var e = t.align;
        e === "middle" && (e = "center"),
        t.align = e == null || pS[e] ? e : "left";
        var r = t.verticalAlign;
        r === "center" && (r = "middle"),
        t.verticalAlign = r == null || gS[r] ? r : "top";
        var i = t.padding;
        i && (t.padding = pp(t.padding))
    }
}
function dc(t, e) {
    return t == null || e <= 0 || t === "transparent" || t === "none" ? null : t.image || t.colorStops ? "#000" : t
}
function pc(t) {
    return t == null || t === "none" ? null : t.image || t.colorStops ? "#000" : t
}
function gc(t, e, r) {
    return e === "right" ? t - r[1] : e === "center" ? t + r[3] / 2 - r[1] / 2 : t + r[3]
}
function mc(t) {
    var e = t.text;
    return e != null && (e += ""),
    e
}
function nl(t) {
    return !!(t.backgroundColor || t.lineHeight || t.borderWidth && t.borderColor)
}
var _t = fg
  , de = xe()
  , wS = function(t, e, r, i) {
    if (i) {
        var n = de(i);
        n.dataIndex = r,
        n.dataType = e,
        n.seriesIndex = t,
        n.ssrType = "chart",
        i.type === "group" && i.traverse(function(a) {
            var o = de(a);
            o.seriesIndex = t,
            o.dataIndex = r,
            o.dataType = e,
            o.ssrType = "chart"
        })
    }
}
  , yc = 1
  , _c = {}
  , cg = xe()
  , ph = xe()
  , gh = 0
  , es = 1
  , ts = 2
  , wt = ["emphasis", "blur", "select"]
  , wc = ["normal", "emphasis", "blur", "select"]
  , SS = 10
  , bS = 9
  , Jr = "highlight"
  , mo = "downplay"
  , Nn = "select"
  , yo = "unselect"
  , Fn = "toggleSelect";
function _i(t) {
    return t != null && t !== "none"
}
function rs(t, e, r) {
    t.onHoverStateChange && (t.hoverState || 0) !== r && t.onHoverStateChange(e),
    t.hoverState = r
}
function vg(t) {
    rs(t, "emphasis", ts)
}
function dg(t) {
    t.hoverState === ts && rs(t, "normal", gh)
}
function mh(t) {
    rs(t, "blur", es)
}
function pg(t) {
    t.hoverState === es && rs(t, "normal", gh)
}
function CS(t) {
    t.selected = !0
}
function xS(t) {
    t.selected = !1
}
function Sc(t, e, r) {
    e(t, r)
}
function jt(t, e, r) {
    Sc(t, e, r),
    t.isGroup && t.traverse(function(i) {
        Sc(i, e, r)
    })
}
function bc(t, e) {
    switch (e) {
    case "emphasis":
        t.hoverState = ts;
        break;
    case "normal":
        t.hoverState = gh;
        break;
    case "blur":
        t.hoverState = es;
        break;
    case "select":
        t.selected = !0
    }
}
function TS(t, e, r, i) {
    for (var n = t.style, a = {}, o = 0; o < e.length; o++) {
        var s = e[o]
          , l = n[s];
        a[s] = l == null ? i && i[s] : l
    }
    for (var o = 0; o < t.animators.length; o++) {
        var u = t.animators[o];
        u.__fromStateTransition && u.__fromStateTransition.indexOf(r) < 0 && u.targetName === "style" && u.saveTo(a, e)
    }
    return a
}
function MS(t, e, r, i) {
    var n = r && pe(r, "select") >= 0
      , a = !1;
    if (t instanceof ye) {
        var o = cg(t)
          , s = n && o.selectFill || o.normalFill
          , l = n && o.selectStroke || o.normalStroke;
        if (_i(s) || _i(l)) {
            i = i || {};
            var u = i.style || {};
            u.fill === "inherit" ? (a = !0,
            i = G({}, i),
            u = G({}, u),
            u.fill = s) : !_i(u.fill) && _i(s) ? (a = !0,
            i = G({}, i),
            u = G({}, u),
            u.fill = zf(s)) : !_i(u.stroke) && _i(l) && (a || (i = G({}, i),
            u = G({}, u)),
            u.stroke = zf(l)),
            i.style = u
        }
    }
    if (i && i.z2 == null) {
        a || (i = G({}, i));
        var h = t.z2EmphasisLift;
        i.z2 = t.z2 + (h != null ? h : SS)
    }
    return i
}
function DS(t, e, r) {
    if (r && r.z2 == null) {
        r = G({}, r);
        var i = t.z2SelectLift;
        r.z2 = t.z2 + (i != null ? i : bS)
    }
    return r
}
function AS(t, e, r) {
    var i = pe(t.currentStates, e) >= 0
      , n = t.style.opacity
      , a = i ? null : TS(t, ["opacity"], e, {
        opacity: 1
    });
    r = r || {};
    var o = r.style || {};
    return o.opacity == null && (r = G({}, r),
    o = G({
        opacity: i ? n : a.opacity * .1
    }, o),
    r.style = o),
    r
}
function al(t, e) {
    var r = this.states[t];
    if (this.style) {
        if (t === "emphasis")
            return MS(this, t, e, r);
        if (t === "blur")
            return AS(this, t, r);
        if (t === "select")
            return DS(this, t, r)
    }
    return r
}
function IS(t) {
    t.stateProxy = al;
    var e = t.getTextContent()
      , r = t.getTextGuideLine();
    e && (e.stateProxy = al),
    r && (r.stateProxy = al)
}
function Cc(t, e) {
    !_g(t, e) && !t.__highByOuter && jt(t, vg)
}
function xc(t, e) {
    !_g(t, e) && !t.__highByOuter && jt(t, dg)
}
function Kn(t, e) {
    t.__highByOuter |= 1 << (e || 0),
    jt(t, vg)
}
function jn(t, e) {
    !(t.__highByOuter &= ~(1 << (e || 0))) && jt(t, dg)
}
function gg(t) {
    jt(t, mh)
}
function yh(t) {
    jt(t, pg)
}
function mg(t) {
    jt(t, CS)
}
function yg(t) {
    jt(t, xS)
}
function _g(t, e) {
    return t.__highDownSilentOnTouch && e.zrByTouch
}
function wg(t) {
    var e = t.getModel()
      , r = []
      , i = [];
    e.eachComponent(function(n, a) {
        var o = ph(a)
          , s = n === "series"
          , l = s ? t.getViewOfSeriesModel(a) : t.getViewOfComponentModel(a);
        !s && i.push(l),
        o.isBlured && (l.group.traverse(function(u) {
            pg(u)
        }),
        s && r.push(a)),
        o.isBlured = !1
    }),
    I(i, function(n) {
        n && n.toggleBlurSeries && n.toggleBlurSeries(r, !1, e)
    })
}
function yu(t, e, r, i) {
    var n = i.getModel();
    r = r || "coordinateSystem";
    function a(u, h) {
        for (var f = 0; f < h.length; f++) {
            var c = u.getItemGraphicEl(h[f]);
            c && yh(c)
        }
    }
    if (t != null && !(!e || e === "none")) {
        var o = n.getSeriesByIndex(t)
          , s = o.coordinateSystem;
        s && s.master && (s = s.master);
        var l = [];
        n.eachSeries(function(u) {
            var h = o === u
              , f = u.coordinateSystem;
            f && f.master && (f = f.master);
            var c = f && s ? f === s : h;
            if (!(r === "series" && !h || r === "coordinateSystem" && !c || e === "series" && h)) {
                var v = i.getViewOfSeriesModel(u);
                if (v.group.traverse(function(p) {
                    p.__highByOuter && h && e === "self" || mh(p)
                }),
                et(e))
                    a(u.getData(), e);
                else if (J(e))
                    for (var d = Se(e), m = 0; m < d.length; m++)
                        a(u.getData(d[m]), e[d[m]]);
                l.push(u),
                ph(u).isBlured = !0
            }
        }),
        n.eachComponent(function(u, h) {
            if (u !== "series") {
                var f = i.getViewOfComponentModel(h);
                f && f.toggleBlurSeries && f.toggleBlurSeries(l, !0, n)
            }
        })
    }
}
function _u(t, e, r) {
    if (!(t == null || e == null)) {
        var i = r.getModel().getComponent(t, e);
        if (!!i) {
            ph(i).isBlured = !0;
            var n = r.getViewOfComponentModel(i);
            !n || !n.focusBlurEnabled || n.group.traverse(function(a) {
                mh(a)
            })
        }
    }
}
function kS(t, e, r) {
    var i = t.seriesIndex
      , n = t.getData(e.dataType);
    if (!!n) {
        var a = ni(n, e);
        a = (Y(a) ? a[0] : a) || 0;
        var o = n.getItemGraphicEl(a);
        if (!o)
            for (var s = n.count(), l = 0; !o && l < s; )
                o = n.getItemGraphicEl(l++);
        if (o) {
            var u = de(o);
            yu(i, u.focus, u.blurScope, r)
        } else {
            var h = t.get(["emphasis", "focus"])
              , f = t.get(["emphasis", "blurScope"]);
            h != null && yu(i, h, f, r)
        }
    }
}
function _h(t, e, r, i) {
    var n = {
        focusSelf: !1,
        dispatchers: null
    };
    if (t == null || t === "series" || e == null || r == null)
        return n;
    var a = i.getModel().getComponent(t, e);
    if (!a)
        return n;
    var o = i.getViewOfComponentModel(a);
    if (!o || !o.findHighDownDispatchers)
        return n;
    for (var s = o.findHighDownDispatchers(r), l, u = 0; u < s.length; u++)
        if (de(s[u]).focus === "self") {
            l = !0;
            break
        }
    return {
        focusSelf: l,
        dispatchers: s
    }
}
function LS(t, e, r) {
    var i = de(t)
      , n = _h(i.componentMainType, i.componentIndex, i.componentHighDownName, r)
      , a = n.dispatchers
      , o = n.focusSelf;
    a ? (o && _u(i.componentMainType, i.componentIndex, r),
    I(a, function(s) {
        return Cc(s, e)
    })) : (yu(i.seriesIndex, i.focus, i.blurScope, r),
    i.focus === "self" && _u(i.componentMainType, i.componentIndex, r),
    Cc(t, e))
}
function PS(t, e, r) {
    wg(r);
    var i = de(t)
      , n = _h(i.componentMainType, i.componentIndex, i.componentHighDownName, r).dispatchers;
    n ? I(n, function(a) {
        return xc(a, e)
    }) : xc(t, e)
}
function ES(t, e, r) {
    if (!!Su(e)) {
        var i = e.dataType
          , n = t.getData(i)
          , a = ni(n, e);
        Y(a) || (a = [a]),
        t[e.type === Fn ? "toggleSelect" : e.type === Nn ? "select" : "unselect"](a, i)
    }
}
function Tc(t) {
    var e = t.getAllData();
    I(e, function(r) {
        var i = r.data
          , n = r.type;
        i.eachItemGraphicEl(function(a, o) {
            t.isSelected(o, n) ? mg(a) : yg(a)
        })
    })
}
function RS(t) {
    var e = [];
    return t.eachSeries(function(r) {
        var i = r.getAllData();
        I(i, function(n) {
            n.data;
            var a = n.type
              , o = r.getSelectedDataIndices();
            if (o.length > 0) {
                var s = {
                    dataIndex: o,
                    seriesIndex: r.seriesIndex
                };
                a != null && (s.dataType = a),
                e.push(s)
            }
        })
    }),
    e
}
function OS(t, e, r) {
    Sg(t, !0),
    jt(t, IS),
    NS(t, e, r)
}
function BS(t) {
    Sg(t, !1)
}
function Ro(t, e, r, i) {
    i ? BS(t) : OS(t, e, r)
}
function NS(t, e, r) {
    var i = de(t);
    e != null ? (i.focus = e,
    i.blurScope = r) : i.focus && (i.focus = null)
}
var Mc = ["emphasis", "blur", "select"]
  , FS = {
    itemStyle: "getItemStyle",
    lineStyle: "getLineStyle",
    areaStyle: "getAreaStyle"
};
function Dc(t, e, r, i) {
    r = r || "itemStyle";
    for (var n = 0; n < Mc.length; n++) {
        var a = Mc[n]
          , o = e.getModel([a, r])
          , s = t.ensureState(a);
        s.style = i ? i(o) : o[FS[r]]()
    }
}
function Sg(t, e) {
    var r = e === !1
      , i = t;
    t.highDownSilentOnTouch && (i.__highDownSilentOnTouch = t.highDownSilentOnTouch),
    (!r || i.__highDownDispatcher) && (i.__highByOuter = i.__highByOuter || 0,
    i.__highDownDispatcher = !r)
}
function wu(t) {
    return !!(t && t.__highDownDispatcher)
}
function zS(t) {
    var e = _c[t];
    return e == null && yc <= 32 && (e = _c[t] = yc++),
    e
}
function Su(t) {
    var e = t.type;
    return e === Nn || e === yo || e === Fn
}
function Ac(t) {
    var e = t.type;
    return e === Jr || e === mo
}
function VS(t) {
    var e = cg(t);
    e.normalFill = t.style.fill,
    e.normalStroke = t.style.stroke;
    var r = t.states.select || {};
    e.selectFill = r.style && r.style.fill || null,
    e.selectStroke = r.style && r.style.stroke || null
}
var wi = ai.CMD
  , HS = [[], [], []]
  , Ic = Math.sqrt
  , GS = Math.atan2;
function WS(t, e) {
    if (!!e) {
        var r = t.data, i = t.len(), n, a, o, s, l, u, h = wi.M, f = wi.C, c = wi.L, v = wi.R, d = wi.A, m = wi.Q;
        for (o = 0,
        s = 0; o < i; ) {
            switch (n = r[o++],
            s = o,
            a = 0,
            n) {
            case h:
                a = 1;
                break;
            case c:
                a = 1;
                break;
            case f:
                a = 3;
                break;
            case m:
                a = 2;
                break;
            case d:
                var p = e[4]
                  , g = e[5]
                  , y = Ic(e[0] * e[0] + e[1] * e[1])
                  , _ = Ic(e[2] * e[2] + e[3] * e[3])
                  , w = GS(-e[1] / _, e[0] / y);
                r[o] *= y,
                r[o++] += p,
                r[o] *= _,
                r[o++] += g,
                r[o++] *= y,
                r[o++] *= _,
                r[o++] += w,
                r[o++] += w,
                o += 2,
                s = o;
                break;
            case v:
                u[0] = r[o++],
                u[1] = r[o++],
                yt(u, u, e),
                r[s++] = u[0],
                r[s++] = u[1],
                u[0] += r[o++],
                u[1] += r[o++],
                yt(u, u, e),
                r[s++] = u[0],
                r[s++] = u[1]
            }
            for (l = 0; l < a; l++) {
                var b = HS[l];
                b[0] = r[o++],
                b[1] = r[o++],
                yt(b, b, e),
                r[s++] = b[0],
                r[s++] = b[1]
            }
        }
        t.increaseVersion()
    }
}
var ol = Math.sqrt
  , Ea = Math.sin
  , Ra = Math.cos
  , cn = Math.PI;
function kc(t) {
    return Math.sqrt(t[0] * t[0] + t[1] * t[1])
}
function bu(t, e) {
    return (t[0] * e[0] + t[1] * e[1]) / (kc(t) * kc(e))
}
function Lc(t, e) {
    return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(bu(t, e))
}
function Pc(t, e, r, i, n, a, o, s, l, u, h) {
    var f = l * (cn / 180)
      , c = Ra(f) * (t - r) / 2 + Ea(f) * (e - i) / 2
      , v = -1 * Ea(f) * (t - r) / 2 + Ra(f) * (e - i) / 2
      , d = c * c / (o * o) + v * v / (s * s);
    d > 1 && (o *= ol(d),
    s *= ol(d));
    var m = (n === a ? -1 : 1) * ol((o * o * (s * s) - o * o * (v * v) - s * s * (c * c)) / (o * o * (v * v) + s * s * (c * c))) || 0
      , p = m * o * v / s
      , g = m * -s * c / o
      , y = (t + r) / 2 + Ra(f) * p - Ea(f) * g
      , _ = (e + i) / 2 + Ea(f) * p + Ra(f) * g
      , w = Lc([1, 0], [(c - p) / o, (v - g) / s])
      , b = [(c - p) / o, (v - g) / s]
      , S = [(-1 * c - p) / o, (-1 * v - g) / s]
      , C = Lc(b, S);
    if (bu(b, S) <= -1 && (C = cn),
    bu(b, S) >= 1 && (C = 0),
    C < 0) {
        var T = Math.round(C / cn * 1e6) / 1e6;
        C = cn * 2 + T % 2 * cn
    }
    h.addData(u, y, _, o, s, w, C, f, a)
}
var US = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig
  , $S = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function YS(t) {
    var e = new ai;
    if (!t)
        return e;
    var r = 0, i = 0, n = r, a = i, o, s = ai.CMD, l = t.match(US);
    if (!l)
        return e;
    for (var u = 0; u < l.length; u++) {
        for (var h = l[u], f = h.charAt(0), c = void 0, v = h.match($S) || [], d = v.length, m = 0; m < d; m++)
            v[m] = parseFloat(v[m]);
        for (var p = 0; p < d; ) {
            var g = void 0
              , y = void 0
              , _ = void 0
              , w = void 0
              , b = void 0
              , S = void 0
              , C = void 0
              , T = r
              , x = i
              , D = void 0
              , A = void 0;
            switch (f) {
            case "l":
                r += v[p++],
                i += v[p++],
                c = s.L,
                e.addData(c, r, i);
                break;
            case "L":
                r = v[p++],
                i = v[p++],
                c = s.L,
                e.addData(c, r, i);
                break;
            case "m":
                r += v[p++],
                i += v[p++],
                c = s.M,
                e.addData(c, r, i),
                n = r,
                a = i,
                f = "l";
                break;
            case "M":
                r = v[p++],
                i = v[p++],
                c = s.M,
                e.addData(c, r, i),
                n = r,
                a = i,
                f = "L";
                break;
            case "h":
                r += v[p++],
                c = s.L,
                e.addData(c, r, i);
                break;
            case "H":
                r = v[p++],
                c = s.L,
                e.addData(c, r, i);
                break;
            case "v":
                i += v[p++],
                c = s.L,
                e.addData(c, r, i);
                break;
            case "V":
                i = v[p++],
                c = s.L,
                e.addData(c, r, i);
                break;
            case "C":
                c = s.C,
                e.addData(c, v[p++], v[p++], v[p++], v[p++], v[p++], v[p++]),
                r = v[p - 2],
                i = v[p - 1];
                break;
            case "c":
                c = s.C,
                e.addData(c, v[p++] + r, v[p++] + i, v[p++] + r, v[p++] + i, v[p++] + r, v[p++] + i),
                r += v[p - 2],
                i += v[p - 1];
                break;
            case "S":
                g = r,
                y = i,
                D = e.len(),
                A = e.data,
                o === s.C && (g += r - A[D - 4],
                y += i - A[D - 3]),
                c = s.C,
                T = v[p++],
                x = v[p++],
                r = v[p++],
                i = v[p++],
                e.addData(c, g, y, T, x, r, i);
                break;
            case "s":
                g = r,
                y = i,
                D = e.len(),
                A = e.data,
                o === s.C && (g += r - A[D - 4],
                y += i - A[D - 3]),
                c = s.C,
                T = r + v[p++],
                x = i + v[p++],
                r += v[p++],
                i += v[p++],
                e.addData(c, g, y, T, x, r, i);
                break;
            case "Q":
                T = v[p++],
                x = v[p++],
                r = v[p++],
                i = v[p++],
                c = s.Q,
                e.addData(c, T, x, r, i);
                break;
            case "q":
                T = v[p++] + r,
                x = v[p++] + i,
                r += v[p++],
                i += v[p++],
                c = s.Q,
                e.addData(c, T, x, r, i);
                break;
            case "T":
                g = r,
                y = i,
                D = e.len(),
                A = e.data,
                o === s.Q && (g += r - A[D - 4],
                y += i - A[D - 3]),
                r = v[p++],
                i = v[p++],
                c = s.Q,
                e.addData(c, g, y, r, i);
                break;
            case "t":
                g = r,
                y = i,
                D = e.len(),
                A = e.data,
                o === s.Q && (g += r - A[D - 4],
                y += i - A[D - 3]),
                r += v[p++],
                i += v[p++],
                c = s.Q,
                e.addData(c, g, y, r, i);
                break;
            case "A":
                _ = v[p++],
                w = v[p++],
                b = v[p++],
                S = v[p++],
                C = v[p++],
                T = r,
                x = i,
                r = v[p++],
                i = v[p++],
                c = s.A,
                Pc(T, x, r, i, S, C, _, w, b, c, e);
                break;
            case "a":
                _ = v[p++],
                w = v[p++],
                b = v[p++],
                S = v[p++],
                C = v[p++],
                T = r,
                x = i,
                r += v[p++],
                i += v[p++],
                c = s.A,
                Pc(T, x, r, i, S, C, _, w, b, c, e);
                break
            }
        }
        (f === "z" || f === "Z") && (c = s.Z,
        e.addData(c),
        r = n,
        i = a),
        o = c
    }
    return e.toStatic(),
    e
}
var bg = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.applyTransform = function(r) {}
    ,
    e
}(ye);
function Cg(t) {
    return t.setData != null
}
function xg(t, e) {
    var r = YS(t)
      , i = G({}, e);
    return i.buildPath = function(n) {
        if (Cg(n)) {
            n.setData(r.data);
            var a = n.getContext();
            a && n.rebuildPath(a, 1)
        } else {
            var a = n;
            r.rebuildPath(a, 1)
        }
    }
    ,
    i.applyTransform = function(n) {
        WS(r, n),
        this.dirtyShape()
    }
    ,
    i
}
function XS(t, e) {
    return new bg(xg(t, e))
}
function qS(t, e) {
    var r = xg(t, e)
      , i = function(n) {
        X(a, n);
        function a(o) {
            var s = n.call(this, o) || this;
            return s.applyTransform = r.applyTransform,
            s.buildPath = r.buildPath,
            s
        }
        return a
    }(bg);
    return i
}
function ZS(t, e) {
    for (var r = [], i = t.length, n = 0; n < i; n++) {
        var a = t[n];
        r.push(a.getUpdatedPathProxy(!0))
    }
    var o = new ye(e);
    return o.createPathProxy(),
    o.buildPath = function(s) {
        if (Cg(s)) {
            s.appendPath(r);
            var l = s.getContext();
            l && s.rebuildPath(l, 1)
        }
    }
    ,
    o
}
var KS = function() {
    function t() {
        this.cx = 0,
        this.cy = 0,
        this.r = 0
    }
    return t
}()
  , Tg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultShape = function() {
        return new KS
    }
    ,
    e.prototype.buildPath = function(r, i) {
        r.moveTo(i.cx + i.r, i.cy),
        r.arc(i.cx, i.cy, i.r, 0, Math.PI * 2)
    }
    ,
    e
}(ye);
Tg.prototype.type = "circle";
var wh = Tg
  , jS = function() {
    function t() {
        this.cx = 0,
        this.cy = 0,
        this.rx = 0,
        this.ry = 0
    }
    return t
}()
  , Mg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultShape = function() {
        return new jS
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n = .5522848
          , a = i.cx
          , o = i.cy
          , s = i.rx
          , l = i.ry
          , u = s * n
          , h = l * n;
        r.moveTo(a - s, o),
        r.bezierCurveTo(a - s, o - h, a - u, o - l, a, o - l),
        r.bezierCurveTo(a + u, o - l, a + s, o - h, a + s, o),
        r.bezierCurveTo(a + s, o + h, a + u, o + l, a, o + l),
        r.bezierCurveTo(a - u, o + l, a - s, o + h, a - s, o),
        r.closePath()
    }
    ,
    e
}(ye);
Mg.prototype.type = "ellipse";
var Dg = Mg
  , Ag = Math.PI
  , sl = Ag * 2
  , zr = Math.sin
  , Si = Math.cos
  , QS = Math.acos
  , Ne = Math.atan2
  , Ec = Math.abs
  , zn = Math.sqrt
  , kn = Math.max
  , Ot = Math.min
  , xt = 1e-4;
function JS(t, e, r, i, n, a, o, s) {
    var l = r - t
      , u = i - e
      , h = o - n
      , f = s - a
      , c = f * l - h * u;
    if (!(c * c < xt))
        return c = (h * (e - a) - f * (t - n)) / c,
        [t + c * l, e + c * u]
}
function Oa(t, e, r, i, n, a, o) {
    var s = t - r
      , l = e - i
      , u = (o ? a : -a) / zn(s * s + l * l)
      , h = u * l
      , f = -u * s
      , c = t + h
      , v = e + f
      , d = r + h
      , m = i + f
      , p = (c + d) / 2
      , g = (v + m) / 2
      , y = d - c
      , _ = m - v
      , w = y * y + _ * _
      , b = n - a
      , S = c * m - d * v
      , C = (_ < 0 ? -1 : 1) * zn(kn(0, b * b * w - S * S))
      , T = (S * _ - y * C) / w
      , x = (-S * y - _ * C) / w
      , D = (S * _ + y * C) / w
      , A = (-S * y + _ * C) / w
      , k = T - p
      , P = x - g
      , E = D - p
      , O = A - g;
    return k * k + P * P > E * E + O * O && (T = D,
    x = A),
    {
        cx: T,
        cy: x,
        x0: -h,
        y0: -f,
        x1: T * (n / b - 1),
        y1: x * (n / b - 1)
    }
}
function eb(t) {
    var e;
    if (Y(t)) {
        var r = t.length;
        if (!r)
            return t;
        r === 1 ? e = [t[0], t[0], 0, 0] : r === 2 ? e = [t[0], t[0], t[1], t[1]] : r === 3 ? e = t.concat(t[2]) : e = t
    } else
        e = [t, t, t, t];
    return e
}
function tb(t, e) {
    var r, i = kn(e.r, 0), n = kn(e.r0 || 0, 0), a = i > 0, o = n > 0;
    if (!(!a && !o)) {
        if (a || (i = n,
        n = 0),
        n > i) {
            var s = i;
            i = n,
            n = s
        }
        var l = e.startAngle
          , u = e.endAngle;
        if (!(isNaN(l) || isNaN(u))) {
            var h = e.cx
              , f = e.cy
              , c = !!e.clockwise
              , v = Ec(u - l)
              , d = v > sl && v % sl;
            if (d > xt && (v = d),
            !(i > xt))
                t.moveTo(h, f);
            else if (v > sl - xt)
                t.moveTo(h + i * Si(l), f + i * zr(l)),
                t.arc(h, f, i, l, u, !c),
                n > xt && (t.moveTo(h + n * Si(u), f + n * zr(u)),
                t.arc(h, f, n, u, l, c));
            else {
                var m = void 0
                  , p = void 0
                  , g = void 0
                  , y = void 0
                  , _ = void 0
                  , w = void 0
                  , b = void 0
                  , S = void 0
                  , C = void 0
                  , T = void 0
                  , x = void 0
                  , D = void 0
                  , A = void 0
                  , k = void 0
                  , P = void 0
                  , E = void 0
                  , O = i * Si(l)
                  , B = i * zr(l)
                  , te = n * Si(u)
                  , W = n * zr(u)
                  , Z = v > xt;
                if (Z) {
                    var re = e.cornerRadius;
                    re && (r = eb(re),
                    m = r[0],
                    p = r[1],
                    g = r[2],
                    y = r[3]);
                    var ve = Ec(i - n) / 2;
                    if (_ = Ot(ve, g),
                    w = Ot(ve, y),
                    b = Ot(ve, m),
                    S = Ot(ve, p),
                    x = C = kn(_, w),
                    D = T = kn(b, S),
                    (C > xt || T > xt) && (A = i * Si(u),
                    k = i * zr(u),
                    P = n * Si(l),
                    E = n * zr(l),
                    v < Ag)) {
                        var $ = JS(O, B, P, E, A, k, te, W);
                        if ($) {
                            var z = O - $[0]
                              , N = B - $[1]
                              , j = A - $[0]
                              , q = k - $[1]
                              , M = 1 / zr(QS((z * j + N * q) / (zn(z * z + N * N) * zn(j * j + q * q))) / 2)
                              , K = zn($[0] * $[0] + $[1] * $[1]);
                            x = Ot(C, (i - K) / (M + 1)),
                            D = Ot(T, (n - K) / (M - 1))
                        }
                    }
                }
                if (!Z)
                    t.moveTo(h + O, f + B);
                else if (x > xt) {
                    var Ie = Ot(g, x)
                      , ke = Ot(y, x)
                      , ie = Oa(P, E, O, B, i, Ie, c)
                      , he = Oa(A, k, te, W, i, ke, c);
                    t.moveTo(h + ie.cx + ie.x0, f + ie.cy + ie.y0),
                    x < C && Ie === ke ? t.arc(h + ie.cx, f + ie.cy, x, Ne(ie.y0, ie.x0), Ne(he.y0, he.x0), !c) : (Ie > 0 && t.arc(h + ie.cx, f + ie.cy, Ie, Ne(ie.y0, ie.x0), Ne(ie.y1, ie.x1), !c),
                    t.arc(h, f, i, Ne(ie.cy + ie.y1, ie.cx + ie.x1), Ne(he.cy + he.y1, he.cx + he.x1), !c),
                    ke > 0 && t.arc(h + he.cx, f + he.cy, ke, Ne(he.y1, he.x1), Ne(he.y0, he.x0), !c))
                } else
                    t.moveTo(h + O, f + B),
                    t.arc(h, f, i, l, u, !c);
                if (!(n > xt) || !Z)
                    t.lineTo(h + te, f + W);
                else if (D > xt) {
                    var Ie = Ot(m, D)
                      , ke = Ot(p, D)
                      , ie = Oa(te, W, A, k, n, -ke, c)
                      , he = Oa(O, B, P, E, n, -Ie, c);
                    t.lineTo(h + ie.cx + ie.x0, f + ie.cy + ie.y0),
                    D < T && Ie === ke ? t.arc(h + ie.cx, f + ie.cy, D, Ne(ie.y0, ie.x0), Ne(he.y0, he.x0), !c) : (ke > 0 && t.arc(h + ie.cx, f + ie.cy, ke, Ne(ie.y0, ie.x0), Ne(ie.y1, ie.x1), !c),
                    t.arc(h, f, n, Ne(ie.cy + ie.y1, ie.cx + ie.x1), Ne(he.cy + he.y1, he.cx + he.x1), c),
                    Ie > 0 && t.arc(h + he.cx, f + he.cy, Ie, Ne(he.y1, he.x1), Ne(he.y0, he.x0), !c))
                } else
                    t.lineTo(h + te, f + W),
                    t.arc(h, f, n, u, l, c)
            }
            t.closePath()
        }
    }
}
var rb = function() {
    function t() {
        this.cx = 0,
        this.cy = 0,
        this.r0 = 0,
        this.r = 0,
        this.startAngle = 0,
        this.endAngle = Math.PI * 2,
        this.clockwise = !0,
        this.cornerRadius = 0
    }
    return t
}()
  , Ig = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultShape = function() {
        return new rb
    }
    ,
    e.prototype.buildPath = function(r, i) {
        tb(r, i)
    }
    ,
    e.prototype.isZeroArea = function() {
        return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0
    }
    ,
    e
}(ye);
Ig.prototype.type = "sector";
var Sh = Ig
  , ib = function() {
    function t() {
        this.cx = 0,
        this.cy = 0,
        this.r = 0,
        this.r0 = 0
    }
    return t
}()
  , kg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultShape = function() {
        return new ib
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n = i.cx
          , a = i.cy
          , o = Math.PI * 2;
        r.moveTo(n + i.r, a),
        r.arc(n, a, i.r, 0, o, !1),
        r.moveTo(n + i.r0, a),
        r.arc(n, a, i.r0, 0, o, !0)
    }
    ,
    e
}(ye);
kg.prototype.type = "ring";
var Lg = kg;
function nb(t, e, r, i) {
    var n = [], a = [], o = [], s = [], l, u, h, f;
    if (i) {
        h = [1 / 0, 1 / 0],
        f = [-1 / 0, -1 / 0];
        for (var c = 0, v = t.length; c < v; c++)
            ki(h, h, t[c]),
            Li(f, f, t[c]);
        ki(h, h, i[0]),
        Li(f, f, i[1])
    }
    for (var c = 0, v = t.length; c < v; c++) {
        var d = t[c];
        if (r)
            l = t[c ? c - 1 : v - 1],
            u = t[(c + 1) % v];
        else if (c === 0 || c === v - 1) {
            n.push(A_(t[c]));
            continue
        } else
            l = t[c - 1],
            u = t[c + 1];
        _p(a, u, l),
        Ts(a, a, e);
        var m = jl(d, l)
          , p = jl(d, u)
          , g = m + p;
        g !== 0 && (m /= g,
        p /= g),
        Ts(o, a, -m),
        Ts(s, a, p);
        var y = bf([], d, o)
          , _ = bf([], d, s);
        i && (Li(y, y, h),
        ki(y, y, f),
        Li(_, _, h),
        ki(_, _, f)),
        n.push(y),
        n.push(_)
    }
    return r && n.push(n.shift()),
    n
}
function Pg(t, e, r) {
    var i = e.smooth
      , n = e.points;
    if (n && n.length >= 2) {
        if (i) {
            var a = nb(n, i, r, e.smoothConstraint);
            t.moveTo(n[0][0], n[0][1]);
            for (var o = n.length, s = 0; s < (r ? o : o - 1); s++) {
                var l = a[s * 2]
                  , u = a[s * 2 + 1]
                  , h = n[(s + 1) % o];
                t.bezierCurveTo(l[0], l[1], u[0], u[1], h[0], h[1])
            }
        } else {
            t.moveTo(n[0][0], n[0][1]);
            for (var s = 1, f = n.length; s < f; s++)
                t.lineTo(n[s][0], n[s][1])
        }
        r && t.closePath()
    }
}
var ab = function() {
    function t() {
        this.points = null,
        this.smooth = 0,
        this.smoothConstraint = null
    }
    return t
}()
  , Eg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultShape = function() {
        return new ab
    }
    ,
    e.prototype.buildPath = function(r, i) {
        Pg(r, i, !0)
    }
    ,
    e
}(ye);
Eg.prototype.type = "polygon";
var Rg = Eg
  , ob = function() {
    function t() {
        this.points = null,
        this.percent = 1,
        this.smooth = 0,
        this.smoothConstraint = null
    }
    return t
}()
  , Og = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        }
    }
    ,
    e.prototype.getDefaultShape = function() {
        return new ob
    }
    ,
    e.prototype.buildPath = function(r, i) {
        Pg(r, i, !1)
    }
    ,
    e
}(ye);
Og.prototype.type = "polyline";
var Bg = Og
  , sb = {}
  , lb = function() {
    function t() {
        this.x1 = 0,
        this.y1 = 0,
        this.x2 = 0,
        this.y2 = 0,
        this.percent = 1
    }
    return t
}()
  , Ng = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        }
    }
    ,
    e.prototype.getDefaultShape = function() {
        return new lb
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n, a, o, s;
        if (this.subPixelOptimize) {
            var l = lg(sb, i, this.style);
            n = l.x1,
            a = l.y1,
            o = l.x2,
            s = l.y2
        } else
            n = i.x1,
            a = i.y1,
            o = i.x2,
            s = i.y2;
        var u = i.percent;
        u !== 0 && (r.moveTo(n, a),
        u < 1 && (o = n * (1 - u) + o * u,
        s = a * (1 - u) + s * u),
        r.lineTo(o, s))
    }
    ,
    e.prototype.pointAt = function(r) {
        var i = this.shape;
        return [i.x1 * (1 - r) + i.x2 * r, i.y1 * (1 - r) + i.y2 * r]
    }
    ,
    e
}(ye);
Ng.prototype.type = "line";
var wr = Ng
  , qe = []
  , ub = function() {
    function t() {
        this.x1 = 0,
        this.y1 = 0,
        this.x2 = 0,
        this.y2 = 0,
        this.cpx1 = 0,
        this.cpy1 = 0,
        this.percent = 1
    }
    return t
}();
function Rc(t, e, r) {
    var i = t.cpx2
      , n = t.cpy2;
    return i != null || n != null ? [(r ? Ef : Ae)(t.x1, t.cpx1, t.cpx2, t.x2, e), (r ? Ef : Ae)(t.y1, t.cpy1, t.cpy2, t.y2, e)] : [(r ? Rf : ze)(t.x1, t.cpx1, t.x2, e), (r ? Rf : ze)(t.y1, t.cpy1, t.y2, e)]
}
var Fg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        }
    }
    ,
    e.prototype.getDefaultShape = function() {
        return new ub
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n = i.x1
          , a = i.y1
          , o = i.x2
          , s = i.y2
          , l = i.cpx1
          , u = i.cpy1
          , h = i.cpx2
          , f = i.cpy2
          , c = i.percent;
        c !== 0 && (r.moveTo(n, a),
        h == null || f == null ? (c < 1 && (Io(n, l, o, c, qe),
        l = qe[1],
        o = qe[2],
        Io(a, u, s, c, qe),
        u = qe[1],
        s = qe[2]),
        r.quadraticCurveTo(l, u, o, s)) : (c < 1 && (Ao(n, l, h, o, c, qe),
        l = qe[1],
        h = qe[2],
        o = qe[3],
        Ao(a, u, f, s, c, qe),
        u = qe[1],
        f = qe[2],
        s = qe[3]),
        r.bezierCurveTo(l, u, h, f, o, s)))
    }
    ,
    e.prototype.pointAt = function(r) {
        return Rc(this.shape, r, !1)
    }
    ,
    e.prototype.tangentAt = function(r) {
        var i = Rc(this.shape, r, !0);
        return th(i, i)
    }
    ,
    e
}(ye);
Fg.prototype.type = "bezier-curve";
var bh = Fg
  , hb = function() {
    function t() {
        this.cx = 0,
        this.cy = 0,
        this.r = 0,
        this.startAngle = 0,
        this.endAngle = Math.PI * 2,
        this.clockwise = !0
    }
    return t
}()
  , zg = function(t) {
    X(e, t);
    function e(r) {
        return t.call(this, r) || this
    }
    return e.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        }
    }
    ,
    e.prototype.getDefaultShape = function() {
        return new hb
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n = i.cx
          , a = i.cy
          , o = Math.max(i.r, 0)
          , s = i.startAngle
          , l = i.endAngle
          , u = i.clockwise
          , h = Math.cos(s)
          , f = Math.sin(s);
        r.moveTo(h * o + n, f * o + a),
        r.arc(n, a, o, s, l, !u)
    }
    ,
    e
}(ye);
zg.prototype.type = "arc";
var Ch = zg
  , fb = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = "compound",
        r
    }
    return e.prototype._updatePathDirty = function() {
        for (var r = this.shape.paths, i = this.shapeChanged(), n = 0; n < r.length; n++)
            i = i || r[n].shapeChanged();
        i && this.dirtyShape()
    }
    ,
    e.prototype.beforeBrush = function() {
        this._updatePathDirty();
        for (var r = this.shape.paths || [], i = this.getGlobalScale(), n = 0; n < r.length; n++)
            r[n].path || r[n].createPathProxy(),
            r[n].path.setScale(i[0], i[1], r[n].segmentIgnoreThreshold)
    }
    ,
    e.prototype.buildPath = function(r, i) {
        for (var n = i.paths || [], a = 0; a < n.length; a++)
            n[a].buildPath(r, n[a].shape, !0)
    }
    ,
    e.prototype.afterBrush = function() {
        for (var r = this.shape.paths || [], i = 0; i < r.length; i++)
            r[i].pathUpdated()
    }
    ,
    e.prototype.getBoundingRect = function() {
        return this._updatePathDirty.call(this),
        ye.prototype.getBoundingRect.call(this)
    }
    ,
    e
}(ye)
  , cb = fb
  , vb = function() {
    function t(e) {
        this.colorStops = e || []
    }
    return t.prototype.addColorStop = function(e, r) {
        this.colorStops.push({
            offset: e,
            color: r
        })
    }
    ,
    t
}()
  , Vg = vb
  , db = function(t) {
    X(e, t);
    function e(r, i, n, a, o, s) {
        var l = t.call(this, o) || this;
        return l.x = r == null ? 0 : r,
        l.y = i == null ? 0 : i,
        l.x2 = n == null ? 1 : n,
        l.y2 = a == null ? 0 : a,
        l.type = "linear",
        l.global = s || !1,
        l
    }
    return e
}(Vg)
  , Hg = db
  , pb = function(t) {
    X(e, t);
    function e(r, i, n, a, o) {
        var s = t.call(this, a) || this;
        return s.x = r == null ? .5 : r,
        s.y = i == null ? .5 : i,
        s.r = n == null ? .5 : n,
        s.type = "radial",
        s.global = o || !1,
        s
    }
    return e
}(Vg)
  , gb = pb
  , Vr = [0, 0]
  , Hr = [0, 0]
  , Ba = new _e
  , Na = new _e
  , mb = function() {
    function t(e, r) {
        this._corners = [],
        this._axes = [],
        this._origin = [0, 0];
        for (var i = 0; i < 4; i++)
            this._corners[i] = new _e;
        for (var i = 0; i < 2; i++)
            this._axes[i] = new _e;
        e && this.fromBoundingRect(e, r)
    }
    return t.prototype.fromBoundingRect = function(e, r) {
        var i = this._corners
          , n = this._axes
          , a = e.x
          , o = e.y
          , s = a + e.width
          , l = o + e.height;
        if (i[0].set(a, o),
        i[1].set(s, o),
        i[2].set(s, l),
        i[3].set(a, l),
        r)
            for (var u = 0; u < 4; u++)
                i[u].transform(r);
        _e.sub(n[0], i[1], i[0]),
        _e.sub(n[1], i[3], i[0]),
        n[0].normalize(),
        n[1].normalize();
        for (var u = 0; u < 2; u++)
            this._origin[u] = n[u].dot(i[0])
    }
    ,
    t.prototype.intersect = function(e, r) {
        var i = !0
          , n = !r;
        return Ba.set(1 / 0, 1 / 0),
        Na.set(0, 0),
        !this._intersectCheckOneSide(this, e, Ba, Na, n, 1) && (i = !1,
        n) || !this._intersectCheckOneSide(e, this, Ba, Na, n, -1) && (i = !1,
        n) || n || _e.copy(r, i ? Ba : Na),
        i
    }
    ,
    t.prototype._intersectCheckOneSide = function(e, r, i, n, a, o) {
        for (var s = !0, l = 0; l < 2; l++) {
            var u = this._axes[l];
            if (this._getProjMinMaxOnAxis(l, e._corners, Vr),
            this._getProjMinMaxOnAxis(l, r._corners, Hr),
            Vr[1] < Hr[0] || Vr[0] > Hr[1]) {
                if (s = !1,
                a)
                    return s;
                var h = Math.abs(Hr[0] - Vr[1])
                  , f = Math.abs(Vr[0] - Hr[1]);
                Math.min(h, f) > n.len() && (h < f ? _e.scale(n, u, -h * o) : _e.scale(n, u, f * o))
            } else if (i) {
                var h = Math.abs(Hr[0] - Vr[1])
                  , f = Math.abs(Vr[0] - Hr[1]);
                Math.min(h, f) < i.len() && (h < f ? _e.scale(i, u, h * o) : _e.scale(i, u, -f * o))
            }
        }
        return s
    }
    ,
    t.prototype._getProjMinMaxOnAxis = function(e, r, i) {
        for (var n = this._axes[e], a = this._origin, o = r[0].dot(n) + a[e], s = o, l = o, u = 1; u < r.length; u++) {
            var h = r[u].dot(n) + a[e];
            s = Math.min(h, s),
            l = Math.max(h, l)
        }
        i[0] = s,
        i[1] = l
    }
    ,
    t
}()
  , Oo = mb
  , yb = []
  , _b = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.notClear = !0,
        r.incremental = !0,
        r._displayables = [],
        r._temporaryDisplayables = [],
        r._cursor = 0,
        r
    }
    return e.prototype.traverse = function(r, i) {
        r.call(i, this)
    }
    ,
    e.prototype.useStyle = function() {
        this.style = {}
    }
    ,
    e.prototype.getCursor = function() {
        return this._cursor
    }
    ,
    e.prototype.innerAfterBrush = function() {
        this._cursor = this._displayables.length
    }
    ,
    e.prototype.clearDisplaybles = function() {
        this._displayables = [],
        this._temporaryDisplayables = [],
        this._cursor = 0,
        this.markRedraw(),
        this.notClear = !1
    }
    ,
    e.prototype.clearTemporalDisplayables = function() {
        this._temporaryDisplayables = []
    }
    ,
    e.prototype.addDisplayable = function(r, i) {
        i ? this._temporaryDisplayables.push(r) : this._displayables.push(r),
        this.markRedraw()
    }
    ,
    e.prototype.addDisplayables = function(r, i) {
        i = i || !1;
        for (var n = 0; n < r.length; n++)
            this.addDisplayable(r[n], i)
    }
    ,
    e.prototype.getDisplayables = function() {
        return this._displayables
    }
    ,
    e.prototype.getTemporalDisplayables = function() {
        return this._temporaryDisplayables
    }
    ,
    e.prototype.eachPendingDisplayable = function(r) {
        for (var i = this._cursor; i < this._displayables.length; i++)
            r && r(this._displayables[i]);
        for (var i = 0; i < this._temporaryDisplayables.length; i++)
            r && r(this._temporaryDisplayables[i])
    }
    ,
    e.prototype.update = function() {
        this.updateTransform();
        for (var r = this._cursor; r < this._displayables.length; r++) {
            var i = this._displayables[r];
            i.parent = this,
            i.update(),
            i.parent = null
        }
        for (var r = 0; r < this._temporaryDisplayables.length; r++) {
            var i = this._temporaryDisplayables[r];
            i.parent = this,
            i.update(),
            i.parent = null
        }
    }
    ,
    e.prototype.getBoundingRect = function() {
        if (!this._rect) {
            for (var r = new ce(1 / 0,1 / 0,-1 / 0,-1 / 0), i = 0; i < this._displayables.length; i++) {
                var n = this._displayables[i]
                  , a = n.getBoundingRect().clone();
                n.needLocalTransform() && a.applyTransform(n.getLocalTransform(yb)),
                r.union(a)
            }
            this._rect = r
        }
        return this._rect
    }
    ,
    e.prototype.contain = function(r, i) {
        var n = this.transformCoordToLocal(r, i)
          , a = this.getBoundingRect();
        if (a.contain(n[0], n[1]))
            for (var o = 0; o < this._displayables.length; o++) {
                var s = this._displayables[o];
                if (s.contain(r, i))
                    return !0
            }
        return !1
    }
    ,
    e
}(va)
  , wb = _b
  , Sb = xe();
function bb(t, e, r, i, n) {
    var a;
    if (e && e.ecModel) {
        var o = e.ecModel.getUpdatePayload();
        a = o && o.animation
    }
    var s = e && e.isAnimationEnabled()
      , l = t === "update";
    if (s) {
        var u = void 0
          , h = void 0
          , f = void 0;
        i ? (u = oe(i.duration, 200),
        h = oe(i.easing, "cubicOut"),
        f = 0) : (u = e.getShallow(l ? "animationDurationUpdate" : "animationDuration"),
        h = e.getShallow(l ? "animationEasingUpdate" : "animationEasing"),
        f = e.getShallow(l ? "animationDelayUpdate" : "animationDelay")),
        a && (a.duration != null && (u = a.duration),
        a.easing != null && (h = a.easing),
        a.delay != null && (f = a.delay)),
        ne(f) && (f = f(r, n)),
        ne(u) && (u = u(r));
        var c = {
            duration: u || 0,
            delay: f,
            easing: h
        };
        return c
    } else
        return null
}
function xh(t, e, r, i, n, a, o) {
    var s = !1, l;
    ne(n) ? (o = a,
    a = n,
    n = null) : J(n) && (a = n.cb,
    o = n.during,
    s = n.isFrom,
    l = n.removeOpt,
    n = n.dataIndex);
    var u = t === "leave";
    u || e.stopAnimation("leave");
    var h = bb(t, i, n, u ? l || {} : null, i && i.getAnimationDelayParams ? i.getAnimationDelayParams(e, n) : null);
    if (h && h.duration > 0) {
        var f = h.duration
          , c = h.delay
          , v = h.easing
          , d = {
            duration: f,
            delay: c || 0,
            easing: v,
            done: a,
            force: !!a || !!o,
            setToFinal: !u,
            scope: t,
            during: o
        };
        s ? e.animateFrom(r, d) : e.animateTo(r, d)
    } else
        e.stopAnimation(),
        !s && e.attr(r),
        o && o(1),
        a && a()
}
function Sr(t, e, r, i, n, a) {
    xh("update", t, e, r, i, n, a)
}
function Ki(t, e, r, i, n, a) {
    xh("enter", t, e, r, i, n, a)
}
function Vn(t) {
    if (!t.__zr)
        return !0;
    for (var e = 0; e < t.animators.length; e++) {
        var r = t.animators[e];
        if (r.scope === "leave")
            return !0
    }
    return !1
}
function Bo(t, e, r, i, n, a) {
    Vn(t) || xh("leave", t, e, r, i, n, a)
}
function Oc(t, e, r, i) {
    t.removeTextContent(),
    t.removeTextGuideLine(),
    Bo(t, {
        style: {
            opacity: 0
        }
    }, e, r, i)
}
function Cb(t, e, r) {
    function i() {
        t.parent && t.parent.remove(t)
    }
    t.isGroup ? t.traverse(function(n) {
        n.isGroup || Oc(n, e, r, i)
    }) : Oc(t, e, r, i)
}
function xb(t) {
    Sb(t).oldStyle = t.style
}
var No = Math.max
  , Fo = Math.min
  , Cu = {};
function Tb(t) {
    return ye.extend(t)
}
var Mb = qS;
function Db(t, e) {
    return Mb(t, e)
}
function kt(t, e) {
    Cu[t] = e
}
function Ab(t) {
    if (Cu.hasOwnProperty(t))
        return Cu[t]
}
function Th(t, e, r, i) {
    var n = XS(t, e);
    return r && (i === "center" && (r = Wg(r, n.getBoundingRect())),
    Ug(n, r)),
    n
}
function Gg(t, e, r) {
    var i = new hi({
        style: {
            image: t,
            x: e.x,
            y: e.y,
            width: e.width,
            height: e.height
        },
        onload: function(n) {
            if (r === "center") {
                var a = {
                    width: n.width,
                    height: n.height
                };
                i.setStyle(Wg(e, a))
            }
        }
    });
    return i
}
function Wg(t, e) {
    var r = e.width / e.height, i = t.height * r, n;
    i <= t.width ? n = t.height : (i = t.width,
    n = i / r);
    var a = t.x + t.width / 2
      , o = t.y + t.height / 2;
    return {
        x: a - i / 2,
        y: o - n / 2,
        width: i,
        height: n
    }
}
var Ib = ZS;
function Ug(t, e) {
    if (!!t.applyTransform) {
        var r = t.getBoundingRect()
          , i = r.calculateTransform(e);
        t.applyTransform(i)
    }
}
function Qn(t, e) {
    return lg(t, t, {
        lineWidth: e
    }),
    t
}
function kb(t) {
    return ug(t.shape, t.shape, t.style),
    t
}
var Lb = Zr;
function Pb(t, e) {
    for (var r = ih([]); t && t !== e; )
        Ni(r, t.getLocalTransform(), r),
        t = t.parent;
    return r
}
function Mh(t, e, r) {
    return e && !et(e) && (e = lh.getLocalTransform(e)),
    r && (e = ah([], e)),
    yt([], t, e)
}
function Eb(t, e, r) {
    var i = e[4] === 0 || e[5] === 0 || e[0] === 0 ? 1 : Math.abs(2 * e[4] / e[0])
      , n = e[4] === 0 || e[5] === 0 || e[2] === 0 ? 1 : Math.abs(2 * e[4] / e[2])
      , a = [t === "left" ? -i : t === "right" ? i : 0, t === "top" ? -n : t === "bottom" ? n : 0];
    return a = Mh(a, e, r),
    Math.abs(a[0]) > Math.abs(a[1]) ? a[0] > 0 ? "right" : "left" : a[1] > 0 ? "bottom" : "top"
}
function Bc(t) {
    return !t.isGroup
}
function Rb(t) {
    return t.shape != null
}
function $g(t, e, r) {
    if (!t || !e)
        return;
    function i(o) {
        var s = {};
        return o.traverse(function(l) {
            Bc(l) && l.anid && (s[l.anid] = l)
        }),
        s
    }
    function n(o) {
        var s = {
            x: o.x,
            y: o.y,
            rotation: o.rotation
        };
        return Rb(o) && (s.shape = G({}, o.shape)),
        s
    }
    var a = i(t);
    e.traverse(function(o) {
        if (Bc(o) && o.anid) {
            var s = a[o.anid];
            if (s) {
                var l = n(o);
                o.attr(n(s)),
                Sr(o, l, r, de(o).dataIndex)
            }
        }
    })
}
function Ob(t, e) {
    return ee(t, function(r) {
        var i = r[0];
        i = No(i, e.x),
        i = Fo(i, e.x + e.width);
        var n = r[1];
        return n = No(n, e.y),
        n = Fo(n, e.y + e.height),
        [i, n]
    })
}
function Bb(t, e) {
    var r = No(t.x, e.x)
      , i = Fo(t.x + t.width, e.x + e.width)
      , n = No(t.y, e.y)
      , a = Fo(t.y + t.height, e.y + e.height);
    if (i >= r && a >= n)
        return {
            x: r,
            y: n,
            width: i - r,
            height: a - n
        }
}
function Yg(t, e, r) {
    var i = G({
        rectHover: !0
    }, e)
      , n = i.style = {
        strokeNoScale: !0
    };
    if (r = r || {
        x: -1,
        y: -1,
        width: 2,
        height: 2
    },
    t)
        return t.indexOf("image://") === 0 ? (n.image = t.slice(8),
        me(n, r),
        new hi(i)) : Th(t.replace("path://", ""), i, r, "center")
}
function Nb(t, e, r, i, n) {
    for (var a = 0, o = n[n.length - 1]; a < n.length; a++) {
        var s = n[a];
        if (Xg(t, e, r, i, s[0], s[1], o[0], o[1]))
            return !0;
        o = s
    }
}
function Xg(t, e, r, i, n, a, o, s) {
    var l = r - t
      , u = i - e
      , h = o - n
      , f = s - a
      , c = ll(h, f, l, u);
    if (Fb(c))
        return !1;
    var v = t - n
      , d = e - a
      , m = ll(v, d, l, u) / c;
    if (m < 0 || m > 1)
        return !1;
    var p = ll(v, d, h, f) / c;
    return !(p < 0 || p > 1)
}
function ll(t, e, r, i) {
    return t * i - r * e
}
function Fb(t) {
    return t <= 1e-6 && t >= -1e-6
}
function qg(t) {
    var e = t.itemTooltipOption
      , r = t.componentModel
      , i = t.itemName
      , n = Q(e) ? {
        formatter: e
    } : e
      , a = r.mainType
      , o = r.componentIndex
      , s = {
        componentType: a,
        name: i,
        $vars: ["name"]
    };
    s[a + "Index"] = o;
    var l = t.formatterParamsExtra;
    l && I(Se(l), function(h) {
        Ui(s, h) || (s[h] = l[h],
        s.$vars.push(h))
    });
    var u = de(t.el);
    u.componentMainType = a,
    u.componentIndex = o,
    u.tooltipConfig = {
        name: i,
        option: me({
            content: i,
            encodeHTMLContent: !0,
            formatterParams: s
        }, n)
    }
}
function Nc(t, e) {
    var r;
    t.isGroup && (r = e(t)),
    r || t.traverse(e)
}
function is(t, e) {
    if (t)
        if (Y(t))
            for (var r = 0; r < t.length; r++)
                Nc(t[r], e);
        else
            Nc(t, e)
}
kt("circle", wh);
kt("ellipse", Dg);
kt("sector", Sh);
kt("ring", Lg);
kt("polygon", Rg);
kt("polyline", Bg);
kt("rect", Je);
kt("line", wr);
kt("bezierCurve", bh);
kt("arc", Ch);
var zb = Object.freeze(Object.defineProperty({
    __proto__: null,
    updateProps: Sr,
    initProps: Ki,
    removeElement: Bo,
    removeElementWithFadeOut: Cb,
    isElementRemoved: Vn,
    extendShape: Tb,
    extendPath: Db,
    registerShape: kt,
    getShapeClass: Ab,
    makePath: Th,
    makeImage: Gg,
    mergePath: Ib,
    resizePath: Ug,
    subPixelOptimizeLine: Qn,
    subPixelOptimizeRect: kb,
    subPixelOptimize: Lb,
    getTransform: Pb,
    applyTransform: Mh,
    transformDirection: Eb,
    groupTransition: $g,
    clipPointsByRect: Ob,
    clipRectByRect: Bb,
    createIcon: Yg,
    linePolygonIntersect: Nb,
    lineLineIntersect: Xg,
    setTooltipConfig: qg,
    traverseElements: is,
    Group: Xe,
    Image: hi,
    Text: _t,
    Circle: wh,
    Ellipse: Dg,
    Sector: Sh,
    Ring: Lg,
    Polygon: Rg,
    Polyline: Bg,
    Rect: Je,
    Line: wr,
    BezierCurve: bh,
    Arc: Ch,
    IncrementalDisplayable: wb,
    CompoundPath: cb,
    LinearGradient: Hg,
    RadialGradient: gb,
    BoundingRect: ce,
    OrientedBoundingRect: Oo,
    Point: _e,
    Path: ye
}, Symbol.toStringTag, {
    value: "Module"
}))
  , ns = {};
function Vb(t, e) {
    for (var r = 0; r < wt.length; r++) {
        var i = wt[r]
          , n = e[i]
          , a = t.ensureState(i);
        a.style = a.style || {},
        a.style.text = n
    }
    var o = t.currentStates.slice();
    t.clearStates(!0),
    t.setStyle({
        text: e.normal
    }),
    t.useStates(o, !0)
}
function Fc(t, e, r) {
    var i = t.labelFetcher, n = t.labelDataIndex, a = t.labelDimIndex, o = e.normal, s;
    i && (s = i.getFormattedLabel(n, "normal", null, a, o && o.get("formatter"), r != null ? {
        interpolatedValue: r
    } : null)),
    s == null && (s = ne(t.defaultText) ? t.defaultText(n, t, r) : t.defaultText);
    for (var l = {
        normal: s
    }, u = 0; u < wt.length; u++) {
        var h = wt[u]
          , f = e[h];
        l[h] = oe(i ? i.getFormattedLabel(n, h, null, a, f && f.get("formatter")) : null, s)
    }
    return l
}
function Dh(t, e, r, i) {
    r = r || ns;
    for (var n = t instanceof _t, a = !1, o = 0; o < wc.length; o++) {
        var s = e[wc[o]];
        if (s && s.getShallow("show")) {
            a = !0;
            break
        }
    }
    var l = n ? t : t.getTextContent();
    if (a) {
        n || (l || (l = new _t,
        t.setTextContent(l)),
        t.stateProxy && (l.stateProxy = t.stateProxy));
        var u = Fc(r, e)
          , h = e.normal
          , f = !!h.getShallow("show")
          , c = oi(h, i && i.normal, r, !1, !n);
        c.text = u.normal,
        n || t.setTextConfig(zc(h, r, !1));
        for (var o = 0; o < wt.length; o++) {
            var v = wt[o]
              , s = e[v];
            if (s) {
                var d = l.ensureState(v)
                  , m = !!oe(s.getShallow("show"), f);
                if (m !== f && (d.ignore = !m),
                d.style = oi(s, i && i[v], r, !0, !n),
                d.style.text = u[v],
                !n) {
                    var p = t.ensureState(v);
                    p.textConfig = zc(s, r, !0)
                }
            }
        }
        l.silent = !!h.getShallow("silent"),
        l.style.x != null && (c.x = l.style.x),
        l.style.y != null && (c.y = l.style.y),
        l.ignore = !f,
        l.useStyle(c),
        l.dirty(),
        r.enableTextSetter && (Zg(l).setLabelText = function(g) {
            var y = Fc(r, e, g);
            Vb(l, y)
        }
        )
    } else
        l && (l.ignore = !0);
    t.dirty()
}
function da(t, e) {
    e = e || "label";
    for (var r = {
        normal: t.getModel(e)
    }, i = 0; i < wt.length; i++) {
        var n = wt[i];
        r[n] = t.getModel([n, e])
    }
    return r
}
function oi(t, e, r, i, n) {
    var a = {};
    return Hb(a, t, r, i, n),
    e && G(a, e),
    a
}
function zc(t, e, r) {
    e = e || {};
    var i = {}, n, a = t.getShallow("rotate"), o = oe(t.getShallow("distance"), r ? null : 5), s = t.getShallow("offset");
    return n = t.getShallow("position") || (r ? null : "inside"),
    n === "outside" && (n = e.defaultOutsidePosition || "top"),
    n != null && (i.position = n),
    s != null && (i.offset = s),
    a != null && (a *= Math.PI / 180,
    i.rotation = a),
    o != null && (i.distance = o),
    i.outsideFill = t.get("color") === "inherit" ? e.inheritColor || null : "auto",
    i
}
function Hb(t, e, r, i, n) {
    r = r || ns;
    var a = e.ecModel, o = a && a.option.textStyle, s = Gb(e), l;
    if (s) {
        l = {};
        for (var u in s)
            if (s.hasOwnProperty(u)) {
                var h = e.getModel(["rich", u]);
                Wc(l[u] = {}, h, o, r, i, n, !1, !0)
            }
    }
    l && (t.rich = l);
    var f = e.get("overflow");
    f && (t.overflow = f);
    var c = e.get("minMargin");
    c != null && (t.margin = c),
    Wc(t, e, o, r, i, n, !0, !1)
}
function Gb(t) {
    for (var e; t && t !== t.ecModel; ) {
        var r = (t.option || ns).rich;
        if (r) {
            e = e || {};
            for (var i = Se(r), n = 0; n < i.length; n++) {
                var a = i[n];
                e[a] = 1
            }
        }
        t = t.parentModel
    }
    return e
}
var Vc = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"]
  , Hc = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"]
  , Gc = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function Wc(t, e, r, i, n, a, o, s) {
    r = !n && r || ns;
    var l = i && i.inheritColor
      , u = e.getShallow("color")
      , h = e.getShallow("textBorderColor")
      , f = oe(e.getShallow("opacity"), r.opacity);
    (u === "inherit" || u === "auto") && (l ? u = l : u = null),
    (h === "inherit" || h === "auto") && (l ? h = l : h = null),
    a || (u = u || r.color,
    h = h || r.textBorderColor),
    u != null && (t.fill = u),
    h != null && (t.stroke = h);
    var c = oe(e.getShallow("textBorderWidth"), r.textBorderWidth);
    c != null && (t.lineWidth = c);
    var v = oe(e.getShallow("textBorderType"), r.textBorderType);
    v != null && (t.lineDash = v);
    var d = oe(e.getShallow("textBorderDashOffset"), r.textBorderDashOffset);
    d != null && (t.lineDashOffset = d),
    !n && f == null && !s && (f = i && i.defaultOpacity),
    f != null && (t.opacity = f),
    !n && !a && t.fill == null && i.inheritColor && (t.fill = i.inheritColor);
    for (var m = 0; m < Vc.length; m++) {
        var p = Vc[m]
          , g = oe(e.getShallow(p), r[p]);
        g != null && (t[p] = g)
    }
    for (var m = 0; m < Hc.length; m++) {
        var p = Hc[m]
          , g = e.getShallow(p);
        g != null && (t[p] = g)
    }
    if (t.verticalAlign == null) {
        var y = e.getShallow("baseline");
        y != null && (t.verticalAlign = y)
    }
    if (!o || !i.disableBox) {
        for (var m = 0; m < Gc.length; m++) {
            var p = Gc[m]
              , g = e.getShallow(p);
            g != null && (t[p] = g)
        }
        var _ = e.getShallow("borderType");
        _ != null && (t.borderDash = _),
        (t.backgroundColor === "auto" || t.backgroundColor === "inherit") && l && (t.backgroundColor = l),
        (t.borderColor === "auto" || t.borderColor === "inherit") && l && (t.borderColor = l)
    }
}
function Wb(t, e) {
    var r = e && e.getModel("textStyle");
    return Nt([t.fontStyle || r && r.getShallow("fontStyle") || "", t.fontWeight || r && r.getShallow("fontWeight") || "", (t.fontSize || r && r.getShallow("fontSize") || 12) + "px", t.fontFamily || r && r.getShallow("fontFamily") || "sans-serif"].join(" "))
}
var Zg = xe()
  , Ub = ["textStyle", "color"]
  , ul = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"]
  , hl = new _t
  , $b = function() {
    function t() {}
    return t.prototype.getTextColor = function(e) {
        var r = this.ecModel;
        return this.getShallow("color") || (!e && r ? r.get(Ub) : null)
    }
    ,
    t.prototype.getFont = function() {
        return Wb({
            fontStyle: this.getShallow("fontStyle"),
            fontWeight: this.getShallow("fontWeight"),
            fontSize: this.getShallow("fontSize"),
            fontFamily: this.getShallow("fontFamily")
        }, this.ecModel)
    }
    ,
    t.prototype.getTextRect = function(e) {
        for (var r = {
            text: e,
            verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
        }, i = 0; i < ul.length; i++)
            r[ul[i]] = this.getShallow(ul[i]);
        return hl.useStyle(r),
        hl.update(),
        hl.getBoundingRect()
    }
    ,
    t
}()
  , Yb = $b
  , Kg = [["lineWidth", "width"], ["stroke", "color"], ["opacity"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"], ["lineDash", "type"], ["lineDashOffset", "dashOffset"], ["lineCap", "cap"], ["lineJoin", "join"], ["miterLimit"]]
  , Xb = Zn(Kg)
  , qb = function() {
    function t() {}
    return t.prototype.getLineStyle = function(e) {
        return Xb(this, e)
    }
    ,
    t
}()
  , jg = [["fill", "color"], ["stroke", "borderColor"], ["lineWidth", "borderWidth"], ["opacity"], ["shadowBlur"], ["shadowOffsetX"], ["shadowOffsetY"], ["shadowColor"], ["lineDash", "borderType"], ["lineDashOffset", "borderDashOffset"], ["lineCap", "borderCap"], ["lineJoin", "borderJoin"], ["miterLimit", "borderMiterLimit"]]
  , Zb = Zn(jg)
  , Kb = function() {
    function t() {}
    return t.prototype.getItemStyle = function(e, r) {
        return Zb(this, e, r)
    }
    ,
    t
}()
  , fi = function() {
    function t(e, r, i) {
        this.parentModel = r,
        this.ecModel = i,
        this.option = e
    }
    return t.prototype.init = function(e, r, i) {}
    ,
    t.prototype.mergeOption = function(e, r) {
        ge(this.option, e, !0)
    }
    ,
    t.prototype.get = function(e, r) {
        return e == null ? this.option : this._doGet(this.parsePath(e), !r && this.parentModel)
    }
    ,
    t.prototype.getShallow = function(e, r) {
        var i = this.option
          , n = i == null ? i : i[e];
        if (n == null && !r) {
            var a = this.parentModel;
            a && (n = a.getShallow(e))
        }
        return n
    }
    ,
    t.prototype.getModel = function(e, r) {
        var i = e != null
          , n = i ? this.parsePath(e) : null
          , a = i ? this._doGet(n) : this.option;
        return r = r || this.parentModel && this.parentModel.getModel(this.resolveParentPath(n)),
        new t(a,r,this.ecModel)
    }
    ,
    t.prototype.isEmpty = function() {
        return this.option == null
    }
    ,
    t.prototype.restoreData = function() {}
    ,
    t.prototype.clone = function() {
        var e = this.constructor;
        return new e(ue(this.option))
    }
    ,
    t.prototype.parsePath = function(e) {
        return typeof e == "string" ? e.split(".") : e
    }
    ,
    t.prototype.resolveParentPath = function(e) {
        return e
    }
    ,
    t.prototype.isAnimationEnabled = function() {
        if (!ae.node && this.option) {
            if (this.option.animation != null)
                return !!this.option.animation;
            if (this.parentModel)
                return this.parentModel.isAnimationEnabled()
        }
    }
    ,
    t.prototype._doGet = function(e, r) {
        var i = this.option;
        if (!e)
            return i;
        for (var n = 0; n < e.length && !(!!e[n] && (i = i && typeof i == "object" ? i[e[n]] : null,
        i == null)); n++)
            ;
        return i == null && r && (i = r._doGet(this.resolveParentPath(e), r.parentModel)),
        i
    }
    ,
    t
}();
dh(fi);
xw(fi);
It(fi, qb);
It(fi, Kb);
It(fi, Iw);
It(fi, Yb);
var $e = fi
  , jb = Math.round(Math.random() * 10);
function as(t) {
    return [t || "", jb++].join("_")
}
function Qb(t) {
    var e = {};
    t.registerSubTypeDefaulter = function(r, i) {
        var n = zt(r);
        e[n.main] = i
    }
    ,
    t.determineSubType = function(r, i) {
        var n = i.type;
        if (!n) {
            var a = zt(r).main;
            t.hasSubTypes(r) && e[a] && (n = e[a](i))
        }
        return n
    }
}
function Jb(t, e) {
    t.topologicalTravel = function(a, o, s, l) {
        if (!a.length)
            return;
        var u = r(o)
          , h = u.graph
          , f = u.noEntryList
          , c = {};
        for (I(a, function(y) {
            c[y] = !0
        }); f.length; ) {
            var v = f.pop()
              , d = h[v]
              , m = !!c[v];
            m && (s.call(l, v, d.originalDeps.slice()),
            delete c[v]),
            I(d.successor, m ? g : p)
        }
        I(c, function() {
            var y = "";
            throw new Error(y)
        });
        function p(y) {
            h[y].entryCount--,
            h[y].entryCount === 0 && f.push(y)
        }
        function g(y) {
            c[y] = !0,
            p(y)
        }
    }
    ;
    function r(a) {
        var o = {}
          , s = [];
        return I(a, function(l) {
            var u = i(o, l)
              , h = u.originalDeps = e(l)
              , f = n(h, a);
            u.entryCount = f.length,
            u.entryCount === 0 && s.push(l),
            I(f, function(c) {
                pe(u.predecessor, c) < 0 && u.predecessor.push(c);
                var v = i(o, c);
                pe(v.successor, c) < 0 && v.successor.push(l)
            })
        }),
        {
            graph: o,
            noEntryList: s
        }
    }
    function i(a, o) {
        return a[o] || (a[o] = {
            predecessor: [],
            successor: []
        }),
        a[o]
    }
    function n(a, o) {
        var s = [];
        return I(a, function(l) {
            pe(o, l) >= 0 && s.push(l)
        }),
        s
    }
}
var eC = {
    time: {
        month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
    },
    legend: {
        selector: {
            all: "All",
            inverse: "Inv"
        }
    },
    toolbox: {
        brush: {
            title: {
                rect: "Box Select",
                polygon: "Lasso Select",
                lineX: "Horizontally Select",
                lineY: "Vertically Select",
                keep: "Keep Selections",
                clear: "Clear Selections"
            }
        },
        dataView: {
            title: "Data View",
            lang: ["Data View", "Close", "Refresh"]
        },
        dataZoom: {
            title: {
                zoom: "Zoom",
                back: "Zoom Reset"
            }
        },
        magicType: {
            title: {
                line: "Switch to Line Chart",
                bar: "Switch to Bar Chart",
                stack: "Stack",
                tiled: "Tile"
            }
        },
        restore: {
            title: "Restore"
        },
        saveAsImage: {
            title: "Save as Image",
            lang: ["Right Click to Save Image"]
        }
    },
    series: {
        typeNames: {
            pie: "Pie chart",
            bar: "Bar chart",
            line: "Line chart",
            scatter: "Scatter plot",
            effectScatter: "Ripple scatter plot",
            radar: "Radar chart",
            tree: "Tree",
            treemap: "Treemap",
            boxplot: "Boxplot",
            candlestick: "Candlestick",
            k: "K line chart",
            heatmap: "Heat map",
            map: "Map",
            parallel: "Parallel coordinate map",
            lines: "Line graph",
            graph: "Relationship graph",
            sankey: "Sankey diagram",
            funnel: "Funnel chart",
            gauge: "Gauge",
            pictorialBar: "Pictorial bar",
            themeRiver: "Theme River Map",
            sunburst: "Sunburst",
            custom: "Custom chart",
            chart: "Chart"
        }
    },
    aria: {
        general: {
            withTitle: 'This is a chart about "{title}"',
            withoutTitle: "This is a chart"
        },
        series: {
            single: {
                prefix: "",
                withName: " with type {seriesType} named {seriesName}.",
                withoutName: " with type {seriesType}."
            },
            multiple: {
                prefix: ". It consists of {seriesCount} series count.",
                withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
                withoutName: " The {seriesId} series is a {seriesType}.",
                separator: {
                    middle: "",
                    end: ""
                }
            }
        },
        data: {
            allData: "The data is as follows: ",
            partialData: "The first {displayCnt} items are: ",
            withName: "the data for {name} is {value}",
            withoutName: "{value}",
            separator: {
                middle: ", ",
                end: ". "
            }
        }
    }
}
  , tC = {
    time: {
        month: ["\u4E00\u6708", "\u4E8C\u6708", "\u4E09\u6708", "\u56DB\u6708", "\u4E94\u6708", "\u516D\u6708", "\u4E03\u6708", "\u516B\u6708", "\u4E5D\u6708", "\u5341\u6708", "\u5341\u4E00\u6708", "\u5341\u4E8C\u6708"],
        monthAbbr: ["1\u6708", "2\u6708", "3\u6708", "4\u6708", "5\u6708", "6\u6708", "7\u6708", "8\u6708", "9\u6708", "10\u6708", "11\u6708", "12\u6708"],
        dayOfWeek: ["\u661F\u671F\u65E5", "\u661F\u671F\u4E00", "\u661F\u671F\u4E8C", "\u661F\u671F\u4E09", "\u661F\u671F\u56DB", "\u661F\u671F\u4E94", "\u661F\u671F\u516D"],
        dayOfWeekAbbr: ["\u65E5", "\u4E00", "\u4E8C", "\u4E09", "\u56DB", "\u4E94", "\u516D"]
    },
    legend: {
        selector: {
            all: "\u5168\u9009",
            inverse: "\u53CD\u9009"
        }
    },
    toolbox: {
        brush: {
            title: {
                rect: "\u77E9\u5F62\u9009\u62E9",
                polygon: "\u5708\u9009",
                lineX: "\u6A2A\u5411\u9009\u62E9",
                lineY: "\u7EB5\u5411\u9009\u62E9",
                keep: "\u4FDD\u6301\u9009\u62E9",
                clear: "\u6E05\u9664\u9009\u62E9"
            }
        },
        dataView: {
            title: "\u6570\u636E\u89C6\u56FE",
            lang: ["\u6570\u636E\u89C6\u56FE", "\u5173\u95ED", "\u5237\u65B0"]
        },
        dataZoom: {
            title: {
                zoom: "\u533A\u57DF\u7F29\u653E",
                back: "\u533A\u57DF\u7F29\u653E\u8FD8\u539F"
            }
        },
        magicType: {
            title: {
                line: "\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",
                bar: "\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",
                stack: "\u5207\u6362\u4E3A\u5806\u53E0",
                tiled: "\u5207\u6362\u4E3A\u5E73\u94FA"
            }
        },
        restore: {
            title: "\u8FD8\u539F"
        },
        saveAsImage: {
            title: "\u4FDD\u5B58\u4E3A\u56FE\u7247",
            lang: ["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]
        }
    },
    series: {
        typeNames: {
            pie: "\u997C\u56FE",
            bar: "\u67F1\u72B6\u56FE",
            line: "\u6298\u7EBF\u56FE",
            scatter: "\u6563\u70B9\u56FE",
            effectScatter: "\u6D9F\u6F2A\u6563\u70B9\u56FE",
            radar: "\u96F7\u8FBE\u56FE",
            tree: "\u6811\u56FE",
            treemap: "\u77E9\u5F62\u6811\u56FE",
            boxplot: "\u7BB1\u578B\u56FE",
            candlestick: "K\u7EBF\u56FE",
            k: "K\u7EBF\u56FE",
            heatmap: "\u70ED\u529B\u56FE",
            map: "\u5730\u56FE",
            parallel: "\u5E73\u884C\u5750\u6807\u56FE",
            lines: "\u7EBF\u56FE",
            graph: "\u5173\u7CFB\u56FE",
            sankey: "\u6851\u57FA\u56FE",
            funnel: "\u6F0F\u6597\u56FE",
            gauge: "\u4EEA\u8868\u76D8\u56FE",
            pictorialBar: "\u8C61\u5F62\u67F1\u56FE",
            themeRiver: "\u4E3B\u9898\u6CB3\u6D41\u56FE",
            sunburst: "\u65ED\u65E5\u56FE",
            custom: "\u81EA\u5B9A\u4E49\u56FE\u8868",
            chart: "\u56FE\u8868"
        }
    },
    aria: {
        general: {
            withTitle: "\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",
            withoutTitle: "\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"
        },
        series: {
            single: {
                prefix: "",
                withName: "\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",
                withoutName: "\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"
            },
            multiple: {
                prefix: "\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",
                withName: "\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",
                withoutName: "\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",
                separator: {
                    middle: "\uFF1B",
                    end: "\u3002"
                }
            }
        },
        data: {
            allData: "\u5176\u6570\u636E\u662F\u2014\u2014",
            partialData: "\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",
            withName: "{name}\u7684\u6570\u636E\u662F{value}",
            withoutName: "{value}",
            separator: {
                middle: "\uFF0C",
                end: ""
            }
        }
    }
}
  , zo = "ZH"
  , Ah = "EN"
  , zi = Ah
  , _o = {}
  , Ih = {}
  , Qg = ae.domSupported ? function() {
    var t = (document.documentElement.lang || navigator.language || navigator.browserLanguage || zi).toUpperCase();
    return t.indexOf(zo) > -1 ? zo : zi
}() : zi;
function Jg(t, e) {
    t = t.toUpperCase(),
    Ih[t] = new $e(e),
    _o[t] = e
}
function rC(t) {
    if (Q(t)) {
        var e = _o[t.toUpperCase()] || {};
        return t === zo || t === Ah ? ue(e) : ge(ue(e), ue(_o[zi]), !1)
    } else
        return ge(ue(t), ue(_o[zi]), !1)
}
function iC(t) {
    return Ih[t]
}
function nC() {
    return Ih[zi]
}
Jg(Ah, eC);
Jg(zo, tC);
var kh = 1e3
  , Lh = kh * 60
  , Hn = Lh * 60
  , mt = Hn * 24
  , Uc = mt * 365
  , Ln = {
    year: "{yyyy}",
    month: "{MMM}",
    day: "{d}",
    hour: "{HH}:{mm}",
    minute: "{HH}:{mm}",
    second: "{HH}:{mm}:{ss}",
    millisecond: "{HH}:{mm}:{ss} {SSS}",
    none: "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"
}
  , Fa = "{yyyy}-{MM}-{dd}"
  , $c = {
    year: "{yyyy}",
    month: "{yyyy}-{MM}",
    day: Fa,
    hour: Fa + " " + Ln.hour,
    minute: Fa + " " + Ln.minute,
    second: Fa + " " + Ln.second,
    millisecond: Ln.none
}
  , fl = ["year", "month", "day", "hour", "minute", "second", "millisecond"]
  , em = ["year", "half-year", "quarter", "month", "week", "half-week", "day", "half-day", "quarter-day", "hour", "minute", "second", "millisecond"];
function ir(t, e) {
    return t += "",
    "0000".substr(0, e - t.length) + t
}
function Vi(t) {
    switch (t) {
    case "half-year":
    case "quarter":
        return "month";
    case "week":
    case "half-week":
        return "day";
    case "half-day":
    case "quarter-day":
        return "hour";
    default:
        return t
    }
}
function aC(t) {
    return t === Vi(t)
}
function oC(t) {
    switch (t) {
    case "year":
    case "month":
        return "day";
    case "millisecond":
        return "millisecond";
    default:
        return "second"
    }
}
function os(t, e, r, i) {
    var n = Zt(t)
      , a = n[Ph(r)]()
      , o = n[Hi(r)]() + 1
      , s = Math.floor((o - 1) / 3) + 1
      , l = n[ss(r)]()
      , u = n["get" + (r ? "UTC" : "") + "Day"]()
      , h = n[Jn(r)]()
      , f = (h - 1) % 12 + 1
      , c = n[ls(r)]()
      , v = n[us(r)]()
      , d = n[hs(r)]()
      , m = h >= 12 ? "pm" : "am"
      , p = m.toUpperCase()
      , g = i instanceof $e ? i : iC(i || Qg) || nC()
      , y = g.getModel("time")
      , _ = y.get("month")
      , w = y.get("monthAbbr")
      , b = y.get("dayOfWeek")
      , S = y.get("dayOfWeekAbbr");
    return (e || "").replace(/{a}/g, m + "").replace(/{A}/g, p + "").replace(/{yyyy}/g, a + "").replace(/{yy}/g, ir(a % 100 + "", 2)).replace(/{Q}/g, s + "").replace(/{MMMM}/g, _[o - 1]).replace(/{MMM}/g, w[o - 1]).replace(/{MM}/g, ir(o, 2)).replace(/{M}/g, o + "").replace(/{dd}/g, ir(l, 2)).replace(/{d}/g, l + "").replace(/{eeee}/g, b[u]).replace(/{ee}/g, S[u]).replace(/{e}/g, u + "").replace(/{HH}/g, ir(h, 2)).replace(/{H}/g, h + "").replace(/{hh}/g, ir(f + "", 2)).replace(/{h}/g, f + "").replace(/{mm}/g, ir(c, 2)).replace(/{m}/g, c + "").replace(/{ss}/g, ir(v, 2)).replace(/{s}/g, v + "").replace(/{SSS}/g, ir(d, 3)).replace(/{S}/g, d + "")
}
function sC(t, e, r, i, n) {
    var a = null;
    if (Q(r))
        a = r;
    else if (ne(r))
        a = r(t.value, e, {
            level: t.level
        });
    else {
        var o = G({}, Ln);
        if (t.level > 0)
            for (var s = 0; s < fl.length; ++s)
                o[fl[s]] = "{primary|" + o[fl[s]] + "}";
        var l = r ? r.inherit === !1 ? r : me(r, o) : o
          , u = tm(t.value, n);
        if (l[u])
            a = l[u];
        else if (l.inherit) {
            for (var h = em.indexOf(u), s = h - 1; s >= 0; --s)
                if (l[u]) {
                    a = l[u];
                    break
                }
            a = a || o.none
        }
        if (Y(a)) {
            var f = t.level == null ? 0 : t.level >= 0 ? t.level : a.length + t.level;
            f = Math.min(f, a.length - 1),
            a = a[f]
        }
    }
    return os(new Date(t.value), a, n, i)
}
function tm(t, e) {
    var r = Zt(t)
      , i = r[Hi(e)]() + 1
      , n = r[ss(e)]()
      , a = r[Jn(e)]()
      , o = r[ls(e)]()
      , s = r[us(e)]()
      , l = r[hs(e)]()
      , u = l === 0
      , h = u && s === 0
      , f = h && o === 0
      , c = f && a === 0
      , v = c && n === 1
      , d = v && i === 1;
    return d ? "year" : v ? "month" : c ? "day" : f ? "hour" : h ? "minute" : u ? "second" : "millisecond"
}
function Yc(t, e, r) {
    var i = be(t) ? Zt(t) : t;
    switch (e = e || tm(t, r),
    e) {
    case "year":
        return i[Ph(r)]();
    case "half-year":
        return i[Hi(r)]() >= 6 ? 1 : 0;
    case "quarter":
        return Math.floor((i[Hi(r)]() + 1) / 4);
    case "month":
        return i[Hi(r)]();
    case "day":
        return i[ss(r)]();
    case "half-day":
        return i[Jn(r)]() / 24;
    case "hour":
        return i[Jn(r)]();
    case "minute":
        return i[ls(r)]();
    case "second":
        return i[us(r)]();
    case "millisecond":
        return i[hs(r)]()
    }
}
function Ph(t) {
    return t ? "getUTCFullYear" : "getFullYear"
}
function Hi(t) {
    return t ? "getUTCMonth" : "getMonth"
}
function ss(t) {
    return t ? "getUTCDate" : "getDate"
}
function Jn(t) {
    return t ? "getUTCHours" : "getHours"
}
function ls(t) {
    return t ? "getUTCMinutes" : "getMinutes"
}
function us(t) {
    return t ? "getUTCSeconds" : "getSeconds"
}
function hs(t) {
    return t ? "getUTCMilliseconds" : "getMilliseconds"
}
function lC(t) {
    return t ? "setUTCFullYear" : "setFullYear"
}
function rm(t) {
    return t ? "setUTCMonth" : "setMonth"
}
function im(t) {
    return t ? "setUTCDate" : "setDate"
}
function nm(t) {
    return t ? "setUTCHours" : "setHours"
}
function am(t) {
    return t ? "setUTCMinutes" : "setMinutes"
}
function om(t) {
    return t ? "setUTCSeconds" : "setSeconds"
}
function sm(t) {
    return t ? "setUTCMilliseconds" : "setMilliseconds"
}
function lm(t) {
    if (!iw(t))
        return Q(t) ? t : "-";
    var e = (t + "").split(".");
    return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (e.length > 1 ? "." + e[1] : "")
}
function um(t, e) {
    return t = (t || "").toLowerCase().replace(/-(.)/g, function(r, i) {
        return i.toUpperCase()
    }),
    e && t && (t = t.charAt(0).toUpperCase() + t.slice(1)),
    t
}
var Eh = pp;
function xu(t, e, r) {
    var i = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";
    function n(h) {
        return h && Nt(h) ? h : "-"
    }
    function a(h) {
        return !!(h != null && !isNaN(h) && isFinite(h))
    }
    var o = e === "time"
      , s = t instanceof Date;
    if (o || s) {
        var l = o ? Zt(t) : t;
        if (isNaN(+l)) {
            if (s)
                return "-"
        } else
            return os(l, i, r)
    }
    if (e === "ordinal")
        return Zl(t) ? n(t) : be(t) && a(t) ? t + "" : "-";
    var u = Eo(t);
    return a(u) ? lm(u) : Zl(t) ? n(t) : typeof t == "boolean" ? t + "" : "-"
}
var Xc = ["a", "b", "c", "d", "e", "f", "g"]
  , cl = function(t, e) {
    return "{" + t + (e == null ? "" : e) + "}"
};
function hm(t, e, r) {
    Y(e) || (e = [e]);
    var i = e.length;
    if (!i)
        return "";
    for (var n = e[0].$vars || [], a = 0; a < n.length; a++) {
        var o = Xc[a];
        t = t.replace(cl(o), cl(o, 0))
    }
    for (var s = 0; s < i; s++)
        for (var l = 0; l < n.length; l++) {
            var u = e[s][n[l]];
            t = t.replace(cl(Xc[l], s), r ? nt(u) : u)
        }
    return t
}
function uC(t, e) {
    var r = Q(t) ? {
        color: t,
        extraCssText: e
    } : t || {}
      , i = r.color
      , n = r.type;
    e = r.extraCssText;
    var a = r.renderMode || "html";
    if (!i)
        return "";
    if (a === "html")
        return n === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + nt(i) + ";" + (e || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + nt(i) + ";" + (e || "") + '"></span>';
    var o = r.markerId || "markerX";
    return {
        renderMode: a,
        content: "{" + o + "|}  ",
        style: n === "subItem" ? {
            width: 4,
            height: 4,
            borderRadius: 2,
            backgroundColor: i
        } : {
            width: 10,
            height: 10,
            borderRadius: 5,
            backgroundColor: i
        }
    }
}
function si(t, e) {
    return e = e || "transparent",
    Q(t) ? t : J(t) && t.colorStops && (t.colorStops[0] || {}).color || e
}
function qc(t, e) {
    if (e === "_blank" || e === "blank") {
        var r = window.open();
        r.opener = null,
        r.location.href = t
    } else
        window.open(t, e)
}
var wo = I
  , hC = ["left", "right", "top", "bottom", "width", "height"]
  , za = [["width", "left", "right"], ["height", "top", "bottom"]];
function fm(t, e, r, i, n) {
    var a = 0
      , o = 0;
    i == null && (i = 1 / 0),
    n == null && (n = 1 / 0);
    var s = 0;
    e.eachChild(function(l, u) {
        var h = l.getBoundingRect(), f = e.childAt(u + 1), c = f && f.getBoundingRect(), v, d;
        if (t === "horizontal") {
            var m = h.width + (c ? -c.x + h.x : 0);
            v = a + m,
            v > i || l.newline ? (a = 0,
            v = m,
            o += s + r,
            s = h.height) : s = Math.max(s, h.height)
        } else {
            var p = h.height + (c ? -c.y + h.y : 0);
            d = o + p,
            d > n || l.newline ? (a += s + r,
            o = 0,
            d = p,
            s = h.width) : s = Math.max(s, h.width)
        }
        l.newline || (l.x = a,
        l.y = o,
        l.markRedraw(),
        t === "horizontal" ? a = v + r : o = d + r)
    })
}
Ee(fm, "vertical");
Ee(fm, "horizontal");
function Rh(t, e, r) {
    r = Eh(r || 0);
    var i = e.width
      , n = e.height
      , a = Oe(t.left, i)
      , o = Oe(t.top, n)
      , s = Oe(t.right, i)
      , l = Oe(t.bottom, n)
      , u = Oe(t.width, i)
      , h = Oe(t.height, n)
      , f = r[2] + r[0]
      , c = r[1] + r[3]
      , v = t.aspect;
    switch (isNaN(u) && (u = i - s - c - a),
    isNaN(h) && (h = n - l - f - o),
    v != null && (isNaN(u) && isNaN(h) && (v > i / n ? u = i * .8 : h = n * .8),
    isNaN(u) && (u = v * h),
    isNaN(h) && (h = u / v)),
    isNaN(a) && (a = i - s - u - c),
    isNaN(o) && (o = n - l - h - f),
    t.left || t.right) {
    case "center":
        a = i / 2 - u / 2 - r[3];
        break;
    case "right":
        a = i - u - c;
        break
    }
    switch (t.top || t.bottom) {
    case "middle":
    case "center":
        o = n / 2 - h / 2 - r[0];
        break;
    case "bottom":
        o = n - h - f;
        break
    }
    a = a || 0,
    o = o || 0,
    isNaN(u) && (u = i - c - a - (s || 0)),
    isNaN(h) && (h = n - f - o - (l || 0));
    var d = new ce(a + r[3],o + r[0],u,h);
    return d.margin = r,
    d
}
function ea(t) {
    var e = t.layoutMode || t.constructor.layoutMode;
    return J(e) ? e : e ? {
        type: e
    } : null
}
function ta(t, e, r) {
    var i = r && r.ignoreSize;
    !Y(i) && (i = [i, i]);
    var n = o(za[0], 0)
      , a = o(za[1], 1);
    u(za[0], t, n),
    u(za[1], t, a);
    function o(h, f) {
        var c = {}
          , v = 0
          , d = {}
          , m = 0
          , p = 2;
        if (wo(h, function(_) {
            d[_] = t[_]
        }),
        wo(h, function(_) {
            s(e, _) && (c[_] = d[_] = e[_]),
            l(c, _) && v++,
            l(d, _) && m++
        }),
        i[f])
            return l(e, h[1]) ? d[h[2]] = null : l(e, h[2]) && (d[h[1]] = null),
            d;
        if (m === p || !v)
            return d;
        if (v >= p)
            return c;
        for (var g = 0; g < h.length; g++) {
            var y = h[g];
            if (!s(c, y) && s(t, y)) {
                c[y] = t[y];
                break
            }
        }
        return c
    }
    function s(h, f) {
        return h.hasOwnProperty(f)
    }
    function l(h, f) {
        return h[f] != null && h[f] !== "auto"
    }
    function u(h, f, c) {
        wo(h, function(v) {
            f[v] = c[v]
        })
    }
}
function Oh(t) {
    return fC({}, t)
}
function fC(t, e) {
    return e && t && wo(hC, function(r) {
        e.hasOwnProperty(r) && (t[r] = e[r])
    }),
    t
}
var cC = xe()
  , ji = function(t) {
    X(e, t);
    function e(r, i, n) {
        var a = t.call(this, r, i, n) || this;
        return a.uid = as("ec_cpt_model"),
        a
    }
    return e.prototype.init = function(r, i, n) {
        this.mergeDefaultAndTheme(r, n)
    }
    ,
    e.prototype.mergeDefaultAndTheme = function(r, i) {
        var n = ea(this)
          , a = n ? Oh(r) : {}
          , o = i.getTheme();
        ge(r, o.get(this.mainType)),
        ge(r, this.getDefaultOption()),
        n && ta(r, a, n)
    }
    ,
    e.prototype.mergeOption = function(r, i) {
        ge(this.option, r, !0);
        var n = ea(this);
        n && ta(this.option, r, n)
    }
    ,
    e.prototype.optionUpdated = function(r, i) {}
    ,
    e.prototype.getDefaultOption = function() {
        var r = this.constructor;
        if (!Sw(r))
            return r.defaultOption;
        var i = cC(this);
        if (!i.defaultOption) {
            for (var n = [], a = r; a; ) {
                var o = a.prototype.defaultOption;
                o && n.push(o),
                a = a.superClass
            }
            for (var s = {}, l = n.length - 1; l >= 0; l--)
                s = ge(s, n[l], !0);
            i.defaultOption = s
        }
        return i.defaultOption
    }
    ,
    e.prototype.getReferringComponents = function(r, i) {
        var n = r + "Index"
          , a = r + "Id";
        return ca(this.ecModel, r, {
            index: this.get(n, !0),
            id: this.get(a, !0)
        }, i)
    }
    ,
    e.prototype.getBoxLayoutParams = function() {
        var r = this;
        return {
            left: r.get("left"),
            top: r.get("top"),
            right: r.get("right"),
            bottom: r.get("bottom"),
            width: r.get("width"),
            height: r.get("height")
        }
    }
    ,
    e.prototype.getZLevelKey = function() {
        return ""
    }
    ,
    e.prototype.setZLevel = function(r) {
        this.option.zlevel = r
    }
    ,
    e.protoInitialize = function() {
        var r = e.prototype;
        r.type = "component",
        r.id = "",
        r.name = "",
        r.mainType = "",
        r.subType = "",
        r.componentIndex = 0
    }(),
    e
}($e);
Jp(ji, $e);
jo(ji);
Qb(ji);
Jb(ji, vC);
function vC(t) {
    var e = [];
    return I(ji.getClassesByMainType(t), function(r) {
        e = e.concat(r.dependencies || r.prototype.dependencies || [])
    }),
    e = ee(e, function(r) {
        return zt(r).main
    }),
    t !== "dataset" && pe(e, "dataset") <= 0 && e.unshift("dataset"),
    e
}
var we = ji
  , cm = "";
typeof navigator != "undefined" && (cm = navigator.platform || "");
var bi = "rgba(0, 0, 0, 0.2)"
  , dC = {
    darkMode: "auto",
    colorBy: "series",
    color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
    gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
    aria: {
        decal: {
            decals: [{
                color: bi,
                dashArrayX: [1, 0],
                dashArrayY: [2, 5],
                symbolSize: 1,
                rotation: Math.PI / 6
            }, {
                color: bi,
                symbol: "circle",
                dashArrayX: [[8, 8], [0, 8, 8, 0]],
                dashArrayY: [6, 0],
                symbolSize: .8
            }, {
                color: bi,
                dashArrayX: [1, 0],
                dashArrayY: [4, 3],
                rotation: -Math.PI / 4
            }, {
                color: bi,
                dashArrayX: [[6, 6], [0, 6, 6, 0]],
                dashArrayY: [6, 0]
            }, {
                color: bi,
                dashArrayX: [[1, 0], [1, 6]],
                dashArrayY: [1, 0, 6, 0],
                rotation: Math.PI / 4
            }, {
                color: bi,
                symbol: "triangle",
                dashArrayX: [[9, 9], [0, 9, 9, 0]],
                dashArrayY: [7, 2],
                symbolSize: .75
            }]
        }
    },
    textStyle: {
        fontFamily: cm.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
        fontSize: 12,
        fontStyle: "normal",
        fontWeight: "normal"
    },
    blendMode: null,
    stateAnimation: {
        duration: 300,
        easing: "cubicOut"
    },
    animation: "auto",
    animationDuration: 1e3,
    animationDurationUpdate: 500,
    animationEasing: "cubicInOut",
    animationEasingUpdate: "cubicInOut",
    animationThreshold: 2e3,
    progressiveThreshold: 3e3,
    progressive: 400,
    hoverLayerThreshold: 3e3,
    useUTC: !1
}
  , vm = le(["tooltip", "label", "itemName", "itemId", "itemGroupId", "itemChildGroupId", "seriesName"])
  , St = "original"
  , rt = "arrayRows"
  , Gt = "objectRows"
  , Qt = "keyedColumns"
  , yr = "typedArray"
  , dm = "unknown"
  , Xt = "column"
  , Qi = "row"
  , it = {
    Must: 1,
    Might: 2,
    Not: 3
}
  , pm = xe();
function pC(t) {
    pm(t).datasetMap = le()
}
function gC(t, e, r) {
    var i = {}
      , n = gm(e);
    if (!n || !t)
        return i;
    var a = [], o = [], s = e.ecModel, l = pm(s).datasetMap, u = n.uid + "_" + r.seriesLayoutBy, h, f;
    t = t.slice(),
    I(t, function(m, p) {
        var g = J(m) ? m : t[p] = {
            name: m
        };
        g.type === "ordinal" && h == null && (h = p,
        f = d(g)),
        i[g.name] = []
    });
    var c = l.get(u) || l.set(u, {
        categoryWayDim: f,
        valueWayDim: 0
    });
    I(t, function(m, p) {
        var g = m.name
          , y = d(m);
        if (h == null) {
            var _ = c.valueWayDim;
            v(i[g], _, y),
            v(o, _, y),
            c.valueWayDim += y
        } else if (h === p)
            v(i[g], 0, y),
            v(a, 0, y);
        else {
            var _ = c.categoryWayDim;
            v(i[g], _, y),
            v(o, _, y),
            c.categoryWayDim += y
        }
    });
    function v(m, p, g) {
        for (var y = 0; y < g; y++)
            m.push(p + y)
    }
    function d(m) {
        var p = m.dimsDef;
        return p ? p.length : 1
    }
    return a.length && (i.itemName = a),
    o.length && (i.seriesName = o),
    i
}
function gm(t) {
    var e = t.get("data", !0);
    if (!e)
        return ca(t.ecModel, "dataset", {
            index: t.get("datasetIndex", !0),
            id: t.get("datasetId", !0)
        }, At).models[0]
}
function mC(t) {
    return !t.get("transform", !0) && !t.get("fromTransformResult", !0) ? [] : ca(t.ecModel, "dataset", {
        index: t.get("fromDatasetIndex", !0),
        id: t.get("fromDatasetId", !0)
    }, At).models
}
function mm(t, e) {
    return yC(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e)
}
function yC(t, e, r, i, n, a) {
    var o, s = 5;
    if (tt(t))
        return it.Not;
    var l, u;
    if (i) {
        var h = i[a];
        J(h) ? (l = h.name,
        u = h.type) : Q(h) && (l = h)
    }
    if (u != null)
        return u === "ordinal" ? it.Must : it.Not;
    if (e === rt) {
        var f = t;
        if (r === Qi) {
            for (var c = f[a], v = 0; v < (c || []).length && v < s; v++)
                if ((o = w(c[n + v])) != null)
                    return o
        } else
            for (var v = 0; v < f.length && v < s; v++) {
                var d = f[n + v];
                if (d && (o = w(d[a])) != null)
                    return o
            }
    } else if (e === Gt) {
        var m = t;
        if (!l)
            return it.Not;
        for (var v = 0; v < m.length && v < s; v++) {
            var p = m[v];
            if (p && (o = w(p[l])) != null)
                return o
        }
    } else if (e === Qt) {
        var g = t;
        if (!l)
            return it.Not;
        var c = g[l];
        if (!c || tt(c))
            return it.Not;
        for (var v = 0; v < c.length && v < s; v++)
            if ((o = w(c[v])) != null)
                return o
    } else if (e === St)
        for (var y = t, v = 0; v < y.length && v < s; v++) {
            var p = y[v]
              , _ = fa(p);
            if (!Y(_))
                return it.Not;
            if ((o = w(_[a])) != null)
                return o
        }
    function w(b) {
        var S = Q(b);
        if (b != null && Number.isFinite(Number(b)) && b !== "")
            return S ? it.Might : it.Not;
        if (S && b !== "-")
            return it.Must
    }
    return it.Not
}
var _C = le();
function wC(t, e, r) {
    var i = _C.get(e);
    if (!i)
        return r;
    var n = i(t);
    return n ? r.concat(n) : r
}
var Zc = xe();
xe();
var Bh = function() {
    function t() {}
    return t.prototype.getColorFromPalette = function(e, r, i) {
        var n = Ye(this.get("color", !0))
          , a = this.get("colorLayer", !0);
        return bC(this, Zc, n, a, e, r, i)
    }
    ,
    t.prototype.clearColorPalette = function() {
        CC(this, Zc)
    }
    ,
    t
}();
function SC(t, e) {
    for (var r = t.length, i = 0; i < r; i++)
        if (t[i].length > e)
            return t[i];
    return t[r - 1]
}
function bC(t, e, r, i, n, a, o) {
    a = a || t;
    var s = e(a)
      , l = s.paletteIdx || 0
      , u = s.paletteNameMap = s.paletteNameMap || {};
    if (u.hasOwnProperty(n))
        return u[n];
    var h = o == null || !i ? r : SC(i, o);
    if (h = h || r,
    !(!h || !h.length)) {
        var f = h[l];
        return n && (u[n] = f),
        s.paletteIdx = (l + 1) % h.length,
        f
    }
}
function CC(t, e) {
    e(t).paletteIdx = 0,
    e(t).paletteNameMap = {}
}
var Va, vn, Kc, jc = "\0_ec_inner", xC = 1, ym = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.init = function(r, i, n, a, o, s) {
        a = a || {},
        this.option = null,
        this._theme = new $e(a),
        this._locale = new $e(o),
        this._optionManager = s
    }
    ,
    e.prototype.setOption = function(r, i, n) {
        var a = ev(i);
        this._optionManager.setOption(r, n, a),
        this._resetOption(null, a)
    }
    ,
    e.prototype.resetOption = function(r, i) {
        return this._resetOption(r, ev(i))
    }
    ,
    e.prototype._resetOption = function(r, i) {
        var n = !1
          , a = this._optionManager;
        if (!r || r === "recreate") {
            var o = a.mountOption(r === "recreate");
            !this.option || r === "recreate" ? Kc(this, o) : (this.restoreData(),
            this._mergeOption(o, i)),
            n = !0
        }
        if ((r === "timeline" || r === "media") && this.restoreData(),
        !r || r === "recreate" || r === "timeline") {
            var s = a.getTimelineOption(this);
            s && (n = !0,
            this._mergeOption(s, i))
        }
        if (!r || r === "recreate" || r === "media") {
            var l = a.getMediaOption(this);
            l.length && I(l, function(u) {
                n = !0,
                this._mergeOption(u, i)
            }, this)
        }
        return n
    }
    ,
    e.prototype.mergeOption = function(r) {
        this._mergeOption(r, null)
    }
    ,
    e.prototype._mergeOption = function(r, i) {
        var n = this.option
          , a = this._componentsMap
          , o = this._componentsCount
          , s = []
          , l = le()
          , u = i && i.replaceMergeMainTypeMap;
        pC(this),
        I(r, function(f, c) {
            f != null && (we.hasClass(c) ? c && (s.push(c),
            l.set(c, !0)) : n[c] = n[c] == null ? ue(f) : ge(n[c], f, !0))
        }),
        u && u.each(function(f, c) {
            we.hasClass(c) && !l.get(c) && (s.push(c),
            l.set(c, !0))
        }),
        we.topologicalTravel(s, we.getAllClassMainTypes(), h, this);
        function h(f) {
            var c = wC(this, f, Ye(r[f]))
              , v = a.get(f)
              , d = v ? u && u.get(f) ? "replaceMerge" : "normalMerge" : "replaceAll"
              , m = ow(v, c, d);
            vw(m, f, we),
            n[f] = null,
            a.set(f, null),
            o.set(f, 0);
            var p = [], g = [], y = 0, _;
            I(m, function(w, b) {
                var S = w.existing
                  , C = w.newOption;
                if (!C)
                    S && (S.mergeOption({}, this),
                    S.optionUpdated({}, !1));
                else {
                    var T = f === "series"
                      , x = we.getClass(f, w.keyInfo.subType, !T);
                    if (!x)
                        return;
                    if (f === "tooltip") {
                        if (_)
                            return;
                        _ = !0
                    }
                    if (S && S.constructor === x)
                        S.name = w.keyInfo.name,
                        S.mergeOption(C, this),
                        S.optionUpdated(C, !1);
                    else {
                        var D = G({
                            componentIndex: b
                        }, w.keyInfo);
                        S = new x(C,this,this,D),
                        G(S, D),
                        w.brandNew && (S.__requireNewView = !0),
                        S.init(C, this, this),
                        S.optionUpdated(null, !0)
                    }
                }
                S ? (p.push(S.option),
                g.push(S),
                y++) : (p.push(void 0),
                g.push(void 0))
            }, this),
            n[f] = p,
            a.set(f, g),
            o.set(f, y),
            f === "series" && Va(this)
        }
        this._seriesIndices || Va(this)
    }
    ,
    e.prototype.getOption = function() {
        var r = ue(this.option);
        return I(r, function(i, n) {
            if (we.hasClass(n)) {
                for (var a = Ye(i), o = a.length, s = !1, l = o - 1; l >= 0; l--)
                    a[l] && !qn(a[l]) ? s = !0 : (a[l] = null,
                    !s && o--);
                a.length = o,
                r[n] = a
            }
        }),
        delete r[jc],
        r
    }
    ,
    e.prototype.getTheme = function() {
        return this._theme
    }
    ,
    e.prototype.getLocaleModel = function() {
        return this._locale
    }
    ,
    e.prototype.setUpdatePayload = function(r) {
        this._payload = r
    }
    ,
    e.prototype.getUpdatePayload = function() {
        return this._payload
    }
    ,
    e.prototype.getComponent = function(r, i) {
        var n = this._componentsMap.get(r);
        if (n) {
            var a = n[i || 0];
            if (a)
                return a;
            if (i == null) {
                for (var o = 0; o < n.length; o++)
                    if (n[o])
                        return n[o]
            }
        }
    }
    ,
    e.prototype.queryComponents = function(r) {
        var i = r.mainType;
        if (!i)
            return [];
        var n = r.index
          , a = r.id
          , o = r.name
          , s = this._componentsMap.get(i);
        if (!s || !s.length)
            return [];
        var l;
        return n != null ? (l = [],
        I(Ye(n), function(u) {
            s[u] && l.push(s[u])
        })) : a != null ? l = Qc("id", a, s) : o != null ? l = Qc("name", o, s) : l = Ue(s, function(u) {
            return !!u
        }),
        Jc(l, r)
    }
    ,
    e.prototype.findComponents = function(r) {
        var i = r.query
          , n = r.mainType
          , a = s(i)
          , o = a ? this.queryComponents(a) : Ue(this._componentsMap.get(n), function(u) {
            return !!u
        });
        return l(Jc(o, r));
        function s(u) {
            var h = n + "Index"
              , f = n + "Id"
              , c = n + "Name";
            return u && (u[h] != null || u[f] != null || u[c] != null) ? {
                mainType: n,
                index: u[h],
                id: u[f],
                name: u[c]
            } : null
        }
        function l(u) {
            return r.filter ? Ue(u, r.filter) : u
        }
    }
    ,
    e.prototype.eachComponent = function(r, i, n) {
        var a = this._componentsMap;
        if (ne(r)) {
            var o = i
              , s = r;
            a.each(function(f, c) {
                for (var v = 0; f && v < f.length; v++) {
                    var d = f[v];
                    d && s.call(o, c, d, d.componentIndex)
                }
            })
        } else
            for (var l = Q(r) ? a.get(r) : J(r) ? this.findComponents(r) : null, u = 0; l && u < l.length; u++) {
                var h = l[u];
                h && i.call(n, h, h.componentIndex)
            }
    }
    ,
    e.prototype.getSeriesByName = function(r) {
        var i = Vt(r, null);
        return Ue(this._componentsMap.get("series"), function(n) {
            return !!n && i != null && n.name === i
        })
    }
    ,
    e.prototype.getSeriesByIndex = function(r) {
        return this._componentsMap.get("series")[r]
    }
    ,
    e.prototype.getSeriesByType = function(r) {
        return Ue(this._componentsMap.get("series"), function(i) {
            return !!i && i.subType === r
        })
    }
    ,
    e.prototype.getSeries = function() {
        return Ue(this._componentsMap.get("series"), function(r) {
            return !!r
        })
    }
    ,
    e.prototype.getSeriesCount = function() {
        return this._componentsCount.get("series")
    }
    ,
    e.prototype.eachSeries = function(r, i) {
        vn(this),
        I(this._seriesIndices, function(n) {
            var a = this._componentsMap.get("series")[n];
            r.call(i, a, n)
        }, this)
    }
    ,
    e.prototype.eachRawSeries = function(r, i) {
        I(this._componentsMap.get("series"), function(n) {
            n && r.call(i, n, n.componentIndex)
        })
    }
    ,
    e.prototype.eachSeriesByType = function(r, i, n) {
        vn(this),
        I(this._seriesIndices, function(a) {
            var o = this._componentsMap.get("series")[a];
            o.subType === r && i.call(n, o, a)
        }, this)
    }
    ,
    e.prototype.eachRawSeriesByType = function(r, i, n) {
        return I(this.getSeriesByType(r), i, n)
    }
    ,
    e.prototype.isSeriesFiltered = function(r) {
        return vn(this),
        this._seriesIndicesMap.get(r.componentIndex) == null
    }
    ,
    e.prototype.getCurrentSeriesIndices = function() {
        return (this._seriesIndices || []).slice()
    }
    ,
    e.prototype.filterSeries = function(r, i) {
        vn(this);
        var n = [];
        I(this._seriesIndices, function(a) {
            var o = this._componentsMap.get("series")[a];
            r.call(i, o, a) && n.push(a)
        }, this),
        this._seriesIndices = n,
        this._seriesIndicesMap = le(n)
    }
    ,
    e.prototype.restoreData = function(r) {
        Va(this);
        var i = this._componentsMap
          , n = [];
        i.each(function(a, o) {
            we.hasClass(o) && n.push(o)
        }),
        we.topologicalTravel(n, we.getAllClassMainTypes(), function(a) {
            I(i.get(a), function(o) {
                o && (a !== "series" || !TC(o, r)) && o.restoreData()
            })
        })
    }
    ,
    e.internalField = function() {
        Va = function(r) {
            var i = r._seriesIndices = [];
            I(r._componentsMap.get("series"), function(n) {
                n && i.push(n.componentIndex)
            }),
            r._seriesIndicesMap = le(i)
        }
        ,
        vn = function(r) {}
        ,
        Kc = function(r, i) {
            r.option = {},
            r.option[jc] = xC,
            r._componentsMap = le({
                series: []
            }),
            r._componentsCount = le();
            var n = i.aria;
            J(n) && n.enabled == null && (n.enabled = !0),
            MC(i, r._theme.option),
            ge(i, dC, !1),
            r._mergeOption(i, null)
        }
    }(),
    e
}($e);
function TC(t, e) {
    if (e) {
        var r = e.seriesIndex
          , i = e.seriesId
          , n = e.seriesName;
        return r != null && t.componentIndex !== r || i != null && t.id !== i || n != null && t.name !== n
    }
}
function MC(t, e) {
    var r = t.color && !t.colorLayer;
    I(e, function(i, n) {
        n === "colorLayer" && r || we.hasClass(n) || (typeof i == "object" ? t[n] = t[n] ? ge(t[n], i, !1) : ue(i) : t[n] == null && (t[n] = i))
    })
}
function Qc(t, e, r) {
    if (Y(e)) {
        var i = le();
        return I(e, function(a) {
            if (a != null) {
                var o = Vt(a, null);
                o != null && i.set(a, !0)
            }
        }),
        Ue(r, function(a) {
            return a && i.get(a[t])
        })
    } else {
        var n = Vt(e, null);
        return Ue(r, function(a) {
            return a && n != null && a[t] === n
        })
    }
}
function Jc(t, e) {
    return e.hasOwnProperty("subType") ? Ue(t, function(r) {
        return r && r.subType === e.subType
    }) : t
}
function ev(t) {
    var e = le();
    return t && I(Ye(t.replaceMerge), function(r) {
        e.set(r, !0)
    }),
    {
        replaceMergeMainTypeMap: e
    }
}
It(ym, Bh);
var _m = ym
  , DC = ["getDom", "getZr", "getWidth", "getHeight", "getDevicePixelRatio", "dispatchAction", "isSSR", "isDisposed", "on", "off", "getDataURL", "getConnectedDataURL", "getOption", "getId", "updateLabelLayout"]
  , AC = function() {
    function t(e) {
        I(DC, function(r) {
            this[r] = Ce(e[r], e)
        }, this)
    }
    return t
}()
  , wm = AC
  , vl = {}
  , IC = function() {
    function t() {
        this._coordinateSystems = []
    }
    return t.prototype.create = function(e, r) {
        var i = [];
        I(vl, function(n, a) {
            var o = n.create(e, r);
            i = i.concat(o || [])
        }),
        this._coordinateSystems = i
    }
    ,
    t.prototype.update = function(e, r) {
        I(this._coordinateSystems, function(i) {
            i.update && i.update(e, r)
        })
    }
    ,
    t.prototype.getCoordinateSystems = function() {
        return this._coordinateSystems.slice()
    }
    ,
    t.register = function(e, r) {
        vl[e] = r
    }
    ,
    t.get = function(e) {
        return vl[e]
    }
    ,
    t
}()
  , Nh = IC
  , kC = /^(min|max)?(.+)$/
  , LC = function() {
    function t(e) {
        this._timelineOptions = [],
        this._mediaList = [],
        this._currentMediaIndices = [],
        this._api = e
    }
    return t.prototype.setOption = function(e, r, i) {
        e && (I(Ye(e.series), function(o) {
            o && o.data && tt(o.data) && Kl(o.data)
        }),
        I(Ye(e.dataset), function(o) {
            o && o.source && tt(o.source) && Kl(o.source)
        })),
        e = ue(e);
        var n = this._optionBackup
          , a = PC(e, r, !n);
        this._newBaseOption = a.baseOption,
        n ? (a.timelineOptions.length && (n.timelineOptions = a.timelineOptions),
        a.mediaList.length && (n.mediaList = a.mediaList),
        a.mediaDefault && (n.mediaDefault = a.mediaDefault)) : this._optionBackup = a
    }
    ,
    t.prototype.mountOption = function(e) {
        var r = this._optionBackup;
        return this._timelineOptions = r.timelineOptions,
        this._mediaList = r.mediaList,
        this._mediaDefault = r.mediaDefault,
        this._currentMediaIndices = [],
        ue(e ? r.baseOption : this._newBaseOption)
    }
    ,
    t.prototype.getTimelineOption = function(e) {
        var r, i = this._timelineOptions;
        if (i.length) {
            var n = e.getComponent("timeline");
            n && (r = ue(i[n.getCurrentIndex()]))
        }
        return r
    }
    ,
    t.prototype.getMediaOption = function(e) {
        var r = this._api.getWidth()
          , i = this._api.getHeight()
          , n = this._mediaList
          , a = this._mediaDefault
          , o = []
          , s = [];
        if (!n.length && !a)
            return s;
        for (var l = 0, u = n.length; l < u; l++)
            EC(n[l].query, r, i) && o.push(l);
        return !o.length && a && (o = [-1]),
        o.length && !OC(o, this._currentMediaIndices) && (s = ee(o, function(h) {
            return ue(h === -1 ? a.option : n[h].option)
        })),
        this._currentMediaIndices = o,
        s
    }
    ,
    t
}();
function PC(t, e, r) {
    var i = [], n, a, o = t.baseOption, s = t.timeline, l = t.options, u = t.media, h = !!t.media, f = !!(l || s || o && o.timeline);
    o ? (a = o,
    a.timeline || (a.timeline = s)) : ((f || h) && (t.options = t.media = null),
    a = t),
    h && Y(u) && I(u, function(v) {
        v && v.option && (v.query ? i.push(v) : n || (n = v))
    }),
    c(a),
    I(l, function(v) {
        return c(v)
    }),
    I(i, function(v) {
        return c(v.option)
    });
    function c(v) {
        I(e, function(d) {
            d(v, r)
        })
    }
    return {
        baseOption: a,
        timelineOptions: l || [],
        mediaDefault: n,
        mediaList: i
    }
}
function EC(t, e, r) {
    var i = {
        width: e,
        height: r,
        aspectratio: e / r
    }
      , n = !0;
    return I(t, function(a, o) {
        var s = o.match(kC);
        if (!(!s || !s[1] || !s[2])) {
            var l = s[1]
              , u = s[2].toLowerCase();
            RC(i[u], a, l) || (n = !1)
        }
    }),
    n
}
function RC(t, e, r) {
    return r === "min" ? t >= e : r === "max" ? t <= e : t === e
}
function OC(t, e) {
    return t.join(",") === e.join(",")
}
var BC = LC
  , bt = I
  , ra = J
  , tv = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function dl(t) {
    var e = t && t.itemStyle;
    if (!!e)
        for (var r = 0, i = tv.length; r < i; r++) {
            var n = tv[r]
              , a = e.normal
              , o = e.emphasis;
            a && a[n] && (t[n] = t[n] || {},
            t[n].normal ? ge(t[n].normal, a[n]) : t[n].normal = a[n],
            a[n] = null),
            o && o[n] && (t[n] = t[n] || {},
            t[n].emphasis ? ge(t[n].emphasis, o[n]) : t[n].emphasis = o[n],
            o[n] = null)
        }
}
function Ve(t, e, r) {
    if (t && t[e] && (t[e].normal || t[e].emphasis)) {
        var i = t[e].normal
          , n = t[e].emphasis;
        i && (r ? (t[e].normal = t[e].emphasis = null,
        me(t[e], i)) : t[e] = i),
        n && (t.emphasis = t.emphasis || {},
        t.emphasis[e] = n,
        n.focus && (t.emphasis.focus = n.focus),
        n.blurScope && (t.emphasis.blurScope = n.blurScope))
    }
}
function Pn(t) {
    Ve(t, "itemStyle"),
    Ve(t, "lineStyle"),
    Ve(t, "areaStyle"),
    Ve(t, "label"),
    Ve(t, "labelLine"),
    Ve(t, "upperLabel"),
    Ve(t, "edgeLabel")
}
function Te(t, e) {
    var r = ra(t) && t[e]
      , i = ra(r) && r.textStyle;
    if (i)
        for (var n = 0, a = tc.length; n < a; n++) {
            var o = tc[n];
            i.hasOwnProperty(o) && (r[o] = i[o])
        }
}
function ct(t) {
    t && (Pn(t),
    Te(t, "label"),
    t.emphasis && Te(t.emphasis, "label"))
}
function NC(t) {
    if (!!ra(t)) {
        dl(t),
        Pn(t),
        Te(t, "label"),
        Te(t, "upperLabel"),
        Te(t, "edgeLabel"),
        t.emphasis && (Te(t.emphasis, "label"),
        Te(t.emphasis, "upperLabel"),
        Te(t.emphasis, "edgeLabel"));
        var e = t.markPoint;
        e && (dl(e),
        ct(e));
        var r = t.markLine;
        r && (dl(r),
        ct(r));
        var i = t.markArea;
        i && ct(i);
        var n = t.data;
        if (t.type === "graph") {
            n = n || t.nodes;
            var a = t.links || t.edges;
            if (a && !tt(a))
                for (var o = 0; o < a.length; o++)
                    ct(a[o]);
            I(t.categories, function(u) {
                Pn(u)
            })
        }
        if (n && !tt(n))
            for (var o = 0; o < n.length; o++)
                ct(n[o]);
        if (e = t.markPoint,
        e && e.data)
            for (var s = e.data, o = 0; o < s.length; o++)
                ct(s[o]);
        if (r = t.markLine,
        r && r.data)
            for (var l = r.data, o = 0; o < l.length; o++)
                Y(l[o]) ? (ct(l[o][0]),
                ct(l[o][1])) : ct(l[o]);
        t.type === "gauge" ? (Te(t, "axisLabel"),
        Te(t, "title"),
        Te(t, "detail")) : t.type === "treemap" ? (Ve(t.breadcrumb, "itemStyle"),
        I(t.levels, function(u) {
            Pn(u)
        })) : t.type === "tree" && Pn(t.leaves)
    }
}
function Ut(t) {
    return Y(t) ? t : t ? [t] : []
}
function rv(t) {
    return (Y(t) ? t[0] : t) || {}
}
function FC(t, e) {
    bt(Ut(t.series), function(i) {
        ra(i) && NC(i)
    });
    var r = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
    e && r.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"),
    bt(r, function(i) {
        bt(Ut(t[i]), function(n) {
            n && (Te(n, "axisLabel"),
            Te(n.axisPointer, "label"))
        })
    }),
    bt(Ut(t.parallel), function(i) {
        var n = i && i.parallelAxisDefault;
        Te(n, "axisLabel"),
        Te(n && n.axisPointer, "label")
    }),
    bt(Ut(t.calendar), function(i) {
        Ve(i, "itemStyle"),
        Te(i, "dayLabel"),
        Te(i, "monthLabel"),
        Te(i, "yearLabel")
    }),
    bt(Ut(t.radar), function(i) {
        Te(i, "name"),
        i.name && i.axisName == null && (i.axisName = i.name,
        delete i.name),
        i.nameGap != null && i.axisNameGap == null && (i.axisNameGap = i.nameGap,
        delete i.nameGap)
    }),
    bt(Ut(t.geo), function(i) {
        ra(i) && (ct(i),
        bt(Ut(i.regions), function(n) {
            ct(n)
        }))
    }),
    bt(Ut(t.timeline), function(i) {
        ct(i),
        Ve(i, "label"),
        Ve(i, "itemStyle"),
        Ve(i, "controlStyle", !0);
        var n = i.data;
        Y(n) && I(n, function(a) {
            J(a) && (Ve(a, "label"),
            Ve(a, "itemStyle"))
        })
    }),
    bt(Ut(t.toolbox), function(i) {
        Ve(i, "iconStyle"),
        bt(i.feature, function(n) {
            Ve(n, "iconStyle")
        })
    }),
    Te(rv(t.axisPointer), "label"),
    Te(rv(t.tooltip).axisPointer, "label")
}
function zC(t, e) {
    for (var r = e.split(","), i = t, n = 0; n < r.length && (i = i && i[r[n]],
    i != null); n++)
        ;
    return i
}
function VC(t, e, r, i) {
    for (var n = e.split(","), a = t, o, s = 0; s < n.length - 1; s++)
        o = n[s],
        a[o] == null && (a[o] = {}),
        a = a[o];
    (i || a[n[s]] == null) && (a[n[s]] = r)
}
function iv(t) {
    t && I(HC, function(e) {
        e[0]in t && !(e[1]in t) && (t[e[1]] = t[e[0]])
    })
}
var HC = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]]
  , GC = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"]
  , pl = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function dn(t) {
    var e = t && t.itemStyle;
    if (e)
        for (var r = 0; r < pl.length; r++) {
            var i = pl[r][1]
              , n = pl[r][0];
            e[i] != null && (e[n] = e[i])
        }
}
function nv(t) {
    !t || t.alignTo === "edge" && t.margin != null && t.edgeDistance == null && (t.edgeDistance = t.margin)
}
function av(t) {
    !t || t.downplay && !t.blur && (t.blur = t.downplay)
}
function WC(t) {
    !t || t.focusNodeAdjacency != null && (t.emphasis = t.emphasis || {},
    t.emphasis.focus == null && (t.emphasis.focus = "adjacency"))
}
function Sm(t, e) {
    if (t)
        for (var r = 0; r < t.length; r++)
            e(t[r]),
            t[r] && Sm(t[r].children, e)
}
function bm(t, e) {
    FC(t, e),
    t.series = Ye(t.series),
    I(t.series, function(r) {
        if (!!J(r)) {
            var i = r.type;
            if (i === "line")
                r.clipOverflow != null && (r.clip = r.clipOverflow);
            else if (i === "pie" || i === "gauge") {
                r.clockWise != null && (r.clockwise = r.clockWise),
                nv(r.label);
                var n = r.data;
                if (n && !tt(n))
                    for (var a = 0; a < n.length; a++)
                        nv(n[a]);
                r.hoverOffset != null && (r.emphasis = r.emphasis || {},
                (r.emphasis.scaleSize = null) && (r.emphasis.scaleSize = r.hoverOffset))
            } else if (i === "gauge") {
                var o = zC(r, "pointer.color");
                o != null && VC(r, "itemStyle.color", o)
            } else if (i === "bar") {
                dn(r),
                dn(r.backgroundStyle),
                dn(r.emphasis);
                var n = r.data;
                if (n && !tt(n))
                    for (var a = 0; a < n.length; a++)
                        typeof n[a] == "object" && (dn(n[a]),
                        dn(n[a] && n[a].emphasis))
            } else if (i === "sunburst") {
                var s = r.highlightPolicy;
                s && (r.emphasis = r.emphasis || {},
                r.emphasis.focus || (r.emphasis.focus = s)),
                av(r),
                Sm(r.data, av)
            } else
                i === "graph" || i === "sankey" ? WC(r) : i === "map" && (r.mapType && !r.map && (r.map = r.mapType),
                r.mapLocation && me(r, r.mapLocation));
            r.hoverAnimation != null && (r.emphasis = r.emphasis || {},
            r.emphasis && r.emphasis.scale == null && (r.emphasis.scale = r.hoverAnimation)),
            iv(r)
        }
    }),
    t.dataRange && (t.visualMap = t.dataRange),
    I(GC, function(r) {
        var i = t[r];
        i && (Y(i) || (i = [i]),
        I(i, function(n) {
            iv(n)
        }))
    })
}
function UC(t) {
    var e = le();
    t.eachSeries(function(r) {
        var i = r.get("stack");
        if (i) {
            var n = e.get(i) || e.set(i, [])
              , a = r.getData()
              , o = {
                stackResultDimension: a.getCalculationInfo("stackResultDimension"),
                stackedOverDimension: a.getCalculationInfo("stackedOverDimension"),
                stackedDimension: a.getCalculationInfo("stackedDimension"),
                stackedByDimension: a.getCalculationInfo("stackedByDimension"),
                isStackedByIndex: a.getCalculationInfo("isStackedByIndex"),
                data: a,
                seriesModel: r
            };
            if (!o.stackedDimension || !(o.isStackedByIndex || o.stackedByDimension))
                return;
            n.length && a.setCalculationInfo("stackedOnSeries", n[n.length - 1].seriesModel),
            n.push(o)
        }
    }),
    e.each($C)
}
function $C(t) {
    I(t, function(e, r) {
        var i = []
          , n = [NaN, NaN]
          , a = [e.stackResultDimension, e.stackedOverDimension]
          , o = e.data
          , s = e.isStackedByIndex
          , l = e.seriesModel.get("stackStrategy") || "samesign";
        o.modify(a, function(u, h, f) {
            var c = o.get(e.stackedDimension, f);
            if (isNaN(c))
                return n;
            var v, d;
            s ? d = o.getRawIndex(f) : v = o.get(e.stackedByDimension, f);
            for (var m = NaN, p = r - 1; p >= 0; p--) {
                var g = t[p];
                if (s || (d = g.data.rawIndexOf(g.stackedByDimension, v)),
                d >= 0) {
                    var y = g.data.getByRawIndex(g.stackResultDimension, d);
                    if (l === "all" || l === "positive" && y > 0 || l === "negative" && y < 0 || l === "samesign" && c >= 0 && y > 0 || l === "samesign" && c <= 0 && y < 0) {
                        c = ew(c, y),
                        m = y;
                        break
                    }
                }
            }
            return i[0] = c,
            i[1] = m,
            i
        })
    })
}
var fs = function() {
    function t(e) {
        this.data = e.data || (e.sourceFormat === Qt ? {} : []),
        this.sourceFormat = e.sourceFormat || dm,
        this.seriesLayoutBy = e.seriesLayoutBy || Xt,
        this.startIndex = e.startIndex || 0,
        this.dimensionsDetectedCount = e.dimensionsDetectedCount,
        this.metaRawOption = e.metaRawOption;
        var r = this.dimensionsDefine = e.dimensionsDefine;
        if (r)
            for (var i = 0; i < r.length; i++) {
                var n = r[i];
                n.type == null && mm(this, i) === it.Must && (n.type = "ordinal")
            }
    }
    return t
}();
function Fh(t) {
    return t instanceof fs
}
function Tu(t, e, r) {
    r = r || Cm(t);
    var i = e.seriesLayoutBy
      , n = XC(t, r, i, e.sourceHeader, e.dimensions)
      , a = new fs({
        data: t,
        sourceFormat: r,
        seriesLayoutBy: i,
        dimensionsDefine: n.dimensionsDefine,
        startIndex: n.startIndex,
        dimensionsDetectedCount: n.dimensionsDetectedCount,
        metaRawOption: ue(e)
    });
    return a
}
function zh(t) {
    return new fs({
        data: t,
        sourceFormat: tt(t) ? yr : St
    })
}
function YC(t) {
    return new fs({
        data: t.data,
        sourceFormat: t.sourceFormat,
        seriesLayoutBy: t.seriesLayoutBy,
        dimensionsDefine: ue(t.dimensionsDefine),
        startIndex: t.startIndex,
        dimensionsDetectedCount: t.dimensionsDetectedCount
    })
}
function Cm(t) {
    var e = dm;
    if (tt(t))
        e = yr;
    else if (Y(t)) {
        t.length === 0 && (e = rt);
        for (var r = 0, i = t.length; r < i; r++) {
            var n = t[r];
            if (n != null) {
                if (Y(n) || tt(n)) {
                    e = rt;
                    break
                } else if (J(n)) {
                    e = Gt;
                    break
                }
            }
        }
    } else if (J(t)) {
        for (var a in t)
            if (Ui(t, a) && et(t[a])) {
                e = Qt;
                break
            }
    }
    return e
}
function XC(t, e, r, i, n) {
    var a, o;
    if (!t)
        return {
            dimensionsDefine: ov(n),
            startIndex: o,
            dimensionsDetectedCount: a
        };
    if (e === rt) {
        var s = t;
        i === "auto" || i == null ? sv(function(u) {
            u != null && u !== "-" && (Q(u) ? o == null && (o = 1) : o = 0)
        }, r, s, 10) : o = be(i) ? i : i ? 1 : 0,
        !n && o === 1 && (n = [],
        sv(function(u, h) {
            n[h] = u != null ? u + "" : ""
        }, r, s, 1 / 0)),
        a = n ? n.length : r === Qi ? s.length : s[0] ? s[0].length : null
    } else if (e === Gt)
        n || (n = qC(t));
    else if (e === Qt)
        n || (n = [],
        I(t, function(u, h) {
            n.push(h)
        }));
    else if (e === St) {
        var l = fa(t[0]);
        a = Y(l) && l.length || 1
    }
    return {
        startIndex: o,
        dimensionsDefine: ov(n),
        dimensionsDetectedCount: a
    }
}
function qC(t) {
    for (var e = 0, r; e < t.length && !(r = t[e++]); )
        ;
    if (r)
        return Se(r)
}
function ov(t) {
    if (!!t) {
        var e = le();
        return ee(t, function(r, i) {
            r = J(r) ? r : {
                name: r
            };
            var n = {
                name: r.name,
                displayName: r.displayName,
                type: r.type
            };
            if (n.name == null)
                return n;
            n.name += "",
            n.displayName == null && (n.displayName = n.name);
            var a = e.get(n.name);
            return a ? n.name += "-" + a.count++ : e.set(n.name, {
                count: 1
            }),
            n
        })
    }
}
function sv(t, e, r, i) {
    if (e === Qi)
        for (var n = 0; n < r.length && n < i; n++)
            t(r[n] ? r[n][0] : null, n);
    else
        for (var a = r[0] || [], n = 0; n < a.length && n < i; n++)
            t(a[n], n)
}
function xm(t) {
    var e = t.sourceFormat;
    return e === Gt || e === Qt
}
var Gr, Wr, Ur, lv, uv, Tm = function() {
    function t(e, r) {
        var i = Fh(e) ? e : zh(e);
        this._source = i;
        var n = this._data = i.data;
        i.sourceFormat === yr && (this._offset = 0,
        this._dimSize = r,
        this._data = n),
        uv(this, n, i)
    }
    return t.prototype.getSource = function() {
        return this._source
    }
    ,
    t.prototype.count = function() {
        return 0
    }
    ,
    t.prototype.getItem = function(e, r) {}
    ,
    t.prototype.appendData = function(e) {}
    ,
    t.prototype.clean = function() {}
    ,
    t.protoInitialize = function() {
        var e = t.prototype;
        e.pure = !1,
        e.persistent = !0
    }(),
    t.internalField = function() {
        var e;
        uv = function(o, s, l) {
            var u = l.sourceFormat
              , h = l.seriesLayoutBy
              , f = l.startIndex
              , c = l.dimensionsDefine
              , v = lv[Vh(u, h)];
            if (G(o, v),
            u === yr)
                o.getItem = r,
                o.count = n,
                o.fillStorage = i;
            else {
                var d = Mm(u, h);
                o.getItem = Ce(d, null, s, f, c);
                var m = Dm(u, h);
                o.count = Ce(m, null, s, f, c)
            }
        }
        ;
        var r = function(o, s) {
            o = o - this._offset,
            s = s || [];
            for (var l = this._data, u = this._dimSize, h = u * o, f = 0; f < u; f++)
                s[f] = l[h + f];
            return s
        }
          , i = function(o, s, l, u) {
            for (var h = this._data, f = this._dimSize, c = 0; c < f; c++) {
                for (var v = u[c], d = v[0] == null ? 1 / 0 : v[0], m = v[1] == null ? -1 / 0 : v[1], p = s - o, g = l[c], y = 0; y < p; y++) {
                    var _ = h[y * f + c];
                    g[o + y] = _,
                    _ < d && (d = _),
                    _ > m && (m = _)
                }
                v[0] = d,
                v[1] = m
            }
        }
          , n = function() {
            return this._data ? this._data.length / this._dimSize : 0
        };
        lv = (e = {},
        e[rt + "_" + Xt] = {
            pure: !0,
            appendData: a
        },
        e[rt + "_" + Qi] = {
            pure: !0,
            appendData: function() {
                throw new Error('Do not support appendData when set seriesLayoutBy: "row".')
            }
        },
        e[Gt] = {
            pure: !0,
            appendData: a
        },
        e[Qt] = {
            pure: !0,
            appendData: function(o) {
                var s = this._data;
                I(o, function(l, u) {
                    for (var h = s[u] || (s[u] = []), f = 0; f < (l || []).length; f++)
                        h.push(l[f])
                })
            }
        },
        e[St] = {
            appendData: a
        },
        e[yr] = {
            persistent: !1,
            pure: !0,
            appendData: function(o) {
                this._data = o
            },
            clean: function() {
                this._offset += this.count(),
                this._data = null
            }
        },
        e);
        function a(o) {
            for (var s = 0; s < o.length; s++)
                this._data.push(o[s])
        }
    }(),
    t
}(), hv = function(t, e, r, i) {
    return t[i]
}, ZC = (Gr = {},
Gr[rt + "_" + Xt] = function(t, e, r, i) {
    return t[i + e]
}
,
Gr[rt + "_" + Qi] = function(t, e, r, i, n) {
    i += e;
    for (var a = n || [], o = t, s = 0; s < o.length; s++) {
        var l = o[s];
        a[s] = l ? l[i] : null
    }
    return a
}
,
Gr[Gt] = hv,
Gr[Qt] = function(t, e, r, i, n) {
    for (var a = n || [], o = 0; o < r.length; o++) {
        var s = r[o].name
          , l = t[s];
        a[o] = l ? l[i] : null
    }
    return a
}
,
Gr[St] = hv,
Gr);
function Mm(t, e) {
    var r = ZC[Vh(t, e)];
    return r
}
var fv = function(t, e, r) {
    return t.length
}
  , KC = (Wr = {},
Wr[rt + "_" + Xt] = function(t, e, r) {
    return Math.max(0, t.length - e)
}
,
Wr[rt + "_" + Qi] = function(t, e, r) {
    var i = t[0];
    return i ? Math.max(0, i.length - e) : 0
}
,
Wr[Gt] = fv,
Wr[Qt] = function(t, e, r) {
    var i = r[0].name
      , n = t[i];
    return n ? n.length : 0
}
,
Wr[St] = fv,
Wr);
function Dm(t, e) {
    var r = KC[Vh(t, e)];
    return r
}
var gl = function(t, e, r) {
    return t[e]
}
  , jC = (Ur = {},
Ur[rt] = gl,
Ur[Gt] = function(t, e, r) {
    return t[r]
}
,
Ur[Qt] = gl,
Ur[St] = function(t, e, r) {
    var i = fa(t);
    return i instanceof Array ? i[e] : i
}
,
Ur[yr] = gl,
Ur);
function Am(t) {
    var e = jC[t];
    return e
}
function Vh(t, e) {
    return t === rt ? t + "_" + e : t
}
function $i(t, e, r) {
    if (!!t) {
        var i = t.getRawDataItem(e);
        if (i != null) {
            var n = t.getStore()
              , a = n.getSource().sourceFormat;
            if (r != null) {
                var o = t.getDimensionIndex(r)
                  , s = n.getDimensionProperty(o);
                return Am(a)(i, o, s)
            } else {
                var l = i;
                return a === St && (l = fa(i)),
                l
            }
        }
    }
}
var QC = /\{@(.+?)\}/g
  , Hh = function() {
    function t() {}
    return t.prototype.getDataParams = function(e, r) {
        var i = this.getData(r)
          , n = this.getRawValue(e, r)
          , a = i.getRawIndex(e)
          , o = i.getName(e)
          , s = i.getRawDataItem(e)
          , l = i.getItemVisual(e, "style")
          , u = l && l[i.getItemVisual(e, "drawType") || "fill"]
          , h = l && l.stroke
          , f = this.mainType
          , c = f === "series"
          , v = i.userOutput && i.userOutput.get();
        return {
            componentType: f,
            componentSubType: this.subType,
            componentIndex: this.componentIndex,
            seriesType: c ? this.subType : null,
            seriesIndex: this.seriesIndex,
            seriesId: c ? this.id : null,
            seriesName: c ? this.name : null,
            name: o,
            dataIndex: a,
            data: s,
            dataType: r,
            value: n,
            color: u,
            borderColor: h,
            dimensionNames: v ? v.fullDimensions : null,
            encode: v ? v.encode : null,
            $vars: ["seriesName", "name", "value"]
        }
    }
    ,
    t.prototype.getFormattedLabel = function(e, r, i, n, a, o) {
        r = r || "normal";
        var s = this.getData(i)
          , l = this.getDataParams(e, i);
        if (o && (l.value = o.interpolatedValue),
        n != null && Y(l.value) && (l.value = l.value[n]),
        !a) {
            var u = s.getItemModel(e);
            a = u.get(r === "normal" ? ["label", "formatter"] : [r, "label", "formatter"])
        }
        if (ne(a))
            return l.status = r,
            l.dimensionIndex = n,
            a(l);
        if (Q(a)) {
            var h = hm(a, l);
            return h.replace(QC, function(f, c) {
                var v = c.length
                  , d = c;
                d.charAt(0) === "[" && d.charAt(v - 1) === "]" && (d = +d.slice(1, v - 1));
                var m = $i(s, e, d);
                if (o && Y(o.interpolatedValue)) {
                    var p = s.getDimensionIndex(d);
                    p >= 0 && (m = o.interpolatedValue[p])
                }
                return m != null ? m + "" : ""
            })
        }
    }
    ,
    t.prototype.getRawValue = function(e, r) {
        return $i(this.getData(r), e)
    }
    ,
    t.prototype.formatTooltip = function(e, r, i) {}
    ,
    t
}();
function cv(t) {
    var e, r;
    return J(t) ? t.type && (r = t) : e = t,
    {
        text: e,
        frag: r
    }
}
function Gn(t) {
    return new JC(t)
}
var JC = function() {
    function t(e) {
        e = e || {},
        this._reset = e.reset,
        this._plan = e.plan,
        this._count = e.count,
        this._onDirty = e.onDirty,
        this._dirty = !0
    }
    return t.prototype.perform = function(e) {
        var r = this._upstream
          , i = e && e.skip;
        if (this._dirty && r) {
            var n = this.context;
            n.data = n.outputData = r.context.outputData
        }
        this.__pipeline && (this.__pipeline.currentTask = this);
        var a;
        this._plan && !i && (a = this._plan(this.context));
        var o = h(this._modBy)
          , s = this._modDataCount || 0
          , l = h(e && e.modBy)
          , u = e && e.modDataCount || 0;
        (o !== l || s !== u) && (a = "reset");
        function h(y) {
            return !(y >= 1) && (y = 1),
            y
        }
        var f;
        (this._dirty || a === "reset") && (this._dirty = !1,
        f = this._doReset(i)),
        this._modBy = l,
        this._modDataCount = u;
        var c = e && e.step;
        if (r ? this._dueEnd = r._outputDueEnd : this._dueEnd = this._count ? this._count(this.context) : 1 / 0,
        this._progress) {
            var v = this._dueIndex
              , d = Math.min(c != null ? this._dueIndex + c : 1 / 0, this._dueEnd);
            if (!i && (f || v < d)) {
                var m = this._progress;
                if (Y(m))
                    for (var p = 0; p < m.length; p++)
                        this._doProgress(m[p], v, d, l, u);
                else
                    this._doProgress(m, v, d, l, u)
            }
            this._dueIndex = d;
            var g = this._settedOutputEnd != null ? this._settedOutputEnd : d;
            this._outputDueEnd = g
        } else
            this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
        return this.unfinished()
    }
    ,
    t.prototype.dirty = function() {
        this._dirty = !0,
        this._onDirty && this._onDirty(this.context)
    }
    ,
    t.prototype._doProgress = function(e, r, i, n, a) {
        vv.reset(r, i, n, a),
        this._callingProgress = e,
        this._callingProgress({
            start: r,
            end: i,
            count: i - r,
            next: vv.next
        }, this.context)
    }
    ,
    t.prototype._doReset = function(e) {
        this._dueIndex = this._outputDueEnd = this._dueEnd = 0,
        this._settedOutputEnd = null;
        var r, i;
        !e && this._reset && (r = this._reset(this.context),
        r && r.progress && (i = r.forceFirstProgress,
        r = r.progress),
        Y(r) && !r.length && (r = null)),
        this._progress = r,
        this._modBy = this._modDataCount = null;
        var n = this._downstream;
        return n && n.dirty(),
        i
    }
    ,
    t.prototype.unfinished = function() {
        return this._progress && this._dueIndex < this._dueEnd
    }
    ,
    t.prototype.pipe = function(e) {
        (this._downstream !== e || this._dirty) && (this._downstream = e,
        e._upstream = this,
        e.dirty())
    }
    ,
    t.prototype.dispose = function() {
        this._disposed || (this._upstream && (this._upstream._downstream = null),
        this._downstream && (this._downstream._upstream = null),
        this._dirty = !1,
        this._disposed = !0)
    }
    ,
    t.prototype.getUpstream = function() {
        return this._upstream
    }
    ,
    t.prototype.getDownstream = function() {
        return this._downstream
    }
    ,
    t.prototype.setOutputEnd = function(e) {
        this._outputDueEnd = this._settedOutputEnd = e
    }
    ,
    t
}()
  , vv = function() {
    var t, e, r, i, n, a = {
        reset: function(l, u, h, f) {
            e = l,
            t = u,
            r = h,
            i = f,
            n = Math.ceil(i / r),
            a.next = r > 1 && i > 0 ? s : o
        }
    };
    return a;
    function o() {
        return e < t ? e++ : null
    }
    function s() {
        var l = e % n * r + Math.ceil(e / n)
          , u = e >= t ? null : l < i ? l : e;
        return e++,
        u
    }
}();
function Gi(t, e) {
    var r = e && e.type;
    return r === "ordinal" ? t : (r === "time" && !be(t) && t != null && t !== "-" && (t = +Zt(t)),
    t == null || t === "" ? NaN : Number(t))
}
le({
    number: function(t) {
        return parseFloat(t)
    },
    time: function(t) {
        return +Zt(t)
    },
    trim: function(t) {
        return Q(t) ? Nt(t) : t
    }
});
var ex = function() {
    function t(e, r) {
        var i = e === "desc";
        this._resultLT = i ? 1 : -1,
        r == null && (r = i ? "min" : "max"),
        this._incomparable = r === "min" ? -1 / 0 : 1 / 0
    }
    return t.prototype.evaluate = function(e, r) {
        var i = be(e) ? e : Eo(e)
          , n = be(r) ? r : Eo(r)
          , a = isNaN(i)
          , o = isNaN(n);
        if (a && (i = this._incomparable),
        o && (n = this._incomparable),
        a && o) {
            var s = Q(e)
              , l = Q(r);
            s && (i = l ? e : 0),
            l && (n = s ? r : 0)
        }
        return i < n ? this._resultLT : i > n ? -this._resultLT : 0
    }
    ,
    t
}()
  , tx = function() {
    function t() {}
    return t.prototype.getRawData = function() {
        throw new Error("not supported")
    }
    ,
    t.prototype.getRawDataItem = function(e) {
        throw new Error("not supported")
    }
    ,
    t.prototype.cloneRawData = function() {}
    ,
    t.prototype.getDimensionInfo = function(e) {}
    ,
    t.prototype.cloneAllDimensionInfo = function() {}
    ,
    t.prototype.count = function() {}
    ,
    t.prototype.retrieveValue = function(e, r) {}
    ,
    t.prototype.retrieveValueFromItem = function(e, r) {}
    ,
    t.prototype.convertValue = function(e, r) {
        return Gi(e, r)
    }
    ,
    t
}();
function rx(t, e) {
    var r = new tx
      , i = t.data
      , n = r.sourceFormat = t.sourceFormat
      , a = t.startIndex
      , o = "";
    t.seriesLayoutBy !== Xt && Ke(o);
    var s = []
      , l = {}
      , u = t.dimensionsDefine;
    if (u)
        I(u, function(m, p) {
            var g = m.name
              , y = {
                index: p,
                name: g,
                displayName: m.displayName
            };
            if (s.push(y),
            g != null) {
                var _ = "";
                Ui(l, g) && Ke(_),
                l[g] = y
            }
        });
    else
        for (var h = 0; h < t.dimensionsDetectedCount; h++)
            s.push({
                index: h
            });
    var f = Mm(n, Xt);
    e.__isBuiltIn && (r.getRawDataItem = function(m) {
        return f(i, a, s, m)
    }
    ,
    r.getRawData = Ce(ix, null, t)),
    r.cloneRawData = Ce(nx, null, t);
    var c = Dm(n, Xt);
    r.count = Ce(c, null, i, a, s);
    var v = Am(n);
    r.retrieveValue = function(m, p) {
        var g = f(i, a, s, m);
        return d(g, p)
    }
    ;
    var d = r.retrieveValueFromItem = function(m, p) {
        if (m != null) {
            var g = s[p];
            if (g)
                return v(m, p, g.name)
        }
    }
    ;
    return r.getDimensionInfo = Ce(ax, null, s, l),
    r.cloneAllDimensionInfo = Ce(ox, null, s),
    r
}
function ix(t) {
    var e = t.sourceFormat;
    if (!Gh(e)) {
        var r = "";
        Ke(r)
    }
    return t.data
}
function nx(t) {
    var e = t.sourceFormat
      , r = t.data;
    if (!Gh(e)) {
        var i = "";
        Ke(i)
    }
    if (e === rt) {
        for (var n = [], a = 0, o = r.length; a < o; a++)
            n.push(r[a].slice());
        return n
    } else if (e === Gt) {
        for (var n = [], a = 0, o = r.length; a < o; a++)
            n.push(G({}, r[a]));
        return n
    }
}
function ax(t, e, r) {
    if (r != null) {
        if (be(r) || !isNaN(r) && !Ui(e, r))
            return t[r];
        if (Ui(e, r))
            return e[r]
    }
}
function ox(t) {
    return ue(t)
}
var Im = le();
function sx(t) {
    t = ue(t);
    var e = t.type
      , r = "";
    e || Ke(r);
    var i = e.split(":");
    i.length !== 2 && Ke(r);
    var n = !1;
    i[0] === "echarts" && (e = i[1],
    n = !0),
    t.__isBuiltIn = n,
    Im.set(e, t)
}
function lx(t, e, r) {
    var i = Ye(t)
      , n = i.length
      , a = "";
    n || Ke(a);
    for (var o = 0, s = n; o < s; o++) {
        var l = i[o];
        e = ux(l, e),
        o !== s - 1 && (e.length = Math.max(e.length, 1))
    }
    return e
}
function ux(t, e, r, i) {
    var n = "";
    e.length || Ke(n),
    J(t) || Ke(n);
    var a = t.type
      , o = Im.get(a);
    o || Ke(n);
    var s = ee(e, function(u) {
        return rx(u, o)
    })
      , l = Ye(o.transform({
        upstream: s[0],
        upstreamList: s,
        config: ue(t.config)
    }));
    return ee(l, function(u, h) {
        var f = "";
        J(u) || Ke(f),
        u.data || Ke(f);
        var c = Cm(u.data);
        Gh(c) || Ke(f);
        var v, d = e[0];
        if (d && h === 0 && !u.dimensions) {
            var m = d.startIndex;
            m && (u.data = d.data.slice(0, m).concat(u.data)),
            v = {
                seriesLayoutBy: Xt,
                sourceHeader: m,
                dimensions: d.metaRawOption.dimensions
            }
        } else
            v = {
                seriesLayoutBy: Xt,
                sourceHeader: 0,
                dimensions: u.dimensions
            };
        return Tu(u.data, v, null)
    })
}
function Gh(t) {
    return t === rt || t === Gt
}
var cs = "undefined", hx = typeof Uint32Array === cs ? Array : Uint32Array, fx = typeof Uint16Array === cs ? Array : Uint16Array, km = typeof Int32Array === cs ? Array : Int32Array, dv = typeof Float64Array === cs ? Array : Float64Array, Lm = {
    float: dv,
    int: km,
    ordinal: Array,
    number: Array,
    time: dv
}, ml;
function pn(t) {
    return t > 65535 ? hx : fx
}
function Ci() {
    return [1 / 0, -1 / 0]
}
function cx(t) {
    var e = t.constructor;
    return e === Array ? t.slice() : new e(t)
}
function pv(t, e, r, i, n) {
    var a = Lm[r || "float"];
    if (n) {
        var o = t[e]
          , s = o && o.length;
        if (s !== i) {
            for (var l = new a(i), u = 0; u < s; u++)
                l[u] = o[u];
            t[e] = l
        }
    } else
        t[e] = new a(i)
}
var Mu = function() {
    function t() {
        this._chunks = [],
        this._rawExtent = [],
        this._extent = [],
        this._count = 0,
        this._rawCount = 0,
        this._calcDimNameToIdx = le()
    }
    return t.prototype.initData = function(e, r, i) {
        this._provider = e,
        this._chunks = [],
        this._indices = null,
        this.getRawIndex = this._getRawIdxIdentity;
        var n = e.getSource()
          , a = this.defaultDimValueGetter = ml[n.sourceFormat];
        this._dimValueGetter = i || a,
        this._rawExtent = [],
        xm(n),
        this._dimensions = ee(r, function(o) {
            return {
                type: o.type,
                property: o.property
            }
        }),
        this._initDataFromProvider(0, e.count())
    }
    ,
    t.prototype.getProvider = function() {
        return this._provider
    }
    ,
    t.prototype.getSource = function() {
        return this._provider.getSource()
    }
    ,
    t.prototype.ensureCalculationDimension = function(e, r) {
        var i = this._calcDimNameToIdx
          , n = this._dimensions
          , a = i.get(e);
        if (a != null) {
            if (n[a].type === r)
                return a
        } else
            a = n.length;
        return n[a] = {
            type: r
        },
        i.set(e, a),
        this._chunks[a] = new Lm[r || "float"](this._rawCount),
        this._rawExtent[a] = Ci(),
        a
    }
    ,
    t.prototype.collectOrdinalMeta = function(e, r) {
        var i = this._chunks[e]
          , n = this._dimensions[e]
          , a = this._rawExtent
          , o = n.ordinalOffset || 0
          , s = i.length;
        o === 0 && (a[e] = Ci());
        for (var l = a[e], u = o; u < s; u++) {
            var h = i[u] = r.parseAndCollect(i[u]);
            isNaN(h) || (l[0] = Math.min(h, l[0]),
            l[1] = Math.max(h, l[1]))
        }
        n.ordinalMeta = r,
        n.ordinalOffset = s,
        n.type = "ordinal"
    }
    ,
    t.prototype.getOrdinalMeta = function(e) {
        var r = this._dimensions[e]
          , i = r.ordinalMeta;
        return i
    }
    ,
    t.prototype.getDimensionProperty = function(e) {
        var r = this._dimensions[e];
        return r && r.property
    }
    ,
    t.prototype.appendData = function(e) {
        var r = this._provider
          , i = this.count();
        r.appendData(e);
        var n = r.count();
        return r.persistent || (n += i),
        i < n && this._initDataFromProvider(i, n, !0),
        [i, n]
    }
    ,
    t.prototype.appendValues = function(e, r) {
        for (var i = this._chunks, n = this._dimensions, a = n.length, o = this._rawExtent, s = this.count(), l = s + Math.max(e.length, r || 0), u = 0; u < a; u++) {
            var h = n[u];
            pv(i, u, h.type, l, !0)
        }
        for (var f = [], c = s; c < l; c++)
            for (var v = c - s, d = 0; d < a; d++) {
                var h = n[d]
                  , m = ml.arrayRows.call(this, e[v] || f, h.property, v, d);
                i[d][c] = m;
                var p = o[d];
                m < p[0] && (p[0] = m),
                m > p[1] && (p[1] = m)
            }
        return this._rawCount = this._count = l,
        {
            start: s,
            end: l
        }
    }
    ,
    t.prototype._initDataFromProvider = function(e, r, i) {
        for (var n = this._provider, a = this._chunks, o = this._dimensions, s = o.length, l = this._rawExtent, u = ee(o, function(y) {
            return y.property
        }), h = 0; h < s; h++) {
            var f = o[h];
            l[h] || (l[h] = Ci()),
            pv(a, h, f.type, r, i)
        }
        if (n.fillStorage)
            n.fillStorage(e, r, a, l);
        else
            for (var c = [], v = e; v < r; v++) {
                c = n.getItem(v, c);
                for (var d = 0; d < s; d++) {
                    var m = a[d]
                      , p = this._dimValueGetter(c, u[d], v, d);
                    m[v] = p;
                    var g = l[d];
                    p < g[0] && (g[0] = p),
                    p > g[1] && (g[1] = p)
                }
            }
        !n.persistent && n.clean && n.clean(),
        this._rawCount = this._count = r,
        this._extent = []
    }
    ,
    t.prototype.count = function() {
        return this._count
    }
    ,
    t.prototype.get = function(e, r) {
        if (!(r >= 0 && r < this._count))
            return NaN;
        var i = this._chunks[e];
        return i ? i[this.getRawIndex(r)] : NaN
    }
    ,
    t.prototype.getValues = function(e, r) {
        var i = []
          , n = [];
        if (r == null) {
            r = e,
            e = [];
            for (var a = 0; a < this._dimensions.length; a++)
                n.push(a)
        } else
            n = e;
        for (var a = 0, o = n.length; a < o; a++)
            i.push(this.get(n[a], r));
        return i
    }
    ,
    t.prototype.getByRawIndex = function(e, r) {
        if (!(r >= 0 && r < this._rawCount))
            return NaN;
        var i = this._chunks[e];
        return i ? i[r] : NaN
    }
    ,
    t.prototype.getSum = function(e) {
        var r = this._chunks[e]
          , i = 0;
        if (r)
            for (var n = 0, a = this.count(); n < a; n++) {
                var o = this.get(e, n);
                isNaN(o) || (i += o)
            }
        return i
    }
    ,
    t.prototype.getMedian = function(e) {
        var r = [];
        this.each([e], function(a) {
            isNaN(a) || r.push(a)
        });
        var i = r.sort(function(a, o) {
            return a - o
        })
          , n = this.count();
        return n === 0 ? 0 : n % 2 === 1 ? i[(n - 1) / 2] : (i[n / 2] + i[n / 2 - 1]) / 2
    }
    ,
    t.prototype.indexOfRawIndex = function(e) {
        if (e >= this._rawCount || e < 0)
            return -1;
        if (!this._indices)
            return e;
        var r = this._indices
          , i = r[e];
        if (i != null && i < this._count && i === e)
            return e;
        for (var n = 0, a = this._count - 1; n <= a; ) {
            var o = (n + a) / 2 | 0;
            if (r[o] < e)
                n = o + 1;
            else if (r[o] > e)
                a = o - 1;
            else
                return o
        }
        return -1
    }
    ,
    t.prototype.indicesOfNearest = function(e, r, i) {
        var n = this._chunks
          , a = n[e]
          , o = [];
        if (!a)
            return o;
        i == null && (i = 1 / 0);
        for (var s = 1 / 0, l = -1, u = 0, h = 0, f = this.count(); h < f; h++) {
            var c = this.getRawIndex(h)
              , v = r - a[c]
              , d = Math.abs(v);
            d <= i && ((d < s || d === s && v >= 0 && l < 0) && (s = d,
            l = v,
            u = 0),
            v === l && (o[u++] = h))
        }
        return o.length = u,
        o
    }
    ,
    t.prototype.getIndices = function() {
        var e, r = this._indices;
        if (r) {
            var i = r.constructor
              , n = this._count;
            if (i === Array) {
                e = new i(n);
                for (var a = 0; a < n; a++)
                    e[a] = r[a]
            } else
                e = new i(r.buffer,0,n)
        } else {
            var i = pn(this._rawCount);
            e = new i(this.count());
            for (var a = 0; a < e.length; a++)
                e[a] = a
        }
        return e
    }
    ,
    t.prototype.filter = function(e, r) {
        if (!this._count)
            return this;
        for (var i = this.clone(), n = i.count(), a = pn(i._rawCount), o = new a(n), s = [], l = e.length, u = 0, h = e[0], f = i._chunks, c = 0; c < n; c++) {
            var v = void 0
              , d = i.getRawIndex(c);
            if (l === 0)
                v = r(c);
            else if (l === 1) {
                var m = f[h][d];
                v = r(m, c)
            } else {
                for (var p = 0; p < l; p++)
                    s[p] = f[e[p]][d];
                s[p] = c,
                v = r.apply(null, s)
            }
            v && (o[u++] = d)
        }
        return u < n && (i._indices = o),
        i._count = u,
        i._extent = [],
        i._updateGetRawIdx(),
        i
    }
    ,
    t.prototype.selectRange = function(e) {
        var r = this.clone()
          , i = r._count;
        if (!i)
            return this;
        var n = Se(e)
          , a = n.length;
        if (!a)
            return this;
        var o = r.count()
          , s = pn(r._rawCount)
          , l = new s(o)
          , u = 0
          , h = n[0]
          , f = e[h][0]
          , c = e[h][1]
          , v = r._chunks
          , d = !1;
        if (!r._indices) {
            var m = 0;
            if (a === 1) {
                for (var p = v[n[0]], g = 0; g < i; g++) {
                    var y = p[g];
                    (y >= f && y <= c || isNaN(y)) && (l[u++] = m),
                    m++
                }
                d = !0
            } else if (a === 2) {
                for (var p = v[n[0]], _ = v[n[1]], w = e[n[1]][0], b = e[n[1]][1], g = 0; g < i; g++) {
                    var y = p[g]
                      , S = _[g];
                    (y >= f && y <= c || isNaN(y)) && (S >= w && S <= b || isNaN(S)) && (l[u++] = m),
                    m++
                }
                d = !0
            }
        }
        if (!d)
            if (a === 1)
                for (var g = 0; g < o; g++) {
                    var C = r.getRawIndex(g)
                      , y = v[n[0]][C];
                    (y >= f && y <= c || isNaN(y)) && (l[u++] = C)
                }
            else
                for (var g = 0; g < o; g++) {
                    for (var T = !0, C = r.getRawIndex(g), x = 0; x < a; x++) {
                        var D = n[x]
                          , y = v[D][C];
                        (y < e[D][0] || y > e[D][1]) && (T = !1)
                    }
                    T && (l[u++] = r.getRawIndex(g))
                }
        return u < o && (r._indices = l),
        r._count = u,
        r._extent = [],
        r._updateGetRawIdx(),
        r
    }
    ,
    t.prototype.map = function(e, r) {
        var i = this.clone(e);
        return this._updateDims(i, e, r),
        i
    }
    ,
    t.prototype.modify = function(e, r) {
        this._updateDims(this, e, r)
    }
    ,
    t.prototype._updateDims = function(e, r, i) {
        for (var n = e._chunks, a = [], o = r.length, s = e.count(), l = [], u = e._rawExtent, h = 0; h < r.length; h++)
            u[r[h]] = Ci();
        for (var f = 0; f < s; f++) {
            for (var c = e.getRawIndex(f), v = 0; v < o; v++)
                l[v] = n[r[v]][c];
            l[o] = f;
            var d = i && i.apply(null, l);
            if (d != null) {
                typeof d != "object" && (a[0] = d,
                d = a);
                for (var h = 0; h < d.length; h++) {
                    var m = r[h]
                      , p = d[h]
                      , g = u[m]
                      , y = n[m];
                    y && (y[c] = p),
                    p < g[0] && (g[0] = p),
                    p > g[1] && (g[1] = p)
                }
            }
        }
    }
    ,
    t.prototype.lttbDownSample = function(e, r) {
        var i = this.clone([e], !0), n = i._chunks, a = n[e], o = this.count(), s = 0, l = Math.floor(1 / r), u = this.getRawIndex(0), h, f, c, v = new (pn(this._rawCount))(Math.min((Math.ceil(o / l) + 2) * 2, o));
        v[s++] = u;
        for (var d = 1; d < o - 1; d += l) {
            for (var m = Math.min(d + l, o - 1), p = Math.min(d + l * 2, o), g = (p + m) / 2, y = 0, _ = m; _ < p; _++) {
                var w = this.getRawIndex(_)
                  , b = a[w];
                isNaN(b) || (y += b)
            }
            y /= p - m;
            var S = d
              , C = Math.min(d + l, o)
              , T = d - 1
              , x = a[u];
            h = -1,
            c = S;
            for (var D = -1, A = 0, _ = S; _ < C; _++) {
                var w = this.getRawIndex(_)
                  , b = a[w];
                if (isNaN(b)) {
                    A++,
                    D < 0 && (D = w);
                    continue
                }
                f = Math.abs((T - g) * (b - x) - (T - _) * (y - x)),
                f > h && (h = f,
                c = w)
            }
            A > 0 && A < C - S && (v[s++] = Math.min(D, c),
            c = Math.max(D, c)),
            v[s++] = c,
            u = c
        }
        return v[s++] = this.getRawIndex(o - 1),
        i._count = s,
        i._indices = v,
        i.getRawIndex = this._getRawIdx,
        i
    }
    ,
    t.prototype.downSample = function(e, r, i, n) {
        for (var a = this.clone([e], !0), o = a._chunks, s = [], l = Math.floor(1 / r), u = o[e], h = this.count(), f = a._rawExtent[e] = Ci(), c = new (pn(this._rawCount))(Math.ceil(h / l)), v = 0, d = 0; d < h; d += l) {
            l > h - d && (l = h - d,
            s.length = l);
            for (var m = 0; m < l; m++) {
                var p = this.getRawIndex(d + m);
                s[m] = u[p]
            }
            var g = i(s)
              , y = this.getRawIndex(Math.min(d + n(s, g) || 0, h - 1));
            u[y] = g,
            g < f[0] && (f[0] = g),
            g > f[1] && (f[1] = g),
            c[v++] = y
        }
        return a._count = v,
        a._indices = c,
        a._updateGetRawIdx(),
        a
    }
    ,
    t.prototype.each = function(e, r) {
        if (!!this._count)
            for (var i = e.length, n = this._chunks, a = 0, o = this.count(); a < o; a++) {
                var s = this.getRawIndex(a);
                switch (i) {
                case 0:
                    r(a);
                    break;
                case 1:
                    r(n[e[0]][s], a);
                    break;
                case 2:
                    r(n[e[0]][s], n[e[1]][s], a);
                    break;
                default:
                    for (var l = 0, u = []; l < i; l++)
                        u[l] = n[e[l]][s];
                    u[l] = a,
                    r.apply(null, u)
                }
            }
    }
    ,
    t.prototype.getDataExtent = function(e) {
        var r = this._chunks[e]
          , i = Ci();
        if (!r)
            return i;
        var n = this.count(), a = !this._indices, o;
        if (a)
            return this._rawExtent[e].slice();
        if (o = this._extent[e],
        o)
            return o.slice();
        o = i;
        for (var s = o[0], l = o[1], u = 0; u < n; u++) {
            var h = this.getRawIndex(u)
              , f = r[h];
            f < s && (s = f),
            f > l && (l = f)
        }
        return o = [s, l],
        this._extent[e] = o,
        o
    }
    ,
    t.prototype.getRawDataItem = function(e) {
        var r = this.getRawIndex(e);
        if (this._provider.persistent)
            return this._provider.getItem(r);
        for (var i = [], n = this._chunks, a = 0; a < n.length; a++)
            i.push(n[a][r]);
        return i
    }
    ,
    t.prototype.clone = function(e, r) {
        var i = new t
          , n = this._chunks
          , a = e && qi(e, function(s, l) {
            return s[l] = !0,
            s
        }, {});
        if (a)
            for (var o = 0; o < n.length; o++)
                i._chunks[o] = a[o] ? cx(n[o]) : n[o];
        else
            i._chunks = n;
        return this._copyCommonProps(i),
        r || (i._indices = this._cloneIndices()),
        i._updateGetRawIdx(),
        i
    }
    ,
    t.prototype._copyCommonProps = function(e) {
        e._count = this._count,
        e._rawCount = this._rawCount,
        e._provider = this._provider,
        e._dimensions = this._dimensions,
        e._extent = ue(this._extent),
        e._rawExtent = ue(this._rawExtent)
    }
    ,
    t.prototype._cloneIndices = function() {
        if (this._indices) {
            var e = this._indices.constructor
              , r = void 0;
            if (e === Array) {
                var i = this._indices.length;
                r = new e(i);
                for (var n = 0; n < i; n++)
                    r[n] = this._indices[n]
            } else
                r = new e(this._indices);
            return r
        }
        return null
    }
    ,
    t.prototype._getRawIdxIdentity = function(e) {
        return e
    }
    ,
    t.prototype._getRawIdx = function(e) {
        return e < this._count && e >= 0 ? this._indices[e] : -1
    }
    ,
    t.prototype._updateGetRawIdx = function() {
        this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity
    }
    ,
    t.internalField = function() {
        function e(r, i, n, a) {
            return Gi(r[a], this._dimensions[a])
        }
        ml = {
            arrayRows: e,
            objectRows: function(r, i, n, a) {
                return Gi(r[i], this._dimensions[a])
            },
            keyedColumns: e,
            original: function(r, i, n, a) {
                var o = r && (r.value == null ? r : r.value);
                return Gi(o instanceof Array ? o[a] : o, this._dimensions[a])
            },
            typedArray: function(r, i, n, a) {
                return r[a]
            }
        }
    }(),
    t
}()
  , vx = function() {
    function t(e) {
        this._sourceList = [],
        this._storeList = [],
        this._upstreamSignList = [],
        this._versionSignBase = 0,
        this._dirty = !0,
        this._sourceHost = e
    }
    return t.prototype.dirty = function() {
        this._setLocalSource([], []),
        this._storeList = [],
        this._dirty = !0
    }
    ,
    t.prototype._setLocalSource = function(e, r) {
        this._sourceList = e,
        this._upstreamSignList = r,
        this._versionSignBase++,
        this._versionSignBase > 9e10 && (this._versionSignBase = 0)
    }
    ,
    t.prototype._getVersionSign = function() {
        return this._sourceHost.uid + "_" + this._versionSignBase
    }
    ,
    t.prototype.prepareSource = function() {
        this._isDirty() && (this._createSource(),
        this._dirty = !1)
    }
    ,
    t.prototype._createSource = function() {
        this._setLocalSource([], []);
        var e = this._sourceHost, r = this._getUpstreamSourceManagers(), i = !!r.length, n, a;
        if (Ha(e)) {
            var o = e
              , s = void 0
              , l = void 0
              , u = void 0;
            if (i) {
                var h = r[0];
                h.prepareSource(),
                u = h.getSource(),
                s = u.data,
                l = u.sourceFormat,
                a = [h._getVersionSign()]
            } else
                s = o.get("data", !0),
                l = tt(s) ? yr : St,
                a = [];
            var f = this._getSourceMetaRawOption() || {}
              , c = u && u.metaRawOption || {}
              , v = oe(f.seriesLayoutBy, c.seriesLayoutBy) || null
              , d = oe(f.sourceHeader, c.sourceHeader)
              , m = oe(f.dimensions, c.dimensions)
              , p = v !== c.seriesLayoutBy || !!d != !!c.sourceHeader || m;
            n = p ? [Tu(s, {
                seriesLayoutBy: v,
                sourceHeader: d,
                dimensions: m
            }, l)] : []
        } else {
            var g = e;
            if (i) {
                var y = this._applyTransform(r);
                n = y.sourceList,
                a = y.upstreamSignList
            } else {
                var _ = g.get("source", !0);
                n = [Tu(_, this._getSourceMetaRawOption(), null)],
                a = []
            }
        }
        this._setLocalSource(n, a)
    }
    ,
    t.prototype._applyTransform = function(e) {
        var r = this._sourceHost
          , i = r.get("transform", !0)
          , n = r.get("fromTransformResult", !0);
        if (n != null) {
            var a = "";
            e.length !== 1 && gv(a)
        }
        var o, s = [], l = [];
        return I(e, function(u) {
            u.prepareSource();
            var h = u.getSource(n || 0)
              , f = "";
            n != null && !h && gv(f),
            s.push(h),
            l.push(u._getVersionSign())
        }),
        i ? o = lx(i, s, {
            datasetIndex: r.componentIndex
        }) : n != null && (o = [YC(s[0])]),
        {
            sourceList: o,
            upstreamSignList: l
        }
    }
    ,
    t.prototype._isDirty = function() {
        if (this._dirty)
            return !0;
        for (var e = this._getUpstreamSourceManagers(), r = 0; r < e.length; r++) {
            var i = e[r];
            if (i._isDirty() || this._upstreamSignList[r] !== i._getVersionSign())
                return !0
        }
    }
    ,
    t.prototype.getSource = function(e) {
        e = e || 0;
        var r = this._sourceList[e];
        if (!r) {
            var i = this._getUpstreamSourceManagers();
            return i[0] && i[0].getSource(e)
        }
        return r
    }
    ,
    t.prototype.getSharedDataStore = function(e) {
        var r = e.makeStoreSchema();
        return this._innerGetDataStore(r.dimensions, e.source, r.hash)
    }
    ,
    t.prototype._innerGetDataStore = function(e, r, i) {
        var n = 0
          , a = this._storeList
          , o = a[n];
        o || (o = a[n] = {});
        var s = o[i];
        if (!s) {
            var l = this._getUpstreamSourceManagers()[0];
            Ha(this._sourceHost) && l ? s = l._innerGetDataStore(e, r, i) : (s = new Mu,
            s.initData(new Tm(r,e.length), e)),
            o[i] = s
        }
        return s
    }
    ,
    t.prototype._getUpstreamSourceManagers = function() {
        var e = this._sourceHost;
        if (Ha(e)) {
            var r = gm(e);
            return r ? [r.getSourceManager()] : []
        } else
            return ee(mC(e), function(i) {
                return i.getSourceManager()
            })
    }
    ,
    t.prototype._getSourceMetaRawOption = function() {
        var e = this._sourceHost, r, i, n;
        if (Ha(e))
            r = e.get("seriesLayoutBy", !0),
            i = e.get("sourceHeader", !0),
            n = e.get("dimensions", !0);
        else if (!this._getUpstreamSourceManagers().length) {
            var a = e;
            r = a.get("seriesLayoutBy", !0),
            i = a.get("sourceHeader", !0),
            n = a.get("dimensions", !0)
        }
        return {
            seriesLayoutBy: r,
            sourceHeader: i,
            dimensions: n
        }
    }
    ,
    t
}();
function Ha(t) {
    return t.mainType === "series"
}
function gv(t) {
    throw new Error(t)
}
var Pm = "line-height:1";
function Em(t, e) {
    var r = t.color || "#6e7079"
      , i = t.fontSize || 12
      , n = t.fontWeight || "400"
      , a = t.color || "#464646"
      , o = t.fontSize || 14
      , s = t.fontWeight || "900";
    return e === "html" ? {
        nameStyle: "font-size:" + nt(i + "") + "px;color:" + nt(r) + ";font-weight:" + nt(n + ""),
        valueStyle: "font-size:" + nt(o + "") + "px;color:" + nt(a) + ";font-weight:" + nt(s + "")
    } : {
        nameStyle: {
            fontSize: i,
            fill: r,
            fontWeight: n
        },
        valueStyle: {
            fontSize: o,
            fill: a,
            fontWeight: s
        }
    }
}
var dx = [0, 10, 20, 30]
  , px = ["", `
`, `

`, `


`];
function li(t, e) {
    return e.type = t,
    e
}
function Du(t) {
    return t.type === "section"
}
function Rm(t) {
    return Du(t) ? gx : mx
}
function Om(t) {
    if (Du(t)) {
        var e = 0
          , r = t.blocks.length
          , i = r > 1 || r > 0 && !t.noHeader;
        return I(t.blocks, function(n) {
            var a = Om(n);
            a >= e && (e = a + +(i && (!a || Du(n) && !n.noHeader)))
        }),
        e
    }
    return 0
}
function gx(t, e, r, i) {
    var n = e.noHeader
      , a = yx(Om(e))
      , o = []
      , s = e.blocks || [];
    qt(!s || Y(s)),
    s = s || [];
    var l = t.orderMode;
    if (e.sortBlocks && l) {
        s = s.slice();
        var u = {
            valueAsc: "asc",
            valueDesc: "desc"
        };
        if (Ui(u, l)) {
            var h = new ex(u[l],null);
            s.sort(function(d, m) {
                return h.evaluate(d.sortParam, m.sortParam)
            })
        } else
            l === "seriesDesc" && s.reverse()
    }
    I(s, function(d, m) {
        var p = e.valueFormatter
          , g = Rm(d)(p ? G(G({}, t), {
            valueFormatter: p
        }) : t, d, m > 0 ? a.html : 0, i);
        g != null && o.push(g)
    });
    var f = t.renderMode === "richText" ? o.join(a.richText) : Au(o.join(""), n ? r : a.html);
    if (n)
        return f;
    var c = xu(e.header, "ordinal", t.useUTC)
      , v = Em(i, t.renderMode).nameStyle;
    return t.renderMode === "richText" ? Bm(t, c, v) + a.richText + f : Au('<div style="' + v + ";" + Pm + ';">' + nt(c) + "</div>" + f, r)
}
function mx(t, e, r, i) {
    var n = t.renderMode
      , a = e.noName
      , o = e.noValue
      , s = !e.markerType
      , l = e.name
      , u = t.useUTC
      , h = e.valueFormatter || t.valueFormatter || function(w) {
        return w = Y(w) ? w : [w],
        ee(w, function(b, S) {
            return xu(b, Y(v) ? v[S] : v, u)
        })
    }
    ;
    if (!(a && o)) {
        var f = s ? "" : t.markupStyleCreator.makeTooltipMarker(e.markerType, e.markerColor || "#333", n)
          , c = a ? "" : xu(l, "ordinal", u)
          , v = e.valueType
          , d = o ? [] : h(e.value, e.dataIndex)
          , m = !s || !a
          , p = !s && a
          , g = Em(i, n)
          , y = g.nameStyle
          , _ = g.valueStyle;
        return n === "richText" ? (s ? "" : f) + (a ? "" : Bm(t, c, y)) + (o ? "" : bx(t, d, m, p, _)) : Au((s ? "" : f) + (a ? "" : _x(c, !s, y)) + (o ? "" : Sx(d, m, p, _)), r)
    }
}
function mv(t, e, r, i, n, a) {
    if (!!t) {
        var o = Rm(t)
          , s = {
            useUTC: n,
            renderMode: r,
            orderMode: i,
            markupStyleCreator: e,
            valueFormatter: t.valueFormatter
        };
        return o(s, t, 0, a)
    }
}
function yx(t) {
    return {
        html: dx[t],
        richText: px[t]
    }
}
function Au(t, e) {
    var r = '<div style="clear:both"></div>'
      , i = "margin: " + e + "px 0 0";
    return '<div style="' + i + ";" + Pm + ';">' + t + r + "</div>"
}
function _x(t, e, r) {
    var i = e ? "margin-left:2px" : "";
    return '<span style="' + r + ";" + i + '">' + nt(t) + "</span>"
}
function Sx(t, e, r, i) {
    var n = r ? "10px" : "20px"
      , a = e ? "float:right;margin-left:" + n : "";
    return t = Y(t) ? t : [t],
    '<span style="' + a + ";" + i + '">' + ee(t, function(o) {
        return nt(o)
    }).join("&nbsp;&nbsp;") + "</span>"
}
function Bm(t, e, r) {
    return t.markupStyleCreator.wrapRichTextStyle(e, r)
}
function bx(t, e, r, i, n) {
    var a = [n]
      , o = i ? 10 : 20;
    return r && a.push({
        padding: [0, 0, 0, o],
        align: "right"
    }),
    t.markupStyleCreator.wrapRichTextStyle(Y(e) ? e.join("  ") : e, a)
}
function Cx(t, e) {
    var r = t.getData().getItemVisual(e, "style")
      , i = r[t.visualDrawType];
    return si(i)
}
function Nm(t, e) {
    var r = t.get("padding");
    return r != null ? r : e === "richText" ? [8, 10] : 10
}
var yl = function() {
    function t() {
        this.richTextStyles = {},
        this._nextStyleNameId = Yp()
    }
    return t.prototype._generateStyleName = function() {
        return "__EC_aUTo_" + this._nextStyleNameId++
    }
    ,
    t.prototype.makeTooltipMarker = function(e, r, i) {
        var n = i === "richText" ? this._generateStyleName() : null
          , a = uC({
            color: r,
            type: e,
            renderMode: i,
            markerId: n
        });
        return Q(a) ? a : (this.richTextStyles[n] = a.style,
        a.content)
    }
    ,
    t.prototype.wrapRichTextStyle = function(e, r) {
        var i = {};
        Y(r) ? I(r, function(a) {
            return G(i, a)
        }) : G(i, r);
        var n = this._generateStyleName();
        return this.richTextStyles[n] = i,
        "{" + n + "|" + e + "}"
    }
    ,
    t
}();
function xx(t) {
    var e = t.series, r = t.dataIndex, i = t.multipleSeries, n = e.getData(), a = n.mapDimensionsAll("defaultedTooltip"), o = a.length, s = e.getRawValue(r), l = Y(s), u = Cx(e, r), h, f, c, v;
    if (o > 1 || l && !o) {
        var d = Tx(s, e, r, a, u);
        h = d.inlineValues,
        f = d.inlineValueTypes,
        c = d.blocks,
        v = d.inlineValues[0]
    } else if (o) {
        var m = n.getDimensionInfo(a[0]);
        v = h = $i(n, r, a[0]),
        f = m.type
    } else
        v = h = l ? s[0] : s;
    var p = Kp(e)
      , g = p && e.name || ""
      , y = n.getName(r)
      , _ = i ? g : y;
    return li("section", {
        header: g,
        noHeader: i || !p,
        sortParam: v,
        blocks: [li("nameValue", {
            markerType: "item",
            markerColor: u,
            name: _,
            noName: !Nt(_),
            value: h,
            valueType: f,
            dataIndex: r
        })].concat(c || [])
    })
}
function Tx(t, e, r, i, n) {
    var a = e.getData()
      , o = qi(t, function(f, c, v) {
        var d = a.getDimensionInfo(v);
        return f = f || d && d.tooltip !== !1 && d.displayName != null
    }, !1)
      , s = []
      , l = []
      , u = [];
    i.length ? I(i, function(f) {
        h($i(a, r, f), f)
    }) : I(t, h);
    function h(f, c) {
        var v = a.getDimensionInfo(c);
        !v || v.otherDims.tooltip === !1 || (o ? u.push(li("nameValue", {
            markerType: "subItem",
            markerColor: n,
            name: v.displayName,
            value: f,
            valueType: v.type
        })) : (s.push(f),
        l.push(v.type)))
    }
    return {
        inlineValues: s,
        inlineValueTypes: l,
        blocks: u
    }
}
var nr = xe();
function Ga(t, e) {
    return t.getName(e) || t.getId(e)
}
var Mx = "__universalTransitionEnabled"
  , vs = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r._selectedDataIndicesMap = {},
        r
    }
    return e.prototype.init = function(r, i, n) {
        this.seriesIndex = this.componentIndex,
        this.dataTask = Gn({
            count: Ax,
            reset: Ix
        }),
        this.dataTask.context = {
            model: this
        },
        this.mergeDefaultAndTheme(r, n);
        var a = nr(this).sourceManager = new vx(this);
        a.prepareSource();
        var o = this.getInitialData(r, n);
        _v(o, this),
        this.dataTask.context.data = o,
        nr(this).dataBeforeProcessed = o,
        yv(this),
        this._initSelectedMapFromData(o)
    }
    ,
    e.prototype.mergeDefaultAndTheme = function(r, i) {
        var n = ea(this)
          , a = n ? Oh(r) : {}
          , o = this.subType;
        we.hasClass(o) && (o += "Series"),
        ge(r, i.getTheme().get(this.subType)),
        ge(r, this.getDefaultOption()),
        vu(r, "label", ["show"]),
        this.fillDataTextStyle(r.data),
        n && ta(r, a, n)
    }
    ,
    e.prototype.mergeOption = function(r, i) {
        r = ge(this.option, r, !0),
        this.fillDataTextStyle(r.data);
        var n = ea(this);
        n && ta(this.option, r, n);
        var a = nr(this).sourceManager;
        a.dirty(),
        a.prepareSource();
        var o = this.getInitialData(r, i);
        _v(o, this),
        this.dataTask.dirty(),
        this.dataTask.context.data = o,
        nr(this).dataBeforeProcessed = o,
        yv(this),
        this._initSelectedMapFromData(o)
    }
    ,
    e.prototype.fillDataTextStyle = function(r) {
        if (r && !tt(r))
            for (var i = ["show"], n = 0; n < r.length; n++)
                r[n] && r[n].label && vu(r[n], "label", i)
    }
    ,
    e.prototype.getInitialData = function(r, i) {}
    ,
    e.prototype.appendData = function(r) {
        var i = this.getRawData();
        i.appendData(r.data)
    }
    ,
    e.prototype.getData = function(r) {
        var i = Iu(this);
        if (i) {
            var n = i.context.data;
            return r == null || !n.getLinkedData ? n : n.getLinkedData(r)
        } else
            return nr(this).data
    }
    ,
    e.prototype.getAllData = function() {
        var r = this.getData();
        return r && r.getLinkedDataAll ? r.getLinkedDataAll() : [{
            data: r
        }]
    }
    ,
    e.prototype.setData = function(r) {
        var i = Iu(this);
        if (i) {
            var n = i.context;
            n.outputData = r,
            i !== this.dataTask && (n.data = r)
        }
        nr(this).data = r
    }
    ,
    e.prototype.getEncode = function() {
        var r = this.get("encode", !0);
        if (r)
            return le(r)
    }
    ,
    e.prototype.getSourceManager = function() {
        return nr(this).sourceManager
    }
    ,
    e.prototype.getSource = function() {
        return this.getSourceManager().getSource()
    }
    ,
    e.prototype.getRawData = function() {
        return nr(this).dataBeforeProcessed
    }
    ,
    e.prototype.getColorBy = function() {
        var r = this.get("colorBy");
        return r || "series"
    }
    ,
    e.prototype.isColorBySeries = function() {
        return this.getColorBy() === "series"
    }
    ,
    e.prototype.getBaseAxis = function() {
        var r = this.coordinateSystem;
        return r && r.getBaseAxis && r.getBaseAxis()
    }
    ,
    e.prototype.formatTooltip = function(r, i, n) {
        return xx({
            series: this,
            dataIndex: r,
            multipleSeries: i
        })
    }
    ,
    e.prototype.isAnimationEnabled = function() {
        var r = this.ecModel;
        if (ae.node && !(r && r.ssr))
            return !1;
        var i = this.getShallow("animation");
        return i && this.getData().count() > this.getShallow("animationThreshold") && (i = !1),
        !!i
    }
    ,
    e.prototype.restoreData = function() {
        this.dataTask.dirty()
    }
    ,
    e.prototype.getColorFromPalette = function(r, i, n) {
        var a = this.ecModel
          , o = Bh.prototype.getColorFromPalette.call(this, r, i, n);
        return o || (o = a.getColorFromPalette(r, i, n)),
        o
    }
    ,
    e.prototype.coordDimToDataDim = function(r) {
        return this.getRawData().mapDimensionsAll(r)
    }
    ,
    e.prototype.getProgressive = function() {
        return this.get("progressive")
    }
    ,
    e.prototype.getProgressiveThreshold = function() {
        return this.get("progressiveThreshold")
    }
    ,
    e.prototype.select = function(r, i) {
        this._innerSelect(this.getData(i), r)
    }
    ,
    e.prototype.unselect = function(r, i) {
        var n = this.option.selectedMap;
        if (!!n) {
            var a = this.option.selectedMode
              , o = this.getData(i);
            if (a === "series" || n === "all") {
                this.option.selectedMap = {},
                this._selectedDataIndicesMap = {};
                return
            }
            for (var s = 0; s < r.length; s++) {
                var l = r[s]
                  , u = Ga(o, l);
                n[u] = !1,
                this._selectedDataIndicesMap[u] = -1
            }
        }
    }
    ,
    e.prototype.toggleSelect = function(r, i) {
        for (var n = [], a = 0; a < r.length; a++)
            n[0] = r[a],
            this.isSelected(r[a], i) ? this.unselect(n, i) : this.select(n, i)
    }
    ,
    e.prototype.getSelectedDataIndices = function() {
        if (this.option.selectedMap === "all")
            return [].slice.call(this.getData().getIndices());
        for (var r = this._selectedDataIndicesMap, i = Se(r), n = [], a = 0; a < i.length; a++) {
            var o = r[i[a]];
            o >= 0 && n.push(o)
        }
        return n
    }
    ,
    e.prototype.isSelected = function(r, i) {
        var n = this.option.selectedMap;
        if (!n)
            return !1;
        var a = this.getData(i);
        return (n === "all" || n[Ga(a, r)]) && !a.getItemModel(r).get(["select", "disabled"])
    }
    ,
    e.prototype.isUniversalTransitionEnabled = function() {
        if (this[Mx])
            return !0;
        var r = this.option.universalTransition;
        return r ? r === !0 ? !0 : r && r.enabled : !1
    }
    ,
    e.prototype._innerSelect = function(r, i) {
        var n, a, o = this.option, s = o.selectedMode, l = i.length;
        if (!(!s || !l)) {
            if (s === "series")
                o.selectedMap = "all";
            else if (s === "multiple") {
                J(o.selectedMap) || (o.selectedMap = {});
                for (var u = o.selectedMap, h = 0; h < l; h++) {
                    var f = i[h]
                      , c = Ga(r, f);
                    u[c] = !0,
                    this._selectedDataIndicesMap[c] = r.getRawIndex(f)
                }
            } else if (s === "single" || s === !0) {
                var v = i[l - 1]
                  , c = Ga(r, v);
                o.selectedMap = (n = {},
                n[c] = !0,
                n),
                this._selectedDataIndicesMap = (a = {},
                a[c] = r.getRawIndex(v),
                a)
            }
        }
    }
    ,
    e.prototype._initSelectedMapFromData = function(r) {
        if (!this.option.selectedMap) {
            var i = [];
            r.hasItemOption && r.each(function(n) {
                var a = r.getRawDataItem(n);
                a && a.selected && i.push(n)
            }),
            i.length > 0 && this._innerSelect(r, i)
        }
    }
    ,
    e.registerClass = function(r) {
        return we.registerClass(r)
    }
    ,
    e.protoInitialize = function() {
        var r = e.prototype;
        r.type = "series.__base__",
        r.seriesIndex = 0,
        r.ignoreStyleOnData = !1,
        r.hasSymbolVisual = !1,
        r.defaultSymbol = "circle",
        r.visualStyleAccessPath = "itemStyle",
        r.visualDrawType = "fill"
    }(),
    e
}(we);
It(vs, Hh);
It(vs, Bh);
Jp(vs, we);
function yv(t) {
    var e = t.name;
    Kp(t) || (t.name = Dx(t) || e)
}
function Dx(t) {
    var e = t.getRawData()
      , r = e.mapDimensionsAll("seriesName")
      , i = [];
    return I(r, function(n) {
        var a = e.getDimensionInfo(n);
        a.displayName && i.push(a.displayName)
    }),
    i.join(" ")
}
function Ax(t) {
    return t.model.getRawData().count()
}
function Ix(t) {
    var e = t.model;
    return e.setData(e.getRawData().cloneShallow()),
    kx
}
function kx(t, e) {
    e.outputData && t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData)
}
function _v(t, e) {
    I(M_(t.CHANGABLE_METHODS, t.DOWNSAMPLE_METHODS), function(r) {
        t.wrapMethod(r, Ee(Lx, e))
    })
}
function Lx(t, e) {
    var r = Iu(t);
    return r && r.setOutputEnd((e || this).count()),
    e
}
function Iu(t) {
    var e = (t.ecModel || {}).scheduler
      , r = e && e.getPipeline(t.uid);
    if (r) {
        var i = r.currentTask;
        if (i) {
            var n = i.agentStubMap;
            n && (i = n.get(t.uid))
        }
        return i
    }
}
var ia = vs
  , Wh = function() {
    function t() {
        this.group = new Xe,
        this.uid = as("viewComponent")
    }
    return t.prototype.init = function(e, r) {}
    ,
    t.prototype.render = function(e, r, i, n) {}
    ,
    t.prototype.dispose = function(e, r) {}
    ,
    t.prototype.updateView = function(e, r, i, n) {}
    ,
    t.prototype.updateLayout = function(e, r, i, n) {}
    ,
    t.prototype.updateVisual = function(e, r, i, n) {}
    ,
    t.prototype.toggleBlurSeries = function(e, r, i) {}
    ,
    t.prototype.eachRendered = function(e) {
        var r = this.group;
        r && r.traverse(e)
    }
    ,
    t
}();
dh(Wh);
jo(Wh);
var Kt = Wh;
function Fm() {
    var t = xe();
    return function(e) {
        var r = t(e)
          , i = e.pipelineContext
          , n = !!r.large
          , a = !!r.progressiveRender
          , o = r.large = !!(i && i.large)
          , s = r.progressiveRender = !!(i && i.progressiveRender);
        return (n !== o || a !== s) && "reset"
    }
}
var zm = xe()
  , Px = Fm()
  , Uh = function() {
    function t() {
        this.group = new Xe,
        this.uid = as("viewChart"),
        this.renderTask = Gn({
            plan: Ex,
            reset: Rx
        }),
        this.renderTask.context = {
            view: this
        }
    }
    return t.prototype.init = function(e, r) {}
    ,
    t.prototype.render = function(e, r, i, n) {}
    ,
    t.prototype.highlight = function(e, r, i, n) {
        var a = e.getData(n && n.dataType);
        !a || Sv(a, n, "emphasis")
    }
    ,
    t.prototype.downplay = function(e, r, i, n) {
        var a = e.getData(n && n.dataType);
        !a || Sv(a, n, "normal")
    }
    ,
    t.prototype.remove = function(e, r) {
        this.group.removeAll()
    }
    ,
    t.prototype.dispose = function(e, r) {}
    ,
    t.prototype.updateView = function(e, r, i, n) {
        this.render(e, r, i, n)
    }
    ,
    t.prototype.updateLayout = function(e, r, i, n) {
        this.render(e, r, i, n)
    }
    ,
    t.prototype.updateVisual = function(e, r, i, n) {
        this.render(e, r, i, n)
    }
    ,
    t.prototype.eachRendered = function(e) {
        is(this.group, e)
    }
    ,
    t.markUpdateMethod = function(e, r) {
        zm(e).updateMethod = r
    }
    ,
    t.protoInitialize = function() {
        var e = t.prototype;
        e.type = "chart"
    }(),
    t
}();
function wv(t, e, r) {
    t && wu(t) && (e === "emphasis" ? Kn : jn)(t, r)
}
function Sv(t, e, r) {
    var i = ni(t, e)
      , n = e && e.highlightKey != null ? zS(e.highlightKey) : null;
    i != null ? I(Ye(i), function(a) {
        wv(t.getItemGraphicEl(a), r, n)
    }) : t.eachItemGraphicEl(function(a) {
        wv(a, r, n)
    })
}
dh(Uh);
jo(Uh);
function Ex(t) {
    return Px(t.model)
}
function Rx(t) {
    var e = t.model
      , r = t.ecModel
      , i = t.api
      , n = t.payload
      , a = e.pipelineContext.progressiveRender
      , o = t.view
      , s = n && zm(n).updateMethod
      , l = a ? "incrementalPrepareRender" : s && o[s] ? s : "render";
    return l !== "render" && o[l](e, r, i, n),
    Ox[l]
}
var Ox = {
    incrementalPrepareRender: {
        progress: function(t, e) {
            e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload)
        }
    },
    render: {
        forceFirstProgress: !0,
        progress: function(t, e) {
            e.view.render(e.model, e.ecModel, e.api, e.payload)
        }
    }
}
  , _r = Uh
  , Vo = "\0__throttleOriginMethod"
  , bv = "\0__throttleRate"
  , Cv = "\0__throttleType";
function $h(t, e, r) {
    var i, n = 0, a = 0, o = null, s, l, u, h;
    e = e || 0;
    function f() {
        a = new Date().getTime(),
        o = null,
        t.apply(l, u || [])
    }
    var c = function() {
        for (var v = [], d = 0; d < arguments.length; d++)
            v[d] = arguments[d];
        i = new Date().getTime(),
        l = this,
        u = v;
        var m = h || e
          , p = h || r;
        h = null,
        s = i - (p ? n : a) - m,
        clearTimeout(o),
        p ? o = setTimeout(f, m) : s >= 0 ? f() : o = setTimeout(f, -s),
        n = i
    };
    return c.clear = function() {
        o && (clearTimeout(o),
        o = null)
    }
    ,
    c.debounceNextCall = function(v) {
        h = v
    }
    ,
    c
}
function Vm(t, e, r, i) {
    var n = t[e];
    if (!!n) {
        var a = n[Vo] || n
          , o = n[Cv]
          , s = n[bv];
        if (s !== r || o !== i) {
            if (r == null || !i)
                return t[e] = a;
            n = t[e] = $h(a, r, i === "debounce"),
            n[Vo] = a,
            n[Cv] = i,
            n[bv] = r
        }
        return n
    }
}
function ku(t, e) {
    var r = t[e];
    r && r[Vo] && (r.clear && r.clear(),
    t[e] = r[Vo])
}
var xv = xe()
  , Tv = {
    itemStyle: Zn(jg, !0),
    lineStyle: Zn(Kg, !0)
}
  , Bx = {
    lineStyle: "stroke",
    itemStyle: "fill"
};
function Hm(t, e) {
    var r = t.visualStyleMapper || Tv[e];
    return r || (console.warn("Unknown style type '" + e + "'."),
    Tv.itemStyle)
}
function Gm(t, e) {
    var r = t.visualDrawType || Bx[e];
    return r || (console.warn("Unknown style type '" + e + "'."),
    "fill")
}
var Nx = {
    createOnAllSeries: !0,
    performRawSeries: !0,
    reset: function(t, e) {
        var r = t.getData()
          , i = t.visualStyleAccessPath || "itemStyle"
          , n = t.getModel(i)
          , a = Hm(t, i)
          , o = a(n)
          , s = n.getShallow("decal");
        s && (r.setVisual("decal", s),
        s.dirty = !0);
        var l = Gm(t, i)
          , u = o[l]
          , h = ne(u) ? u : null
          , f = o.fill === "auto" || o.stroke === "auto";
        if (!o[l] || h || f) {
            var c = t.getColorFromPalette(t.name, null, e.getSeriesCount());
            o[l] || (o[l] = c,
            r.setVisual("colorFromPalette", !0)),
            o.fill = o.fill === "auto" || ne(o.fill) ? c : o.fill,
            o.stroke = o.stroke === "auto" || ne(o.stroke) ? c : o.stroke
        }
        if (r.setVisual("style", o),
        r.setVisual("drawType", l),
        !e.isSeriesFiltered(t) && h)
            return r.setVisual("colorFromPalette", !1),
            {
                dataEach: function(v, d) {
                    var m = t.getDataParams(d)
                      , p = G({}, o);
                    p[l] = h(m),
                    v.setItemVisual(d, "style", p)
                }
            }
    }
}
  , gn = new $e
  , Fx = {
    createOnAllSeries: !0,
    performRawSeries: !0,
    reset: function(t, e) {
        if (!(t.ignoreStyleOnData || e.isSeriesFiltered(t))) {
            var r = t.getData()
              , i = t.visualStyleAccessPath || "itemStyle"
              , n = Hm(t, i)
              , a = r.getVisual("drawType");
            return {
                dataEach: r.hasItemOption ? function(o, s) {
                    var l = o.getRawDataItem(s);
                    if (l && l[i]) {
                        gn.option = l[i];
                        var u = n(gn)
                          , h = o.ensureUniqueItemVisual(s, "style");
                        G(h, u),
                        gn.option.decal && (o.setItemVisual(s, "decal", gn.option.decal),
                        gn.option.decal.dirty = !0),
                        a in u && o.setItemVisual(s, "colorFromPalette", !1)
                    }
                }
                : null
            }
        }
    }
}
  , zx = {
    performRawSeries: !0,
    overallReset: function(t) {
        var e = le();
        t.eachSeries(function(r) {
            var i = r.getColorBy();
            if (!r.isColorBySeries()) {
                var n = r.type + "-" + i
                  , a = e.get(n);
                a || (a = {},
                e.set(n, a)),
                xv(r).scope = a
            }
        }),
        t.eachSeries(function(r) {
            if (!(r.isColorBySeries() || t.isSeriesFiltered(r))) {
                var i = r.getRawData()
                  , n = {}
                  , a = r.getData()
                  , o = xv(r).scope
                  , s = r.visualStyleAccessPath || "itemStyle"
                  , l = Gm(r, s);
                a.each(function(u) {
                    var h = a.getRawIndex(u);
                    n[h] = u
                }),
                i.each(function(u) {
                    var h = n[u]
                      , f = a.getItemVisual(h, "colorFromPalette");
                    if (f) {
                        var c = a.ensureUniqueItemVisual(h, "style")
                          , v = i.getName(u) || u + ""
                          , d = i.count();
                        c[l] = r.getColorFromPalette(v, o, d)
                    }
                })
            }
        })
    }
}
  , Wa = Math.PI;
function Vx(t, e) {
    e = e || {},
    me(e, {
        text: "loading",
        textColor: "#000",
        fontSize: 12,
        fontWeight: "normal",
        fontStyle: "normal",
        fontFamily: "sans-serif",
        maskColor: "rgba(255, 255, 255, 0.8)",
        showSpinner: !0,
        color: "#5470c6",
        spinnerRadius: 10,
        lineWidth: 5,
        zlevel: 0
    });
    var r = new Xe
      , i = new Je({
        style: {
            fill: e.maskColor
        },
        zlevel: e.zlevel,
        z: 1e4
    });
    r.add(i);
    var n = new _t({
        style: {
            text: e.text,
            fill: e.textColor,
            fontSize: e.fontSize,
            fontWeight: e.fontWeight,
            fontStyle: e.fontStyle,
            fontFamily: e.fontFamily
        },
        zlevel: e.zlevel,
        z: 10001
    })
      , a = new Je({
        style: {
            fill: "none"
        },
        textContent: n,
        textConfig: {
            position: "right",
            distance: 10
        },
        zlevel: e.zlevel,
        z: 10001
    });
    r.add(a);
    var o;
    return e.showSpinner && (o = new Ch({
        shape: {
            startAngle: -Wa / 2,
            endAngle: -Wa / 2 + .1,
            r: e.spinnerRadius
        },
        style: {
            stroke: e.color,
            lineCap: "round",
            lineWidth: e.lineWidth
        },
        zlevel: e.zlevel,
        z: 10001
    }),
    o.animateShape(!0).when(1e3, {
        endAngle: Wa * 3 / 2
    }).start("circularInOut"),
    o.animateShape(!0).when(1e3, {
        startAngle: Wa * 3 / 2
    }).delay(300).start("circularInOut"),
    r.add(o)),
    r.resize = function() {
        var s = n.getBoundingRect().width
          , l = e.showSpinner ? e.spinnerRadius : 0
          , u = (t.getWidth() - l * 2 - (e.showSpinner && s ? 10 : 0) - s) / 2 - (e.showSpinner && s ? 0 : 5 + s / 2) + (e.showSpinner ? 0 : s / 2) + (s ? 0 : l)
          , h = t.getHeight() / 2;
        e.showSpinner && o.setShape({
            cx: u,
            cy: h
        }),
        a.setShape({
            x: u - l,
            y: h - l,
            width: l * 2,
            height: l * 2
        }),
        i.setShape({
            x: 0,
            y: 0,
            width: t.getWidth(),
            height: t.getHeight()
        })
    }
    ,
    r.resize(),
    r
}
var Hx = function() {
    function t(e, r, i, n) {
        this._stageTaskMap = le(),
        this.ecInstance = e,
        this.api = r,
        i = this._dataProcessorHandlers = i.slice(),
        n = this._visualHandlers = n.slice(),
        this._allHandlers = i.concat(n)
    }
    return t.prototype.restoreData = function(e, r) {
        e.restoreData(r),
        this._stageTaskMap.each(function(i) {
            var n = i.overallTask;
            n && n.dirty()
        })
    }
    ,
    t.prototype.getPerformArgs = function(e, r) {
        if (!!e.__pipeline) {
            var i = this._pipelineMap.get(e.__pipeline.id)
              , n = i.context
              , a = !r && i.progressiveEnabled && (!n || n.progressiveRender) && e.__idxInPipeline > i.blockIndex
              , o = a ? i.step : null
              , s = n && n.modDataCount
              , l = s != null ? Math.ceil(s / o) : null;
            return {
                step: o,
                modBy: l,
                modDataCount: s
            }
        }
    }
    ,
    t.prototype.getPipeline = function(e) {
        return this._pipelineMap.get(e)
    }
    ,
    t.prototype.updateStreamModes = function(e, r) {
        var i = this._pipelineMap.get(e.uid)
          , n = e.getData()
          , a = n.count()
          , o = i.progressiveEnabled && r.incrementalPrepareRender && a >= i.threshold
          , s = e.get("large") && a >= e.get("largeThreshold")
          , l = e.get("progressiveChunkMode") === "mod" ? a : null;
        e.pipelineContext = i.context = {
            progressiveRender: o,
            modDataCount: l,
            large: s
        }
    }
    ,
    t.prototype.restorePipelines = function(e) {
        var r = this
          , i = r._pipelineMap = le();
        e.eachSeries(function(n) {
            var a = n.getProgressive()
              , o = n.uid;
            i.set(o, {
                id: o,
                head: null,
                tail: null,
                threshold: n.getProgressiveThreshold(),
                progressiveEnabled: a && !(n.preventIncremental && n.preventIncremental()),
                blockIndex: -1,
                step: Math.round(a || 700),
                count: 0
            }),
            r._pipe(n, n.dataTask)
        })
    }
    ,
    t.prototype.prepareStageTasks = function() {
        var e = this._stageTaskMap
          , r = this.api.getModel()
          , i = this.api;
        I(this._allHandlers, function(n) {
            var a = e.get(n.uid) || e.set(n.uid, {})
              , o = "";
            qt(!(n.reset && n.overallReset), o),
            n.reset && this._createSeriesStageTask(n, a, r, i),
            n.overallReset && this._createOverallStageTask(n, a, r, i)
        }, this)
    }
    ,
    t.prototype.prepareView = function(e, r, i, n) {
        var a = e.renderTask
          , o = a.context;
        o.model = r,
        o.ecModel = i,
        o.api = n,
        a.__block = !e.incrementalPrepareRender,
        this._pipe(r, a)
    }
    ,
    t.prototype.performDataProcessorTasks = function(e, r) {
        this._performStageTasks(this._dataProcessorHandlers, e, r, {
            block: !0
        })
    }
    ,
    t.prototype.performVisualTasks = function(e, r, i) {
        this._performStageTasks(this._visualHandlers, e, r, i)
    }
    ,
    t.prototype._performStageTasks = function(e, r, i, n) {
        n = n || {};
        var a = !1
          , o = this;
        I(e, function(l, u) {
            if (!(n.visualType && n.visualType !== l.visualType)) {
                var h = o._stageTaskMap.get(l.uid)
                  , f = h.seriesTaskMap
                  , c = h.overallTask;
                if (c) {
                    var v, d = c.agentStubMap;
                    d.each(function(p) {
                        s(n, p) && (p.dirty(),
                        v = !0)
                    }),
                    v && c.dirty(),
                    o.updatePayload(c, i);
                    var m = o.getPerformArgs(c, n.block);
                    d.each(function(p) {
                        p.perform(m)
                    }),
                    c.perform(m) && (a = !0)
                } else
                    f && f.each(function(p, g) {
                        s(n, p) && p.dirty();
                        var y = o.getPerformArgs(p, n.block);
                        y.skip = !l.performRawSeries && r.isSeriesFiltered(p.context.model),
                        o.updatePayload(p, i),
                        p.perform(y) && (a = !0)
                    })
            }
        });
        function s(l, u) {
            return l.setDirty && (!l.dirtyMap || l.dirtyMap.get(u.__pipeline.id))
        }
        this.unfinished = a || this.unfinished
    }
    ,
    t.prototype.performSeriesTasks = function(e) {
        var r;
        e.eachSeries(function(i) {
            r = i.dataTask.perform() || r
        }),
        this.unfinished = r || this.unfinished
    }
    ,
    t.prototype.plan = function() {
        this._pipelineMap.each(function(e) {
            var r = e.tail;
            do {
                if (r.__block) {
                    e.blockIndex = r.__idxInPipeline;
                    break
                }
                r = r.getUpstream()
            } while (r)
        })
    }
    ,
    t.prototype.updatePayload = function(e, r) {
        r !== "remain" && (e.context.payload = r)
    }
    ,
    t.prototype._createSeriesStageTask = function(e, r, i, n) {
        var a = this
          , o = r.seriesTaskMap
          , s = r.seriesTaskMap = le()
          , l = e.seriesType
          , u = e.getTargetSeries;
        e.createOnAllSeries ? i.eachRawSeries(h) : l ? i.eachRawSeriesByType(l, h) : u && u(i, n).each(h);
        function h(f) {
            var c = f.uid
              , v = s.set(c, o && o.get(c) || Gn({
                plan: Yx,
                reset: Xx,
                count: Zx
            }));
            v.context = {
                model: f,
                ecModel: i,
                api: n,
                useClearVisual: e.isVisual && !e.isLayout,
                plan: e.plan,
                reset: e.reset,
                scheduler: a
            },
            a._pipe(f, v)
        }
    }
    ,
    t.prototype._createOverallStageTask = function(e, r, i, n) {
        var a = this
          , o = r.overallTask = r.overallTask || Gn({
            reset: Gx
        });
        o.context = {
            ecModel: i,
            api: n,
            overallReset: e.overallReset,
            scheduler: a
        };
        var s = o.agentStubMap
          , l = o.agentStubMap = le()
          , u = e.seriesType
          , h = e.getTargetSeries
          , f = !0
          , c = !1
          , v = "";
        qt(!e.createOnAllSeries, v),
        u ? i.eachRawSeriesByType(u, d) : h ? h(i, n).each(d) : (f = !1,
        I(i.getSeries(), d));
        function d(m) {
            var p = m.uid
              , g = l.set(p, s && s.get(p) || (c = !0,
            Gn({
                reset: Wx,
                onDirty: $x
            })));
            g.context = {
                model: m,
                overallProgress: f
            },
            g.agent = o,
            g.__block = f,
            a._pipe(m, g)
        }
        c && o.dirty()
    }
    ,
    t.prototype._pipe = function(e, r) {
        var i = e.uid
          , n = this._pipelineMap.get(i);
        !n.head && (n.head = r),
        n.tail && n.tail.pipe(r),
        n.tail = r,
        r.__idxInPipeline = n.count++,
        r.__pipeline = n
    }
    ,
    t.wrapStageHandler = function(e, r) {
        return ne(e) && (e = {
            overallReset: e,
            seriesType: Kx(e)
        }),
        e.uid = as("stageHandler"),
        r && (e.visualType = r),
        e
    }
    ,
    t
}();
function Gx(t) {
    t.overallReset(t.ecModel, t.api, t.payload)
}
function Wx(t) {
    return t.overallProgress && Ux
}
function Ux() {
    this.agent.dirty(),
    this.getDownstream().dirty()
}
function $x() {
    this.agent && this.agent.dirty()
}
function Yx(t) {
    return t.plan ? t.plan(t.model, t.ecModel, t.api, t.payload) : null
}
function Xx(t) {
    t.useClearVisual && t.data.clearAllVisual();
    var e = t.resetDefines = Ye(t.reset(t.model, t.ecModel, t.api, t.payload));
    return e.length > 1 ? ee(e, function(r, i) {
        return Wm(i)
    }) : qx
}
var qx = Wm(0);
function Wm(t) {
    return function(e, r) {
        var i = r.data
          , n = r.resetDefines[t];
        if (n && n.dataEach)
            for (var a = e.start; a < e.end; a++)
                n.dataEach(i, a);
        else
            n && n.progress && n.progress(e, i)
    }
}
function Zx(t) {
    return t.data.count()
}
function Kx(t) {
    Ho = null;
    try {
        t(na, Um)
    } catch {}
    return Ho
}
var na = {}, Um = {}, Ho;
$m(na, _m);
$m(Um, wm);
na.eachSeriesByType = na.eachRawSeriesByType = function(t) {
    Ho = t
}
;
na.eachComponent = function(t) {
    t.mainType === "series" && t.subType && (Ho = t.subType)
}
;
function $m(t, e) {
    for (var r in e.prototype)
        t[r] = Qe
}
var Ym = Hx
  , Mv = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"]
  , jx = {
    color: Mv,
    colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], Mv]
}
  , Ge = "#B9B8CE"
  , Dv = "#100C2A"
  , Ua = function() {
    return {
        axisLine: {
            lineStyle: {
                color: Ge
            }
        },
        splitLine: {
            lineStyle: {
                color: "#484753"
            }
        },
        splitArea: {
            areaStyle: {
                color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
            }
        },
        minorSplitLine: {
            lineStyle: {
                color: "#20203B"
            }
        }
    }
}
  , Av = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"]
  , Xm = {
    darkMode: !0,
    color: Av,
    backgroundColor: Dv,
    axisPointer: {
        lineStyle: {
            color: "#817f91"
        },
        crossStyle: {
            color: "#817f91"
        },
        label: {
            color: "#fff"
        }
    },
    legend: {
        textStyle: {
            color: Ge
        }
    },
    textStyle: {
        color: Ge
    },
    title: {
        textStyle: {
            color: "#EEF1FA"
        },
        subtextStyle: {
            color: "#B9B8CE"
        }
    },
    toolbox: {
        iconStyle: {
            borderColor: Ge
        }
    },
    dataZoom: {
        borderColor: "#71708A",
        textStyle: {
            color: Ge
        },
        brushStyle: {
            color: "rgba(135,163,206,0.3)"
        },
        handleStyle: {
            color: "#353450",
            borderColor: "#C5CBE3"
        },
        moveHandleStyle: {
            color: "#B0B6C3",
            opacity: .3
        },
        fillerColor: "rgba(135,163,206,0.2)",
        emphasis: {
            handleStyle: {
                borderColor: "#91B7F2",
                color: "#4D587D"
            },
            moveHandleStyle: {
                color: "#636D9A",
                opacity: .7
            }
        },
        dataBackground: {
            lineStyle: {
                color: "#71708A",
                width: 1
            },
            areaStyle: {
                color: "#71708A"
            }
        },
        selectedDataBackground: {
            lineStyle: {
                color: "#87A3CE"
            },
            areaStyle: {
                color: "#87A3CE"
            }
        }
    },
    visualMap: {
        textStyle: {
            color: Ge
        }
    },
    timeline: {
        lineStyle: {
            color: Ge
        },
        label: {
            color: Ge
        },
        controlStyle: {
            color: Ge,
            borderColor: Ge
        }
    },
    calendar: {
        itemStyle: {
            color: Dv
        },
        dayLabel: {
            color: Ge
        },
        monthLabel: {
            color: Ge
        },
        yearLabel: {
            color: Ge
        }
    },
    timeAxis: Ua(),
    logAxis: Ua(),
    valueAxis: Ua(),
    categoryAxis: Ua(),
    line: {
        symbol: "circle"
    },
    graph: {
        color: Av
    },
    gauge: {
        title: {
            color: Ge
        },
        axisLine: {
            lineStyle: {
                color: [[1, "rgba(207,212,219,0.2)"]]
            }
        },
        axisLabel: {
            color: Ge
        },
        detail: {
            color: "#EEF1FA"
        }
    },
    candlestick: {
        itemStyle: {
            color: "#f64e56",
            color0: "#54ea92",
            borderColor: "#f64e56",
            borderColor0: "#54ea92"
        }
    }
};
Xm.categoryAxis.splitLine.show = !1;
var Qx = Xm
  , Jx = function() {
    function t() {}
    return t.prototype.normalizeQuery = function(e) {
        var r = {}
          , i = {}
          , n = {};
        if (Q(e)) {
            var a = zt(e);
            r.mainType = a.main || null,
            r.subType = a.sub || null
        } else {
            var o = ["Index", "Name", "Id"]
              , s = {
                name: 1,
                dataIndex: 1,
                dataType: 1
            };
            I(e, function(l, u) {
                for (var h = !1, f = 0; f < o.length; f++) {
                    var c = o[f]
                      , v = u.lastIndexOf(c);
                    if (v > 0 && v === u.length - c.length) {
                        var d = u.slice(0, v);
                        d !== "data" && (r.mainType = d,
                        r[c.toLowerCase()] = l,
                        h = !0)
                    }
                }
                s.hasOwnProperty(u) && (i[u] = l,
                h = !0),
                h || (n[u] = l)
            })
        }
        return {
            cptQuery: r,
            dataQuery: i,
            otherQuery: n
        }
    }
    ,
    t.prototype.filter = function(e, r) {
        var i = this.eventInfo;
        if (!i)
            return !0;
        var n = i.targetEl
          , a = i.packedEvent
          , o = i.model
          , s = i.view;
        if (!o || !s)
            return !0;
        var l = r.cptQuery
          , u = r.dataQuery;
        return h(l, o, "mainType") && h(l, o, "subType") && h(l, o, "index", "componentIndex") && h(l, o, "name") && h(l, o, "id") && h(u, a, "name") && h(u, a, "dataIndex") && h(u, a, "dataType") && (!s.filterForExposedEvent || s.filterForExposedEvent(e, r.otherQuery, n, a));
        function h(f, c, v, d) {
            return f[v] == null || c[d || v] === f[v]
        }
    }
    ,
    t.prototype.afterTrigger = function() {
        this.eventInfo = null
    }
    ,
    t
}()
  , Lu = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"]
  , Iv = Lu.concat(["symbolKeepAspect"])
  , eT = {
    createOnAllSeries: !0,
    performRawSeries: !0,
    reset: function(t, e) {
        var r = t.getData();
        if (t.legendIcon && r.setVisual("legendIcon", t.legendIcon),
        !t.hasSymbolVisual)
            return;
        for (var i = {}, n = {}, a = !1, o = 0; o < Lu.length; o++) {
            var s = Lu[o]
              , l = t.get(s);
            ne(l) ? (a = !0,
            n[s] = l) : i[s] = l
        }
        if (i.symbol = i.symbol || t.defaultSymbol,
        r.setVisual(G({
            legendIcon: t.legendIcon || i.symbol,
            symbolKeepAspect: t.get("symbolKeepAspect")
        }, i)),
        e.isSeriesFiltered(t))
            return;
        var u = Se(n);
        function h(f, c) {
            for (var v = t.getRawValue(c), d = t.getDataParams(c), m = 0; m < u.length; m++) {
                var p = u[m];
                f.setItemVisual(c, p, n[p](v, d))
            }
        }
        return {
            dataEach: a ? h : null
        }
    }
}
  , tT = {
    createOnAllSeries: !0,
    performRawSeries: !0,
    reset: function(t, e) {
        if (!t.hasSymbolVisual || e.isSeriesFiltered(t))
            return;
        var r = t.getData();
        function i(n, a) {
            for (var o = n.getItemModel(a), s = 0; s < Iv.length; s++) {
                var l = Iv[s]
                  , u = o.getShallow(l, !0);
                u != null && n.setItemVisual(a, l, u)
            }
        }
        return {
            dataEach: r.hasItemOption ? i : null
        }
    }
};
function rT(t, e, r) {
    switch (r) {
    case "color":
        var i = t.getItemVisual(e, "style");
        return i[t.getVisual("drawType")];
    case "opacity":
        return t.getItemVisual(e, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
        return t.getItemVisual(e, r)
    }
}
function qm(t, e) {
    switch (e) {
    case "color":
        var r = t.getVisual("style");
        return r[t.getVisual("drawType")];
    case "opacity":
        return t.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
        return t.getVisual(e)
    }
}
function xi(t, e, r, i, n) {
    var a = t + e;
    r.isSilent(a) || i.eachComponent({
        mainType: "series",
        subType: "pie"
    }, function(o) {
        for (var s = o.seriesIndex, l = o.option.selectedMap, u = n.selected, h = 0; h < u.length; h++)
            if (u[h].seriesIndex === s) {
                var f = o.getData()
                  , c = ni(f, n.fromActionPayload);
                r.trigger(a, {
                    type: a,
                    seriesId: o.id,
                    name: Y(c) ? f.getName(c[0]) : f.getName(c),
                    selected: Q(l) ? l : G({}, l)
                })
            }
    })
}
function iT(t, e, r) {
    t.on("selectchanged", function(i) {
        var n = r.getModel();
        i.isFromClick ? (xi("map", "selectchanged", e, n, i),
        xi("pie", "selectchanged", e, n, i)) : i.fromAction === "select" ? (xi("map", "selected", e, n, i),
        xi("pie", "selected", e, n, i)) : i.fromAction === "unselect" && (xi("map", "unselected", e, n, i),
        xi("pie", "unselected", e, n, i))
    })
}
function En(t, e, r) {
    for (var i; t && !(e(t) && (i = t,
    r)); )
        t = t.__hostTarget || t.parent;
    return i
}
var nT = Math.round(Math.random() * 9)
  , aT = typeof Object.defineProperty == "function"
  , oT = function() {
    function t() {
        this._id = "__ec_inner_" + nT++
    }
    return t.prototype.get = function(e) {
        return this._guard(e)[this._id]
    }
    ,
    t.prototype.set = function(e, r) {
        var i = this._guard(e);
        return aT ? Object.defineProperty(i, this._id, {
            value: r,
            enumerable: !1,
            configurable: !0
        }) : i[this._id] = r,
        this
    }
    ,
    t.prototype.delete = function(e) {
        return this.has(e) ? (delete this._guard(e)[this._id],
        !0) : !1
    }
    ,
    t.prototype.has = function(e) {
        return !!this._guard(e)[this._id]
    }
    ,
    t.prototype._guard = function(e) {
        if (e !== Object(e))
            throw TypeError("Value of WeakMap is not a non-null object.");
        return e
    }
    ,
    t
}()
  , sT = oT
  , lT = ye.extend({
    type: "triangle",
    shape: {
        cx: 0,
        cy: 0,
        width: 0,
        height: 0
    },
    buildPath: function(t, e) {
        var r = e.cx
          , i = e.cy
          , n = e.width / 2
          , a = e.height / 2;
        t.moveTo(r, i - a),
        t.lineTo(r + n, i + a),
        t.lineTo(r - n, i + a),
        t.closePath()
    }
})
  , uT = ye.extend({
    type: "diamond",
    shape: {
        cx: 0,
        cy: 0,
        width: 0,
        height: 0
    },
    buildPath: function(t, e) {
        var r = e.cx
          , i = e.cy
          , n = e.width / 2
          , a = e.height / 2;
        t.moveTo(r, i - a),
        t.lineTo(r + n, i),
        t.lineTo(r, i + a),
        t.lineTo(r - n, i),
        t.closePath()
    }
})
  , hT = ye.extend({
    type: "pin",
    shape: {
        x: 0,
        y: 0,
        width: 0,
        height: 0
    },
    buildPath: function(t, e) {
        var r = e.x
          , i = e.y
          , n = e.width / 5 * 3
          , a = Math.max(n, e.height)
          , o = n / 2
          , s = o * o / (a - o)
          , l = i - a + o + s
          , u = Math.asin(s / o)
          , h = Math.cos(u) * o
          , f = Math.sin(u)
          , c = Math.cos(u)
          , v = o * .6
          , d = o * .7;
        t.moveTo(r - h, l + s),
        t.arc(r, l, o, Math.PI - u, Math.PI * 2 + u),
        t.bezierCurveTo(r + h - f * v, l + s + c * v, r, i - d, r, i),
        t.bezierCurveTo(r, i - d, r - h + f * v, l + s + c * v, r - h, l + s),
        t.closePath()
    }
})
  , fT = ye.extend({
    type: "arrow",
    shape: {
        x: 0,
        y: 0,
        width: 0,
        height: 0
    },
    buildPath: function(t, e) {
        var r = e.height
          , i = e.width
          , n = e.x
          , a = e.y
          , o = i / 3 * 2;
        t.moveTo(n, a),
        t.lineTo(n + o, a + r),
        t.lineTo(n, a + r / 4 * 3),
        t.lineTo(n - o, a + r),
        t.lineTo(n, a),
        t.closePath()
    }
})
  , cT = {
    line: wr,
    rect: Je,
    roundRect: Je,
    square: Je,
    circle: wh,
    diamond: uT,
    pin: hT,
    arrow: fT,
    triangle: lT
}
  , vT = {
    line: function(t, e, r, i, n) {
        n.x1 = t,
        n.y1 = e + i / 2,
        n.x2 = t + r,
        n.y2 = e + i / 2
    },
    rect: function(t, e, r, i, n) {
        n.x = t,
        n.y = e,
        n.width = r,
        n.height = i
    },
    roundRect: function(t, e, r, i, n) {
        n.x = t,
        n.y = e,
        n.width = r,
        n.height = i,
        n.r = Math.min(r, i) / 4
    },
    square: function(t, e, r, i, n) {
        var a = Math.min(r, i);
        n.x = t,
        n.y = e,
        n.width = a,
        n.height = a
    },
    circle: function(t, e, r, i, n) {
        n.cx = t + r / 2,
        n.cy = e + i / 2,
        n.r = Math.min(r, i) / 2
    },
    diamond: function(t, e, r, i, n) {
        n.cx = t + r / 2,
        n.cy = e + i / 2,
        n.width = r,
        n.height = i
    },
    pin: function(t, e, r, i, n) {
        n.x = t + r / 2,
        n.y = e + i / 2,
        n.width = r,
        n.height = i
    },
    arrow: function(t, e, r, i, n) {
        n.x = t + r / 2,
        n.y = e + i / 2,
        n.width = r,
        n.height = i
    },
    triangle: function(t, e, r, i, n) {
        n.cx = t + r / 2,
        n.cy = e + i / 2,
        n.width = r,
        n.height = i
    }
}
  , Pu = {};
I(cT, function(t, e) {
    Pu[e] = new t
});
var dT = ye.extend({
    type: "symbol",
    shape: {
        symbolType: "",
        x: 0,
        y: 0,
        width: 0,
        height: 0
    },
    calculateTextPosition: function(t, e, r) {
        var i = Fp(t, e, r)
          , n = this.shape;
        return n && n.symbolType === "pin" && e.position === "inside" && (i.y = r.y + r.height * .4),
        i
    },
    buildPath: function(t, e, r) {
        var i = e.symbolType;
        if (i !== "none") {
            var n = Pu[i];
            n || (i = "rect",
            n = Pu[i]),
            vT[i](e.x, e.y, e.width, e.height, n.shape),
            n.buildPath(t, n.shape, r)
        }
    }
});
function pT(t, e) {
    if (this.type !== "image") {
        var r = this.style;
        this.__isEmptyBrush ? (r.stroke = t,
        r.fill = e || "#fff",
        r.lineWidth = 2) : this.shape.symbolType === "line" ? r.stroke = t : r.fill = t,
        this.markRedraw()
    }
}
function Yi(t, e, r, i, n, a, o) {
    var s = t.indexOf("empty") === 0;
    s && (t = t.substr(5, 1).toLowerCase() + t.substr(6));
    var l;
    return t.indexOf("image://") === 0 ? l = Gg(t.slice(8), new ce(e,r,i,n), o ? "center" : "cover") : t.indexOf("path://") === 0 ? l = Th(t.slice(7), {}, new ce(e,r,i,n), o ? "center" : "cover") : l = new dT({
        shape: {
            symbolType: t,
            x: e,
            y: r,
            width: i,
            height: n
        }
    }),
    l.__isEmptyBrush = s,
    l.setColor = pT,
    a && l.setColor(a),
    l
}
function Yh(t) {
    return Y(t) || (t = [+t, +t]),
    [t[0] || 0, t[1] || 0]
}
function ds(t, e) {
    if (t != null)
        return Y(t) || (t = [t, t]),
        [Oe(t[0], e[0]) || 0, Oe(oe(t[1], t[0]), e[1]) || 0]
}
function Kr(t) {
    return isFinite(t)
}
function gT(t, e, r) {
    var i = e.x == null ? 0 : e.x
      , n = e.x2 == null ? 1 : e.x2
      , a = e.y == null ? 0 : e.y
      , o = e.y2 == null ? 0 : e.y2;
    e.global || (i = i * r.width + r.x,
    n = n * r.width + r.x,
    a = a * r.height + r.y,
    o = o * r.height + r.y),
    i = Kr(i) ? i : 0,
    n = Kr(n) ? n : 1,
    a = Kr(a) ? a : 0,
    o = Kr(o) ? o : 0;
    var s = t.createLinearGradient(i, a, n, o);
    return s
}
function mT(t, e, r) {
    var i = r.width
      , n = r.height
      , a = Math.min(i, n)
      , o = e.x == null ? .5 : e.x
      , s = e.y == null ? .5 : e.y
      , l = e.r == null ? .5 : e.r;
    e.global || (o = o * i + r.x,
    s = s * n + r.y,
    l = l * a),
    o = Kr(o) ? o : .5,
    s = Kr(s) ? s : .5,
    l = l >= 0 && Kr(l) ? l : .5;
    var u = t.createRadialGradient(o, s, 0, o, s, l);
    return u
}
function Eu(t, e, r) {
    for (var i = e.type === "radial" ? mT(t, e, r) : gT(t, e, r), n = e.colorStops, a = 0; a < n.length; a++)
        i.addColorStop(n[a].offset, n[a].color);
    return i
}
function yT(t, e) {
    if (t === e || !t && !e)
        return !1;
    if (!t || !e || t.length !== e.length)
        return !0;
    for (var r = 0; r < t.length; r++)
        if (t[r] !== e[r])
            return !0;
    return !1
}
function $a(t) {
    return parseInt(t, 10)
}
function Ya(t, e, r) {
    var i = ["width", "height"][e]
      , n = ["clientWidth", "clientHeight"][e]
      , a = ["paddingLeft", "paddingTop"][e]
      , o = ["paddingRight", "paddingBottom"][e];
    if (r[i] != null && r[i] !== "auto")
        return parseFloat(r[i]);
    var s = document.defaultView.getComputedStyle(t);
    return (t[n] || $a(s[i]) || $a(t.style[i])) - ($a(s[a]) || 0) - ($a(s[o]) || 0) | 0
}
function _T(t, e) {
    return !t || t === "solid" || !(e > 0) ? null : t === "dashed" ? [4 * e, 2 * e] : t === "dotted" ? [e] : be(t) ? [t] : Y(t) ? t : null
}
function Zm(t) {
    var e = t.style
      , r = e.lineDash && e.lineWidth > 0 && _T(e.lineDash, e.lineWidth)
      , i = e.lineDashOffset;
    if (r) {
        var n = e.strokeNoScale && t.getLineScale ? t.getLineScale() : 1;
        n && n !== 1 && (r = ee(r, function(a) {
            return a / n
        }),
        i /= n)
    }
    return [r, i]
}
var wT = new ai(!0);
function Go(t) {
    var e = t.stroke;
    return !(e == null || e === "none" || !(t.lineWidth > 0))
}
function kv(t) {
    return typeof t == "string" && t !== "none"
}
function Wo(t) {
    var e = t.fill;
    return e != null && e !== "none"
}
function Lv(t, e) {
    if (e.fillOpacity != null && e.fillOpacity !== 1) {
        var r = t.globalAlpha;
        t.globalAlpha = e.fillOpacity * e.opacity,
        t.fill(),
        t.globalAlpha = r
    } else
        t.fill()
}
function Pv(t, e) {
    if (e.strokeOpacity != null && e.strokeOpacity !== 1) {
        var r = t.globalAlpha;
        t.globalAlpha = e.strokeOpacity * e.opacity,
        t.stroke(),
        t.globalAlpha = r
    } else
        t.stroke()
}
function Ru(t, e, r) {
    var i = eg(e.image, e.__image, r);
    if (Qo(i)) {
        var n = t.createPattern(i, e.repeat || "repeat");
        if (typeof DOMMatrix == "function" && n && n.setTransform) {
            var a = new DOMMatrix;
            a.translateSelf(e.x || 0, e.y || 0),
            a.rotateSelf(0, 0, (e.rotation || 0) * D_),
            a.scaleSelf(e.scaleX || 1, e.scaleY || 1),
            n.setTransform(a)
        }
        return n
    }
}
function ST(t, e, r, i) {
    var n, a = Go(r), o = Wo(r), s = r.strokePercent, l = s < 1, u = !e.path;
    (!e.silent || l) && u && e.createPathProxy();
    var h = e.path || wT
      , f = e.__dirty;
    if (!i) {
        var c = r.fill
          , v = r.stroke
          , d = o && !!c.colorStops
          , m = a && !!v.colorStops
          , p = o && !!c.image
          , g = a && !!v.image
          , y = void 0
          , _ = void 0
          , w = void 0
          , b = void 0
          , S = void 0;
        (d || m) && (S = e.getBoundingRect()),
        d && (y = f ? Eu(t, c, S) : e.__canvasFillGradient,
        e.__canvasFillGradient = y),
        m && (_ = f ? Eu(t, v, S) : e.__canvasStrokeGradient,
        e.__canvasStrokeGradient = _),
        p && (w = f || !e.__canvasFillPattern ? Ru(t, c, e) : e.__canvasFillPattern,
        e.__canvasFillPattern = w),
        g && (b = f || !e.__canvasStrokePattern ? Ru(t, v, e) : e.__canvasStrokePattern,
        e.__canvasStrokePattern = w),
        d ? t.fillStyle = y : p && (w ? t.fillStyle = w : o = !1),
        m ? t.strokeStyle = _ : g && (b ? t.strokeStyle = b : a = !1)
    }
    var C = e.getGlobalScale();
    h.setScale(C[0], C[1], e.segmentIgnoreThreshold);
    var T, x;
    t.setLineDash && r.lineDash && (n = Zm(e),
    T = n[0],
    x = n[1]);
    var D = !0;
    (u || f & Ai) && (h.setDPR(t.dpr),
    l ? h.setContext(null) : (h.setContext(t),
    D = !1),
    h.reset(),
    e.buildPath(h, e.shape, i),
    h.toStatic(),
    e.pathUpdated()),
    D && h.rebuildPath(t, l ? s : 1),
    T && (t.setLineDash(T),
    t.lineDashOffset = x),
    i || (r.strokeFirst ? (a && Pv(t, r),
    o && Lv(t, r)) : (o && Lv(t, r),
    a && Pv(t, r))),
    T && t.setLineDash([])
}
function bT(t, e, r) {
    var i = e.__image = eg(r.image, e.__image, e, e.onload);
    if (!(!i || !Qo(i))) {
        var n = r.x || 0
          , a = r.y || 0
          , o = e.getWidth()
          , s = e.getHeight()
          , l = i.width / i.height;
        if (o == null && s != null ? o = s * l : s == null && o != null ? s = o / l : o == null && s == null && (o = i.width,
        s = i.height),
        r.sWidth && r.sHeight) {
            var u = r.sx || 0
              , h = r.sy || 0;
            t.drawImage(i, u, h, r.sWidth, r.sHeight, n, a, o, s)
        } else if (r.sx && r.sy) {
            var u = r.sx
              , h = r.sy
              , f = o - u
              , c = s - h;
            t.drawImage(i, u, h, f, c, n, a, o, s)
        } else
            t.drawImage(i, n, a, o, s)
    }
}
function CT(t, e, r) {
    var i, n = r.text;
    if (n != null && (n += ""),
    n) {
        t.font = r.font || ri,
        t.textAlign = r.textAlign,
        t.textBaseline = r.textBaseline;
        var a = void 0
          , o = void 0;
        t.setLineDash && r.lineDash && (i = Zm(e),
        a = i[0],
        o = i[1]),
        a && (t.setLineDash(a),
        t.lineDashOffset = o),
        r.strokeFirst ? (Go(r) && t.strokeText(n, r.x, r.y),
        Wo(r) && t.fillText(n, r.x, r.y)) : (Wo(r) && t.fillText(n, r.x, r.y),
        Go(r) && t.strokeText(n, r.x, r.y)),
        a && t.setLineDash([])
    }
}
var Ev = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"]
  , Rv = [["lineCap", "butt"], ["lineJoin", "miter"], ["miterLimit", 10]];
function Km(t, e, r, i, n) {
    var a = !1;
    if (!i && (r = r || {},
    e === r))
        return !1;
    if (i || e.opacity !== r.opacity) {
        je(t, n),
        a = !0;
        var o = Math.max(Math.min(e.opacity, 1), 0);
        t.globalAlpha = isNaN(o) ? Qr.opacity : o
    }
    (i || e.blend !== r.blend) && (a || (je(t, n),
    a = !0),
    t.globalCompositeOperation = e.blend || Qr.blend);
    for (var s = 0; s < Ev.length; s++) {
        var l = Ev[s];
        (i || e[l] !== r[l]) && (a || (je(t, n),
        a = !0),
        t[l] = t.dpr * (e[l] || 0))
    }
    return (i || e.shadowColor !== r.shadowColor) && (a || (je(t, n),
    a = !0),
    t.shadowColor = e.shadowColor || Qr.shadowColor),
    a
}
function Ov(t, e, r, i, n) {
    var a = aa(e, n.inHover)
      , o = i ? null : r && aa(r, n.inHover) || {};
    if (a === o)
        return !1;
    var s = Km(t, a, o, i, n);
    if ((i || a.fill !== o.fill) && (s || (je(t, n),
    s = !0),
    kv(a.fill) && (t.fillStyle = a.fill)),
    (i || a.stroke !== o.stroke) && (s || (je(t, n),
    s = !0),
    kv(a.stroke) && (t.strokeStyle = a.stroke)),
    (i || a.opacity !== o.opacity) && (s || (je(t, n),
    s = !0),
    t.globalAlpha = a.opacity == null ? 1 : a.opacity),
    e.hasStroke()) {
        var l = a.lineWidth
          , u = l / (a.strokeNoScale && e.getLineScale ? e.getLineScale() : 1);
        t.lineWidth !== u && (s || (je(t, n),
        s = !0),
        t.lineWidth = u)
    }
    for (var h = 0; h < Rv.length; h++) {
        var f = Rv[h]
          , c = f[0];
        (i || a[c] !== o[c]) && (s || (je(t, n),
        s = !0),
        t[c] = a[c] || f[1])
    }
    return s
}
function xT(t, e, r, i, n) {
    return Km(t, aa(e, n.inHover), r && aa(r, n.inHover), i, n)
}
function jm(t, e) {
    var r = e.transform
      , i = t.dpr || 1;
    r ? t.setTransform(i * r[0], i * r[1], i * r[2], i * r[3], i * r[4], i * r[5]) : t.setTransform(i, 0, 0, i, 0, 0)
}
function TT(t, e, r) {
    for (var i = !1, n = 0; n < t.length; n++) {
        var a = t[n];
        i = i || a.isZeroArea(),
        jm(e, a),
        e.beginPath(),
        a.buildPath(e, a.shape),
        e.clip()
    }
    r.allClipped = i
}
function MT(t, e) {
    return t && e ? t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || t[4] !== e[4] || t[5] !== e[5] : !(!t && !e)
}
var Bv = 1
  , Nv = 2
  , Fv = 3
  , zv = 4;
function DT(t) {
    var e = Wo(t)
      , r = Go(t);
    return !(t.lineDash || !(+e ^ +r) || e && typeof t.fill != "string" || r && typeof t.stroke != "string" || t.strokePercent < 1 || t.strokeOpacity < 1 || t.fillOpacity < 1)
}
function je(t, e) {
    e.batchFill && t.fill(),
    e.batchStroke && t.stroke(),
    e.batchFill = "",
    e.batchStroke = ""
}
function aa(t, e) {
    return e && t.__hoverStyle || t.style
}
function Qm(t, e) {
    jr(t, e, {
        inHover: !1,
        viewWidth: 0,
        viewHeight: 0
    }, !0)
}
function jr(t, e, r, i) {
    var n = e.transform;
    if (!e.shouldBePainted(r.viewWidth, r.viewHeight, !1, !1)) {
        e.__dirty &= ~at,
        e.__isRendered = !1;
        return
    }
    var a = e.__clipPaths
      , o = r.prevElClipPaths
      , s = !1
      , l = !1;
    if ((!o || yT(a, o)) && (o && o.length && (je(t, r),
    t.restore(),
    l = s = !0,
    r.prevElClipPaths = null,
    r.allClipped = !1,
    r.prevEl = null),
    a && a.length && (je(t, r),
    t.save(),
    TT(a, t, r),
    s = !0),
    r.prevElClipPaths = a),
    r.allClipped) {
        e.__isRendered = !1;
        return
    }
    e.beforeBrush && e.beforeBrush(),
    e.innerBeforeBrush();
    var u = r.prevEl;
    u || (l = s = !0);
    var h = e instanceof ye && e.autoBatch && DT(e.style);
    s || MT(n, u.transform) ? (je(t, r),
    jm(t, e)) : h || je(t, r);
    var f = aa(e, r.inHover);
    e instanceof ye ? (r.lastDrawType !== Bv && (l = !0,
    r.lastDrawType = Bv),
    Ov(t, e, u, l, r),
    (!h || !r.batchFill && !r.batchStroke) && t.beginPath(),
    ST(t, e, f, h),
    h && (r.batchFill = f.fill || "",
    r.batchStroke = f.stroke || "")) : e instanceof mu ? (r.lastDrawType !== Fv && (l = !0,
    r.lastDrawType = Fv),
    Ov(t, e, u, l, r),
    CT(t, e, f)) : e instanceof hi ? (r.lastDrawType !== Nv && (l = !0,
    r.lastDrawType = Nv),
    xT(t, e, u, l, r),
    bT(t, e, f)) : e.getTemporalDisplayables && (r.lastDrawType !== zv && (l = !0,
    r.lastDrawType = zv),
    AT(t, e, r)),
    h && i && je(t, r),
    e.innerAfterBrush(),
    e.afterBrush && e.afterBrush(),
    r.prevEl = e,
    e.__dirty = 0,
    e.__isRendered = !0
}
function AT(t, e, r) {
    var i = e.getDisplayables()
      , n = e.getTemporalDisplayables();
    t.save();
    var a = {
        prevElClipPaths: null,
        prevEl: null,
        allClipped: !1,
        viewWidth: r.viewWidth,
        viewHeight: r.viewHeight,
        inHover: r.inHover
    }, o, s;
    for (o = e.getCursor(),
    s = i.length; o < s; o++) {
        var l = i[o];
        l.beforeBrush && l.beforeBrush(),
        l.innerBeforeBrush(),
        jr(t, l, a, o === s - 1),
        l.innerAfterBrush(),
        l.afterBrush && l.afterBrush(),
        a.prevEl = l
    }
    for (var u = 0, h = n.length; u < h; u++) {
        var l = n[u];
        l.beforeBrush && l.beforeBrush(),
        l.innerBeforeBrush(),
        jr(t, l, a, u === h - 1),
        l.innerAfterBrush(),
        l.afterBrush && l.afterBrush(),
        a.prevEl = l
    }
    e.clearTemporalDisplayables(),
    e.notClear = !0,
    t.restore()
}
var _l = new sT
  , Vv = new ha(100)
  , Hv = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function Gv(t, e) {
    if (t === "none")
        return null;
    var r = e.getDevicePixelRatio()
      , i = e.getZr()
      , n = i.painter.type === "svg";
    t.dirty && _l.delete(t);
    var a = _l.get(t);
    if (a)
        return a;
    var o = me(t, {
        symbol: "rect",
        symbolSize: 1,
        symbolKeepAspect: !0,
        color: "rgba(0, 0, 0, 0.2)",
        backgroundColor: null,
        dashArrayX: 5,
        dashArrayY: 5,
        rotation: 0,
        maxTileWidth: 512,
        maxTileHeight: 512
    });
    o.backgroundColor === "none" && (o.backgroundColor = null);
    var s = {
        repeat: "repeat"
    };
    return l(s),
    s.rotation = o.rotation,
    s.scaleX = s.scaleY = n ? 1 : 1 / r,
    _l.set(t, s),
    t.dirty = !1,
    s;
    function l(u) {
        for (var h = [r], f = !0, c = 0; c < Hv.length; ++c) {
            var v = o[Hv[c]];
            if (v != null && !Y(v) && !Q(v) && !be(v) && typeof v != "boolean") {
                f = !1;
                break
            }
            h.push(v)
        }
        var d;
        if (f) {
            d = h.join(",") + (n ? "-svg" : "");
            var m = Vv.get(d);
            m && (n ? u.svgElement = m : u.image = m)
        }
        var p = e0(o.dashArrayX), g = IT(o.dashArrayY), y = Jm(o.symbol), _ = kT(p), w = t0(g), b = !n && ui.createCanvas(), S = n && {
            tag: "g",
            attrs: {},
            key: "dcl",
            children: []
        }, C = x(), T;
        b && (b.width = C.width * r,
        b.height = C.height * r,
        T = b.getContext("2d")),
        D(),
        f && Vv.put(d, b || S),
        u.image = b,
        u.svgElement = S,
        u.svgWidth = C.width,
        u.svgHeight = C.height;
        function x() {
            for (var A = 1, k = 0, P = _.length; k < P; ++k)
                A = Jf(A, _[k]);
            for (var E = 1, k = 0, P = y.length; k < P; ++k)
                E = Jf(E, y[k].length);
            A *= E;
            var O = w * _.length * y.length;
            return {
                width: Math.max(1, Math.min(A, o.maxTileWidth)),
                height: Math.max(1, Math.min(O, o.maxTileHeight))
            }
        }
        function D() {
            T && (T.clearRect(0, 0, b.width, b.height),
            o.backgroundColor && (T.fillStyle = o.backgroundColor,
            T.fillRect(0, 0, b.width, b.height)));
            for (var A = 0, k = 0; k < g.length; ++k)
                A += g[k];
            if (A <= 0)
                return;
            for (var P = -w, E = 0, O = 0, B = 0; P < C.height; ) {
                if (E % 2 === 0) {
                    for (var te = O / 2 % y.length, W = 0, Z = 0, re = 0; W < C.width * 2; ) {
                        for (var ve = 0, k = 0; k < p[B].length; ++k)
                            ve += p[B][k];
                        if (ve <= 0)
                            break;
                        if (Z % 2 === 0) {
                            var $ = (1 - o.symbolSize) * .5
                              , z = W + p[B][Z] * $
                              , N = P + g[E] * $
                              , j = p[B][Z] * o.symbolSize
                              , q = g[E] * o.symbolSize
                              , M = re / 2 % y[te].length;
                            K(z, N, j, q, y[te][M])
                        }
                        W += p[B][Z],
                        ++re,
                        ++Z,
                        Z === p[B].length && (Z = 0)
                    }
                    ++B,
                    B === p.length && (B = 0)
                }
                P += g[E],
                ++O,
                ++E,
                E === g.length && (E = 0)
            }
            function K(Ie, ke, ie, he, br) {
                var He = n ? 1 : r
                  , sf = Yi(br, Ie * He, ke * He, ie * He, he * He, o.color, o.symbolKeepAspect);
                if (n) {
                    var lf = i.painter.renderOneToVNode(sf);
                    lf && S.children.push(lf)
                } else
                    Qm(T, sf)
            }
        }
    }
}
function Jm(t) {
    if (!t || t.length === 0)
        return [["rect"]];
    if (Q(t))
        return [[t]];
    for (var e = !0, r = 0; r < t.length; ++r)
        if (!Q(t[r])) {
            e = !1;
            break
        }
    if (e)
        return Jm([t]);
    for (var i = [], r = 0; r < t.length; ++r)
        Q(t[r]) ? i.push([t[r]]) : i.push(t[r]);
    return i
}
function e0(t) {
    if (!t || t.length === 0)
        return [[0, 0]];
    if (be(t)) {
        var e = Math.ceil(t);
        return [[e, e]]
    }
    for (var r = !0, i = 0; i < t.length; ++i)
        if (!be(t[i])) {
            r = !1;
            break
        }
    if (r)
        return e0([t]);
    for (var n = [], i = 0; i < t.length; ++i)
        if (be(t[i])) {
            var e = Math.ceil(t[i]);
            n.push([e, e])
        } else {
            var e = ee(t[i], function(s) {
                return Math.ceil(s)
            });
            e.length % 2 === 1 ? n.push(e.concat(e)) : n.push(e)
        }
    return n
}
function IT(t) {
    if (!t || typeof t == "object" && t.length === 0)
        return [0, 0];
    if (be(t)) {
        var e = Math.ceil(t);
        return [e, e]
    }
    var r = ee(t, function(i) {
        return Math.ceil(i)
    });
    return t.length % 2 ? r.concat(r) : r
}
function kT(t) {
    return ee(t, function(e) {
        return t0(e)
    })
}
function t0(t) {
    for (var e = 0, r = 0; r < t.length; ++r)
        e += t[r];
    return t.length % 2 === 1 ? e * 2 : e
}
function LT(t, e) {
    t.eachRawSeries(function(r) {
        if (!t.isSeriesFiltered(r)) {
            var i = r.getData();
            i.hasItemVisual() && i.each(function(o) {
                var s = i.getItemVisual(o, "decal");
                if (s) {
                    var l = i.ensureUniqueItemVisual(o, "style");
                    l.decal = Gv(s, e)
                }
            });
            var n = i.getVisual("decal");
            if (n) {
                var a = i.getVisual("style");
                a.decal = Gv(n, e)
            }
        }
    })
}
var PT = new Ht
  , Mt = PT
  , r0 = {};
function ET(t, e) {
    r0[t] = e
}
function RT(t) {
    return r0[t]
}
var OT = 1
  , BT = 800
  , NT = 900
  , FT = 1e3
  , zT = 2e3
  , VT = 5e3
  , i0 = 1e3
  , HT = 1100
  , Xh = 2e3
  , n0 = 3e3
  , GT = 4e3
  , ps = 4500
  , WT = 4600
  , UT = 5e3
  , $T = 6e3
  , a0 = 7e3
  , YT = {
    PROCESSOR: {
        FILTER: FT,
        SERIES_FILTER: BT,
        STATISTIC: VT
    },
    VISUAL: {
        LAYOUT: i0,
        PROGRESSIVE_LAYOUT: HT,
        GLOBAL: Xh,
        CHART: n0,
        POST_CHART_LAYOUT: WT,
        COMPONENT: GT,
        BRUSH: UT,
        CHART_ITEM: ps,
        ARIA: $T,
        DECAL: a0
    }
}
  , Fe = "__flagInMainProcess"
  , Ze = "__pendingUpdate"
  , wl = "__needsUpdateStatus"
  , Wv = /^[a-zA-Z0-9_]+$/
  , Sl = "__connectUpdateStatus"
  , Uv = 0
  , XT = 1
  , qT = 2;
function o0(t) {
    return function() {
        for (var e = [], r = 0; r < arguments.length; r++)
            e[r] = arguments[r];
        if (this.isDisposed()) {
            this.id;
            return
        }
        return l0(this, t, e)
    }
}
function s0(t) {
    return function() {
        for (var e = [], r = 0; r < arguments.length; r++)
            e[r] = arguments[r];
        return l0(this, t, e)
    }
}
function l0(t, e, r) {
    return r[0] = r[0] && r[0].toLowerCase(),
    Ht.prototype[e].apply(t, r)
}
var u0 = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e
}(Ht)
  , h0 = u0.prototype;
h0.on = s0("on");
h0.off = s0("off");
var Ti, bl, Xa, ar, Cl, xl, Tl, mn, yn, $v, Yv, Ml, Xv, qa, qv, f0, st, Zv, c0 = function(t) {
    X(e, t);
    function e(r, i, n) {
        var a = t.call(this, new Jx) || this;
        a._chartsViews = [],
        a._chartsMap = {},
        a._componentsViews = [],
        a._componentsMap = {},
        a._pendingActions = [],
        n = n || {},
        Q(i) && (i = v0[i]),
        a._dom = r;
        var o = "canvas"
          , s = "auto"
          , l = !1;
        n.ssr;
        var u = a._zr = Kf(r, {
            renderer: n.renderer || o,
            devicePixelRatio: n.devicePixelRatio,
            width: n.width,
            height: n.height,
            ssr: n.ssr,
            useDirtyRect: oe(n.useDirtyRect, l),
            useCoarsePointer: oe(n.useCoarsePointer, s),
            pointerSize: n.pointerSize
        });
        a._ssr = n.ssr,
        a._throttledZrFlush = $h(Ce(u.flush, u), 17),
        i = ue(i),
        i && bm(i, !0),
        a._theme = i,
        a._locale = rC(n.locale || Qg),
        a._coordSysMgr = new Nh;
        var h = a._api = qv(a);
        function f(c, v) {
            return c.__prio - v.__prio
        }
        return uo($o, f),
        uo(Ou, f),
        a._scheduler = new Ym(a,h,Ou,$o),
        a._messageCenter = new u0,
        a._initEvents(),
        a.resize = Ce(a.resize, a),
        u.animation.on("frame", a._onframe, a),
        $v(u, a),
        Yv(u, a),
        Kl(a),
        a
    }
    return e.prototype._onframe = function() {
        if (!this._disposed) {
            Zv(this);
            var r = this._scheduler;
            if (this[Ze]) {
                var i = this[Ze].silent;
                this[Fe] = !0;
                try {
                    Ti(this),
                    ar.update.call(this, null, this[Ze].updateParams)
                } catch (l) {
                    throw this[Fe] = !1,
                    this[Ze] = null,
                    l
                }
                this._zr.flush(),
                this[Fe] = !1,
                this[Ze] = null,
                mn.call(this, i),
                yn.call(this, i)
            } else if (r.unfinished) {
                var n = OT
                  , a = this._model
                  , o = this._api;
                r.unfinished = !1;
                do {
                    var s = +new Date;
                    r.performSeriesTasks(a),
                    r.performDataProcessorTasks(a),
                    xl(this, a),
                    r.performVisualTasks(a),
                    qa(this, this._model, o, "remain", {}),
                    n -= +new Date - s
                } while (n > 0 && r.unfinished);
                r.unfinished || this._zr.flush()
            }
        }
    }
    ,
    e.prototype.getDom = function() {
        return this._dom
    }
    ,
    e.prototype.getId = function() {
        return this.id
    }
    ,
    e.prototype.getZr = function() {
        return this._zr
    }
    ,
    e.prototype.isSSR = function() {
        return this._ssr
    }
    ,
    e.prototype.setOption = function(r, i, n) {
        if (!this[Fe]) {
            if (this._disposed) {
                this.id;
                return
            }
            var a, o, s;
            if (J(i) && (n = i.lazyUpdate,
            a = i.silent,
            o = i.replaceMerge,
            s = i.transition,
            i = i.notMerge),
            this[Fe] = !0,
            !this._model || i) {
                var l = new BC(this._api)
                  , u = this._theme
                  , h = this._model = new _m;
                h.scheduler = this._scheduler,
                h.ssr = this._ssr,
                h.init(null, null, null, u, this._locale, l)
            }
            this._model.setOption(r, {
                replaceMerge: o
            }, Bu);
            var f = {
                seriesTransition: s,
                optionChanged: !0
            };
            if (n)
                this[Ze] = {
                    silent: a,
                    updateParams: f
                },
                this[Fe] = !1,
                this.getZr().wakeUp();
            else {
                try {
                    Ti(this),
                    ar.update.call(this, null, f)
                } catch (c) {
                    throw this[Ze] = null,
                    this[Fe] = !1,
                    c
                }
                this._ssr || this._zr.flush(),
                this[Ze] = null,
                this[Fe] = !1,
                mn.call(this, a),
                yn.call(this, a)
            }
        }
    }
    ,
    e.prototype.setTheme = function() {}
    ,
    e.prototype.getModel = function() {
        return this._model
    }
    ,
    e.prototype.getOption = function() {
        return this._model && this._model.getOption()
    }
    ,
    e.prototype.getWidth = function() {
        return this._zr.getWidth()
    }
    ,
    e.prototype.getHeight = function() {
        return this._zr.getHeight()
    }
    ,
    e.prototype.getDevicePixelRatio = function() {
        return this._zr.painter.dpr || ae.hasGlobalWindow && window.devicePixelRatio || 1
    }
    ,
    e.prototype.getRenderedCanvas = function(r) {
        return this.renderToCanvas(r)
    }
    ,
    e.prototype.renderToCanvas = function(r) {
        r = r || {};
        var i = this._zr.painter;
        return i.getRenderedCanvas({
            backgroundColor: r.backgroundColor || this._model.get("backgroundColor"),
            pixelRatio: r.pixelRatio || this.getDevicePixelRatio()
        })
    }
    ,
    e.prototype.renderToSVGString = function(r) {
        r = r || {};
        var i = this._zr.painter;
        return i.renderToString({
            useViewBox: r.useViewBox
        })
    }
    ,
    e.prototype.getSvgDataURL = function() {
        if (!!ae.svgSupported) {
            var r = this._zr
              , i = r.storage.getDisplayList();
            return I(i, function(n) {
                n.stopAnimation(null, !0)
            }),
            r.painter.toDataURL()
        }
    }
    ,
    e.prototype.getDataURL = function(r) {
        if (this._disposed) {
            this.id;
            return
        }
        r = r || {};
        var i = r.excludeComponents
          , n = this._model
          , a = []
          , o = this;
        I(i, function(l) {
            n.eachComponent({
                mainType: l
            }, function(u) {
                var h = o._componentsMap[u.__viewId];
                h.group.ignore || (a.push(h),
                h.group.ignore = !0)
            })
        });
        var s = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(r).toDataURL("image/" + (r && r.type || "png"));
        return I(a, function(l) {
            l.group.ignore = !1
        }),
        s
    }
    ,
    e.prototype.getConnectedDataURL = function(r) {
        if (this._disposed) {
            this.id;
            return
        }
        var i = r.type === "svg"
          , n = this.group
          , a = Math.min
          , o = Math.max
          , s = 1 / 0;
        if (Kv[n]) {
            var l = s
              , u = s
              , h = -s
              , f = -s
              , c = []
              , v = r && r.pixelRatio || this.getDevicePixelRatio();
            I(Un, function(_, w) {
                if (_.group === n) {
                    var b = i ? _.getZr().painter.getSvgDom().innerHTML : _.renderToCanvas(ue(r))
                      , S = _.getDom().getBoundingClientRect();
                    l = a(S.left, l),
                    u = a(S.top, u),
                    h = o(S.right, h),
                    f = o(S.bottom, f),
                    c.push({
                        dom: b,
                        left: S.left,
                        top: S.top
                    })
                }
            }),
            l *= v,
            u *= v,
            h *= v,
            f *= v;
            var d = h - l
              , m = f - u
              , p = ui.createCanvas()
              , g = Kf(p, {
                renderer: i ? "svg" : "canvas"
            });
            if (g.resize({
                width: d,
                height: m
            }),
            i) {
                var y = "";
                return I(c, function(_) {
                    var w = _.left - l
                      , b = _.top - u;
                    y += '<g transform="translate(' + w + "," + b + ')">' + _.dom + "</g>"
                }),
                g.painter.getSvgRoot().innerHTML = y,
                r.connectedBackgroundColor && g.painter.setBackgroundColor(r.connectedBackgroundColor),
                g.refreshImmediately(),
                g.painter.toDataURL()
            } else
                return r.connectedBackgroundColor && g.add(new Je({
                    shape: {
                        x: 0,
                        y: 0,
                        width: d,
                        height: m
                    },
                    style: {
                        fill: r.connectedBackgroundColor
                    }
                })),
                I(c, function(_) {
                    var w = new hi({
                        style: {
                            x: _.left * v - l,
                            y: _.top * v - u,
                            image: _.dom
                        }
                    });
                    g.add(w)
                }),
                g.refreshImmediately(),
                p.toDataURL("image/" + (r && r.type || "png"))
        } else
            return this.getDataURL(r)
    }
    ,
    e.prototype.convertToPixel = function(r, i) {
        return Cl(this, "convertToPixel", r, i)
    }
    ,
    e.prototype.convertFromPixel = function(r, i) {
        return Cl(this, "convertFromPixel", r, i)
    }
    ,
    e.prototype.containPixel = function(r, i) {
        if (this._disposed) {
            this.id;
            return
        }
        var n = this._model, a, o = Ys(n, r);
        return I(o, function(s, l) {
            l.indexOf("Models") >= 0 && I(s, function(u) {
                var h = u.coordinateSystem;
                if (h && h.containPoint)
                    a = a || !!h.containPoint(i);
                else if (l === "seriesModels") {
                    var f = this._chartsMap[u.__viewId];
                    f && f.containPoint && (a = a || f.containPoint(i, u))
                }
            }, this)
        }, this),
        !!a
    }
    ,
    e.prototype.getVisual = function(r, i) {
        var n = this._model
          , a = Ys(n, r, {
            defaultMainType: "series"
        })
          , o = a.seriesModel
          , s = o.getData()
          , l = a.hasOwnProperty("dataIndexInside") ? a.dataIndexInside : a.hasOwnProperty("dataIndex") ? s.indexOfRawIndex(a.dataIndex) : null;
        return l != null ? rT(s, l, i) : qm(s, i)
    }
    ,
    e.prototype.getViewOfComponentModel = function(r) {
        return this._componentsMap[r.__viewId]
    }
    ,
    e.prototype.getViewOfSeriesModel = function(r) {
        return this._chartsMap[r.__viewId]
    }
    ,
    e.prototype._initEvents = function() {
        var r = this;
        I(ZT, function(i) {
            var n = function(a) {
                var o = r.getModel(), s = a.target, l, u = i === "globalout";
                if (u ? l = {} : s && En(s, function(d) {
                    var m = de(d);
                    if (m && m.dataIndex != null) {
                        var p = m.dataModel || o.getSeriesByIndex(m.seriesIndex);
                        return l = p && p.getDataParams(m.dataIndex, m.dataType, s) || {},
                        !0
                    } else if (m.eventData)
                        return l = G({}, m.eventData),
                        !0
                }, !0),
                l) {
                    var h = l.componentType
                      , f = l.componentIndex;
                    (h === "markLine" || h === "markPoint" || h === "markArea") && (h = "series",
                    f = l.seriesIndex);
                    var c = h && f != null && o.getComponent(h, f)
                      , v = c && r[c.mainType === "series" ? "_chartsMap" : "_componentsMap"][c.__viewId];
                    l.event = a,
                    l.type = i,
                    r._$eventProcessor.eventInfo = {
                        targetEl: s,
                        packedEvent: l,
                        model: c,
                        view: v
                    },
                    r.trigger(i, l)
                }
            };
            n.zrEventfulCallAtLast = !0,
            r._zr.on(i, n, r)
        }),
        I(Wn, function(i, n) {
            r._messageCenter.on(n, function(a) {
                this.trigger(n, a)
            }, r)
        }),
        I(["selectchanged"], function(i) {
            r._messageCenter.on(i, function(n) {
                this.trigger(i, n)
            }, r)
        }),
        iT(this._messageCenter, this, this._api)
    }
    ,
    e.prototype.isDisposed = function() {
        return this._disposed
    }
    ,
    e.prototype.clear = function() {
        if (this._disposed) {
            this.id;
            return
        }
        this.setOption({
            series: []
        }, !0)
    }
    ,
    e.prototype.dispose = function() {
        if (this._disposed) {
            this.id;
            return
        }
        this._disposed = !0;
        var r = this.getDom();
        r && jp(this.getDom(), Zh, "");
        var i = this
          , n = i._api
          , a = i._model;
        I(i._componentsViews, function(o) {
            o.dispose(a, n)
        }),
        I(i._chartsViews, function(o) {
            o.dispose(a, n)
        }),
        i._zr.dispose(),
        i._dom = i._model = i._chartsMap = i._componentsMap = i._chartsViews = i._componentsViews = i._scheduler = i._api = i._zr = i._throttledZrFlush = i._theme = i._coordSysMgr = i._messageCenter = null,
        delete Un[i.id]
    }
    ,
    e.prototype.resize = function(r) {
        if (!this[Fe]) {
            if (this._disposed) {
                this.id;
                return
            }
            this._zr.resize(r);
            var i = this._model;
            if (this._loadingFX && this._loadingFX.resize(),
            !!i) {
                var n = i.resetOption("media")
                  , a = r && r.silent;
                this[Ze] && (a == null && (a = this[Ze].silent),
                n = !0,
                this[Ze] = null),
                this[Fe] = !0;
                try {
                    n && Ti(this),
                    ar.update.call(this, {
                        type: "resize",
                        animation: G({
                            duration: 0
                        }, r && r.animation)
                    })
                } catch (o) {
                    throw this[Fe] = !1,
                    o
                }
                this[Fe] = !1,
                mn.call(this, a),
                yn.call(this, a)
            }
        }
    }
    ,
    e.prototype.showLoading = function(r, i) {
        if (this._disposed) {
            this.id;
            return
        }
        if (J(r) && (i = r,
        r = ""),
        r = r || "default",
        this.hideLoading(),
        !!Nu[r]) {
            var n = Nu[r](this._api, i)
              , a = this._zr;
            this._loadingFX = n,
            a.add(n)
        }
    }
    ,
    e.prototype.hideLoading = function() {
        if (this._disposed) {
            this.id;
            return
        }
        this._loadingFX && this._zr.remove(this._loadingFX),
        this._loadingFX = null
    }
    ,
    e.prototype.makeActionFromEvent = function(r) {
        var i = G({}, r);
        return i.type = Wn[r.type],
        i
    }
    ,
    e.prototype.dispatchAction = function(r, i) {
        if (this._disposed) {
            this.id;
            return
        }
        if (J(i) || (i = {
            silent: !!i
        }),
        !!Uo[r.type] && !!this._model) {
            if (this[Fe]) {
                this._pendingActions.push(r);
                return
            }
            var n = i.silent;
            Tl.call(this, r, n);
            var a = i.flush;
            a ? this._zr.flush() : a !== !1 && ae.browser.weChat && this._throttledZrFlush(),
            mn.call(this, n),
            yn.call(this, n)
        }
    }
    ,
    e.prototype.updateLabelLayout = function() {
        Mt.trigger("series:layoutlabels", this._model, this._api, {
            updatedSeries: []
        })
    }
    ,
    e.prototype.appendData = function(r) {
        if (this._disposed) {
            this.id;
            return
        }
        var i = r.seriesIndex
          , n = this.getModel()
          , a = n.getSeriesByIndex(i);
        a.appendData(r),
        this._scheduler.unfinished = !0,
        this.getZr().wakeUp()
    }
    ,
    e.internalField = function() {
        Ti = function(f) {
            var c = f._scheduler;
            c.restorePipelines(f._model),
            c.prepareStageTasks(),
            bl(f, !0),
            bl(f, !1),
            c.plan()
        }
        ,
        bl = function(f, c) {
            for (var v = f._model, d = f._scheduler, m = c ? f._componentsViews : f._chartsViews, p = c ? f._componentsMap : f._chartsMap, g = f._zr, y = f._api, _ = 0; _ < m.length; _++)
                m[_].__alive = !1;
            c ? v.eachComponent(function(S, C) {
                S !== "series" && w(C)
            }) : v.eachSeries(w);
            function w(S) {
                var C = S.__requireNewView;
                S.__requireNewView = !1;
                var T = "_ec_" + S.id + "_" + S.type
                  , x = !C && p[T];
                if (!x) {
                    var D = zt(S.type)
                      , A = c ? Kt.getClass(D.main, D.sub) : _r.getClass(D.sub);
                    x = new A,
                    x.init(v, y),
                    p[T] = x,
                    m.push(x),
                    g.add(x.group)
                }
                S.__viewId = x.__id = T,
                x.__alive = !0,
                x.__model = S,
                x.group.__ecComponentInfo = {
                    mainType: S.mainType,
                    index: S.componentIndex
                },
                !c && d.prepareView(x, S, v, y)
            }
            for (var _ = 0; _ < m.length; ) {
                var b = m[_];
                b.__alive ? _++ : (!c && b.renderTask.dispose(),
                g.remove(b.group),
                b.dispose(v, y),
                m.splice(_, 1),
                p[b.__id] === b && delete p[b.__id],
                b.__id = b.group.__ecComponentInfo = null)
            }
        }
        ,
        Xa = function(f, c, v, d, m) {
            var p = f._model;
            if (p.setUpdatePayload(v),
            !d) {
                I([].concat(f._componentsViews).concat(f._chartsViews), b);
                return
            }
            var g = {};
            g[d + "Id"] = v[d + "Id"],
            g[d + "Index"] = v[d + "Index"],
            g[d + "Name"] = v[d + "Name"];
            var y = {
                mainType: d,
                query: g
            };
            m && (y.subType = m);
            var _ = v.excludeSeriesId, w;
            _ != null && (w = le(),
            I(Ye(_), function(S) {
                var C = Vt(S, null);
                C != null && w.set(C, !0)
            })),
            p && p.eachComponent(y, function(S) {
                var C = w && w.get(S.id) != null;
                if (!C)
                    if (Ac(v))
                        if (S instanceof ia)
                            v.type === Jr && !v.notBlur && !S.get(["emphasis", "disabled"]) && kS(S, v, f._api);
                        else {
                            var T = _h(S.mainType, S.componentIndex, v.name, f._api)
                              , x = T.focusSelf
                              , D = T.dispatchers;
                            v.type === Jr && x && !v.notBlur && _u(S.mainType, S.componentIndex, f._api),
                            D && I(D, function(A) {
                                v.type === Jr ? Kn(A) : jn(A)
                            })
                        }
                    else
                        Su(v) && S instanceof ia && (ES(S, v, f._api),
                        Tc(S),
                        st(f))
            }, f),
            p && p.eachComponent(y, function(S) {
                var C = w && w.get(S.id) != null;
                C || b(f[d === "series" ? "_chartsMap" : "_componentsMap"][S.__viewId])
            }, f);
            function b(S) {
                S && S.__alive && S[c] && S[c](S.__model, p, f._api, v)
            }
        }
        ,
        ar = {
            prepareAndUpdate: function(f) {
                Ti(this),
                ar.update.call(this, f, {
                    optionChanged: f.newOption != null
                })
            },
            update: function(f, c) {
                var v = this._model
                  , d = this._api
                  , m = this._zr
                  , p = this._coordSysMgr
                  , g = this._scheduler;
                if (!!v) {
                    v.setUpdatePayload(f),
                    g.restoreData(v, f),
                    g.performSeriesTasks(v),
                    p.create(v, d),
                    g.performDataProcessorTasks(v, f),
                    xl(this, v),
                    p.update(v, d),
                    r(v),
                    g.performVisualTasks(v, f),
                    Ml(this, v, d, f, c);
                    var y = v.get("backgroundColor") || "transparent"
                      , _ = v.get("darkMode");
                    m.setBackgroundColor(y),
                    _ != null && _ !== "auto" && m.setDarkMode(_),
                    Mt.trigger("afterupdate", v, d)
                }
            },
            updateTransform: function(f) {
                var c = this
                  , v = this._model
                  , d = this._api;
                if (!!v) {
                    v.setUpdatePayload(f);
                    var m = [];
                    v.eachComponent(function(g, y) {
                        if (g !== "series") {
                            var _ = c.getViewOfComponentModel(y);
                            if (_ && _.__alive)
                                if (_.updateTransform) {
                                    var w = _.updateTransform(y, v, d, f);
                                    w && w.update && m.push(_)
                                } else
                                    m.push(_)
                        }
                    });
                    var p = le();
                    v.eachSeries(function(g) {
                        var y = c._chartsMap[g.__viewId];
                        if (y.updateTransform) {
                            var _ = y.updateTransform(g, v, d, f);
                            _ && _.update && p.set(g.uid, 1)
                        } else
                            p.set(g.uid, 1)
                    }),
                    r(v),
                    this._scheduler.performVisualTasks(v, f, {
                        setDirty: !0,
                        dirtyMap: p
                    }),
                    qa(this, v, d, f, {}, p),
                    Mt.trigger("afterupdate", v, d)
                }
            },
            updateView: function(f) {
                var c = this._model;
                !c || (c.setUpdatePayload(f),
                _r.markUpdateMethod(f, "updateView"),
                r(c),
                this._scheduler.performVisualTasks(c, f, {
                    setDirty: !0
                }),
                Ml(this, c, this._api, f, {}),
                Mt.trigger("afterupdate", c, this._api))
            },
            updateVisual: function(f) {
                var c = this
                  , v = this._model;
                !v || (v.setUpdatePayload(f),
                v.eachSeries(function(d) {
                    d.getData().clearAllVisual()
                }),
                _r.markUpdateMethod(f, "updateVisual"),
                r(v),
                this._scheduler.performVisualTasks(v, f, {
                    visualType: "visual",
                    setDirty: !0
                }),
                v.eachComponent(function(d, m) {
                    if (d !== "series") {
                        var p = c.getViewOfComponentModel(m);
                        p && p.__alive && p.updateVisual(m, v, c._api, f)
                    }
                }),
                v.eachSeries(function(d) {
                    var m = c._chartsMap[d.__viewId];
                    m.updateVisual(d, v, c._api, f)
                }),
                Mt.trigger("afterupdate", v, this._api))
            },
            updateLayout: function(f) {
                ar.update.call(this, f)
            }
        },
        Cl = function(f, c, v, d) {
            if (f._disposed) {
                f.id;
                return
            }
            for (var m = f._model, p = f._coordSysMgr.getCoordinateSystems(), g, y = Ys(m, v), _ = 0; _ < p.length; _++) {
                var w = p[_];
                if (w[c] && (g = w[c](m, y, d)) != null)
                    return g
            }
        }
        ,
        xl = function(f, c) {
            var v = f._chartsMap
              , d = f._scheduler;
            c.eachSeries(function(m) {
                d.updateStreamModes(m, v[m.__viewId])
            })
        }
        ,
        Tl = function(f, c) {
            var v = this
              , d = this.getModel()
              , m = f.type
              , p = f.escapeConnect
              , g = Uo[m]
              , y = g.actionInfo
              , _ = (y.update || "update").split(":")
              , w = _.pop()
              , b = _[0] != null && zt(_[0]);
            this[Fe] = !0;
            var S = [f]
              , C = !1;
            f.batch && (C = !0,
            S = ee(f.batch, function(E) {
                return E = me(G({}, E), f),
                E.batch = null,
                E
            }));
            var T = [], x, D = Su(f), A = Ac(f);
            if (A && wg(this._api),
            I(S, function(E) {
                if (x = g.action(E, v._model, v._api),
                x = x || G({}, E),
                x.type = y.event || x.type,
                T.push(x),
                A) {
                    var O = vh(f)
                      , B = O.queryOptionMap
                      , te = O.mainTypeSpecified
                      , W = te ? B.keys()[0] : "series";
                    Xa(v, w, E, W),
                    st(v)
                } else
                    D ? (Xa(v, w, E, "series"),
                    st(v)) : b && Xa(v, w, E, b.main, b.sub)
            }),
            w !== "none" && !A && !D && !b)
                try {
                    this[Ze] ? (Ti(this),
                    ar.update.call(this, f),
                    this[Ze] = null) : ar[w].call(this, f)
                } catch (E) {
                    throw this[Fe] = !1,
                    E
                }
            if (C ? x = {
                type: y.event || m,
                escapeConnect: p,
                batch: T
            } : x = T[0],
            this[Fe] = !1,
            !c) {
                var k = this._messageCenter;
                if (k.trigger(x.type, x),
                D) {
                    var P = {
                        type: "selectchanged",
                        escapeConnect: p,
                        selected: RS(d),
                        isFromClick: f.isFromClick || !1,
                        fromAction: f.type,
                        fromActionPayload: f
                    };
                    k.trigger(P.type, P)
                }
            }
        }
        ,
        mn = function(f) {
            for (var c = this._pendingActions; c.length; ) {
                var v = c.shift();
                Tl.call(this, v, f)
            }
        }
        ,
        yn = function(f) {
            !f && this.trigger("updated")
        }
        ,
        $v = function(f, c) {
            f.on("rendered", function(v) {
                c.trigger("rendered", v),
                f.animation.isFinished() && !c[Ze] && !c._scheduler.unfinished && !c._pendingActions.length && c.trigger("finished")
            })
        }
        ,
        Yv = function(f, c) {
            f.on("mouseover", function(v) {
                var d = v.target
                  , m = En(d, wu);
                m && (LS(m, v, c._api),
                st(c))
            }).on("mouseout", function(v) {
                var d = v.target
                  , m = En(d, wu);
                m && (PS(m, v, c._api),
                st(c))
            }).on("click", function(v) {
                var d = v.target
                  , m = En(d, function(y) {
                    return de(y).dataIndex != null
                }, !0);
                if (m) {
                    var p = m.selected ? "unselect" : "select"
                      , g = de(m);
                    c._api.dispatchAction({
                        type: p,
                        dataType: g.dataType,
                        dataIndexInside: g.dataIndex,
                        seriesIndex: g.seriesIndex,
                        isFromClick: !0
                    })
                }
            })
        }
        ;
        function r(f) {
            f.clearColorPalette(),
            f.eachSeries(function(c) {
                c.clearColorPalette()
            })
        }
        function i(f) {
            var c = []
              , v = []
              , d = !1;
            if (f.eachComponent(function(y, _) {
                var w = _.get("zlevel") || 0
                  , b = _.get("z") || 0
                  , S = _.getZLevelKey();
                d = d || !!S,
                (y === "series" ? v : c).push({
                    zlevel: w,
                    z: b,
                    idx: _.componentIndex,
                    type: y,
                    key: S
                })
            }),
            d) {
                var m = c.concat(v), p, g;
                uo(m, function(y, _) {
                    return y.zlevel === _.zlevel ? y.z - _.z : y.zlevel - _.zlevel
                }),
                I(m, function(y) {
                    var _ = f.getComponent(y.type, y.idx)
                      , w = y.zlevel
                      , b = y.key;
                    p != null && (w = Math.max(p, w)),
                    b ? (w === p && b !== g && w++,
                    g = b) : g && (w === p && w++,
                    g = ""),
                    p = w,
                    _.setZLevel(w)
                })
            }
        }
        Ml = function(f, c, v, d, m) {
            i(c),
            Xv(f, c, v, d, m),
            I(f._chartsViews, function(p) {
                p.__alive = !1
            }),
            qa(f, c, v, d, m),
            I(f._chartsViews, function(p) {
                p.__alive || p.remove(c, v)
            })
        }
        ,
        Xv = function(f, c, v, d, m, p) {
            I(p || f._componentsViews, function(g) {
                var y = g.__model;
                u(y, g),
                g.render(y, c, v, d),
                s(y, g),
                h(y, g)
            })
        }
        ,
        qa = function(f, c, v, d, m, p) {
            var g = f._scheduler;
            m = G(m || {}, {
                updatedSeries: c.getSeries()
            }),
            Mt.trigger("series:beforeupdate", c, v, m);
            var y = !1;
            c.eachSeries(function(_) {
                var w = f._chartsMap[_.__viewId];
                w.__alive = !0;
                var b = w.renderTask;
                g.updatePayload(b, d),
                u(_, w),
                p && p.get(_.uid) && b.dirty(),
                b.perform(g.getPerformArgs(b)) && (y = !0),
                w.group.silent = !!_.get("silent"),
                o(_, w),
                Tc(_)
            }),
            g.unfinished = y || g.unfinished,
            Mt.trigger("series:layoutlabels", c, v, m),
            Mt.trigger("series:transition", c, v, m),
            c.eachSeries(function(_) {
                var w = f._chartsMap[_.__viewId];
                s(_, w),
                h(_, w)
            }),
            a(f, c),
            Mt.trigger("series:afterupdate", c, v, m)
        }
        ,
        st = function(f) {
            f[wl] = !0,
            f.getZr().wakeUp()
        }
        ,
        Zv = function(f) {
            !f[wl] || (f.getZr().storage.traverse(function(c) {
                Vn(c) || n(c)
            }),
            f[wl] = !1)
        }
        ;
        function n(f) {
            for (var c = [], v = f.currentStates, d = 0; d < v.length; d++) {
                var m = v[d];
                m === "emphasis" || m === "blur" || m === "select" || c.push(m)
            }
            f.selected && f.states.select && c.push("select"),
            f.hoverState === ts && f.states.emphasis ? c.push("emphasis") : f.hoverState === es && f.states.blur && c.push("blur"),
            f.useStates(c)
        }
        function a(f, c) {
            var v = f._zr
              , d = v.storage
              , m = 0;
            d.traverse(function(p) {
                p.isGroup || m++
            }),
            m > c.get("hoverLayerThreshold") && !ae.node && !ae.worker && c.eachSeries(function(p) {
                if (!p.preventUsingHoverLayer) {
                    var g = f._chartsMap[p.__viewId];
                    g.__alive && g.eachRendered(function(y) {
                        y.states.emphasis && (y.states.emphasis.hoverLayer = !0)
                    })
                }
            })
        }
        function o(f, c) {
            var v = f.get("blendMode") || null;
            c.eachRendered(function(d) {
                d.isGroup || (d.style.blend = v)
            })
        }
        function s(f, c) {
            if (!f.preventAutoZ) {
                var v = f.get("z") || 0
                  , d = f.get("zlevel") || 0;
                c.eachRendered(function(m) {
                    return l(m, v, d, -1 / 0),
                    !0
                })
            }
        }
        function l(f, c, v, d) {
            var m = f.getTextContent()
              , p = f.getTextGuideLine()
              , g = f.isGroup;
            if (g)
                for (var y = f.childrenRef(), _ = 0; _ < y.length; _++)
                    d = Math.max(l(y[_], c, v, d), d);
            else
                f.z = c,
                f.zlevel = v,
                d = Math.max(f.z2, d);
            if (m && (m.z = c,
            m.zlevel = v,
            isFinite(d) && (m.z2 = d + 2)),
            p) {
                var w = f.textGuideLineConfig;
                p.z = c,
                p.zlevel = v,
                isFinite(d) && (p.z2 = d + (w && w.showAbove ? 1 : -1))
            }
            return d
        }
        function u(f, c) {
            c.eachRendered(function(v) {
                if (!Vn(v)) {
                    var d = v.getTextContent()
                      , m = v.getTextGuideLine();
                    v.stateTransition && (v.stateTransition = null),
                    d && d.stateTransition && (d.stateTransition = null),
                    m && m.stateTransition && (m.stateTransition = null),
                    v.hasState() ? (v.prevStates = v.currentStates,
                    v.clearStates()) : v.prevStates && (v.prevStates = null)
                }
            })
        }
        function h(f, c) {
            var v = f.getModel("stateAnimation")
              , d = f.isAnimationEnabled()
              , m = v.get("duration")
              , p = m > 0 ? {
                duration: m,
                delay: v.get("delay"),
                easing: v.get("easing")
            } : null;
            c.eachRendered(function(g) {
                if (g.states && g.states.emphasis) {
                    if (Vn(g))
                        return;
                    if (g instanceof ye && VS(g),
                    g.__dirty) {
                        var y = g.prevStates;
                        y && g.useStates(y)
                    }
                    if (d) {
                        g.stateTransition = p;
                        var _ = g.getTextContent()
                          , w = g.getTextGuideLine();
                        _ && (_.stateTransition = p),
                        w && (w.stateTransition = p)
                    }
                    g.__dirty && n(g)
                }
            })
        }
        qv = function(f) {
            return new (function(c) {
                X(v, c);
                function v() {
                    return c !== null && c.apply(this, arguments) || this
                }
                return v.prototype.getCoordinateSystems = function() {
                    return f._coordSysMgr.getCoordinateSystems()
                }
                ,
                v.prototype.getComponentByElement = function(d) {
                    for (; d; ) {
                        var m = d.__ecComponentInfo;
                        if (m != null)
                            return f._model.getComponent(m.mainType, m.index);
                        d = d.parent
                    }
                }
                ,
                v.prototype.enterEmphasis = function(d, m) {
                    Kn(d, m),
                    st(f)
                }
                ,
                v.prototype.leaveEmphasis = function(d, m) {
                    jn(d, m),
                    st(f)
                }
                ,
                v.prototype.enterBlur = function(d) {
                    gg(d),
                    st(f)
                }
                ,
                v.prototype.leaveBlur = function(d) {
                    yh(d),
                    st(f)
                }
                ,
                v.prototype.enterSelect = function(d) {
                    mg(d),
                    st(f)
                }
                ,
                v.prototype.leaveSelect = function(d) {
                    yg(d),
                    st(f)
                }
                ,
                v.prototype.getModel = function() {
                    return f.getModel()
                }
                ,
                v.prototype.getViewOfComponentModel = function(d) {
                    return f.getViewOfComponentModel(d)
                }
                ,
                v.prototype.getViewOfSeriesModel = function(d) {
                    return f.getViewOfSeriesModel(d)
                }
                ,
                v
            }(wm))(f)
        }
        ,
        f0 = function(f) {
            function c(v, d) {
                for (var m = 0; m < v.length; m++) {
                    var p = v[m];
                    p[Sl] = d
                }
            }
            I(Wn, function(v, d) {
                f._messageCenter.on(d, function(m) {
                    if (Kv[f.group] && f[Sl] !== Uv) {
                        if (m && m.escapeConnect)
                            return;
                        var p = f.makeActionFromEvent(m)
                          , g = [];
                        I(Un, function(y) {
                            y !== f && y.group === f.group && g.push(y)
                        }),
                        c(g, Uv),
                        I(g, function(y) {
                            y[Sl] !== XT && y.dispatchAction(p)
                        }),
                        c(g, qT)
                    }
                })
            })
        }
    }(),
    e
}(Ht), qh = c0.prototype;
qh.on = o0("on");
qh.off = o0("off");
qh.one = function(t, e, r) {
    var i = this;
    function n() {
        for (var a = [], o = 0; o < arguments.length; o++)
            a[o] = arguments[o];
        e && e.apply && e.apply(this, a),
        i.off(t, n)
    }
    this.on.call(this, t, n, r)
}
;
var ZT = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
var Uo = {}
  , Wn = {}
  , Ou = []
  , Bu = []
  , $o = []
  , v0 = {}
  , Nu = {}
  , Un = {}
  , Kv = {}
  , KT = +new Date - 0
  , Zh = "_echarts_instance_";
function jT(t, e, r) {
    var i = !(r && r.ssr);
    if (i) {
        var n = QT(t);
        if (n)
            return n
    }
    var a = new c0(t,e,r);
    return a.id = "ec_" + KT++,
    Un[a.id] = a,
    i && jp(t, Zh, a.id),
    f0(a),
    Mt.trigger("afterinit", a),
    a
}
function QT(t) {
    return Un[gw(t, Zh)]
}
function d0(t, e) {
    v0[t] = e
}
function p0(t) {
    pe(Bu, t) < 0 && Bu.push(t)
}
function g0(t, e) {
    jh(Ou, t, e, zT)
}
function JT(t) {
    Kh("afterinit", t)
}
function e5(t) {
    Kh("afterupdate", t)
}
function Kh(t, e) {
    Mt.on(t, e)
}
function Ji(t, e, r) {
    ne(e) && (r = e,
    e = "");
    var i = J(t) ? t.type : [t, t = {
        event: e
    }][0];
    t.event = (t.event || i).toLowerCase(),
    e = t.event,
    !Wn[e] && (qt(Wv.test(i) && Wv.test(e)),
    Uo[i] || (Uo[i] = {
        action: r,
        actionInfo: t
    }),
    Wn[e] = i)
}
function t5(t, e) {
    Nh.register(t, e)
}
function r5(t, e) {
    jh($o, t, e, i0, "layout")
}
function ci(t, e) {
    jh($o, t, e, n0, "visual")
}
var jv = [];
function jh(t, e, r, i, n) {
    if ((ne(e) || J(e)) && (r = e,
    e = i),
    !(pe(jv, r) >= 0)) {
        jv.push(r);
        var a = Ym.wrapStageHandler(r, n);
        a.__prio = e,
        a.__raw = r,
        t.push(a)
    }
}
function m0(t, e) {
    Nu[t] = e
}
function i5(t, e, r) {
    var i = RT("registerMap");
    i && i(t, e, r)
}
var n5 = sx;
ci(Xh, Nx);
ci(ps, Fx);
ci(ps, zx);
ci(Xh, eT);
ci(ps, tT);
ci(a0, LT);
p0(bm);
g0(NT, UC);
m0("default", Vx);
Ji({
    type: Jr,
    event: Jr,
    update: Jr
}, Qe);
Ji({
    type: mo,
    event: mo,
    update: mo
}, Qe);
Ji({
    type: Nn,
    event: Nn,
    update: Nn
}, Qe);
Ji({
    type: yo,
    event: yo,
    update: yo
}, Qe);
Ji({
    type: Fn,
    event: Fn,
    update: Fn
}, Qe);
d0("light", jx);
d0("dark", Qx);
function _n(t) {
    return t == null ? 0 : t.length || 1
}
function Qv(t) {
    return t
}
var a5 = function() {
    function t(e, r, i, n, a, o) {
        this._old = e,
        this._new = r,
        this._oldKeyGetter = i || Qv,
        this._newKeyGetter = n || Qv,
        this.context = a,
        this._diffModeMultiple = o === "multiple"
    }
    return t.prototype.add = function(e) {
        return this._add = e,
        this
    }
    ,
    t.prototype.update = function(e) {
        return this._update = e,
        this
    }
    ,
    t.prototype.updateManyToOne = function(e) {
        return this._updateManyToOne = e,
        this
    }
    ,
    t.prototype.updateOneToMany = function(e) {
        return this._updateOneToMany = e,
        this
    }
    ,
    t.prototype.updateManyToMany = function(e) {
        return this._updateManyToMany = e,
        this
    }
    ,
    t.prototype.remove = function(e) {
        return this._remove = e,
        this
    }
    ,
    t.prototype.execute = function() {
        this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]()
    }
    ,
    t.prototype._executeOneToOne = function() {
        var e = this._old
          , r = this._new
          , i = {}
          , n = new Array(e.length)
          , a = new Array(r.length);
        this._initIndexMap(e, null, n, "_oldKeyGetter"),
        this._initIndexMap(r, i, a, "_newKeyGetter");
        for (var o = 0; o < e.length; o++) {
            var s = n[o]
              , l = i[s]
              , u = _n(l);
            if (u > 1) {
                var h = l.shift();
                l.length === 1 && (i[s] = l[0]),
                this._update && this._update(h, o)
            } else
                u === 1 ? (i[s] = null,
                this._update && this._update(l, o)) : this._remove && this._remove(o)
        }
        this._performRestAdd(a, i)
    }
    ,
    t.prototype._executeMultiple = function() {
        var e = this._old
          , r = this._new
          , i = {}
          , n = {}
          , a = []
          , o = [];
        this._initIndexMap(e, i, a, "_oldKeyGetter"),
        this._initIndexMap(r, n, o, "_newKeyGetter");
        for (var s = 0; s < a.length; s++) {
            var l = a[s]
              , u = i[l]
              , h = n[l]
              , f = _n(u)
              , c = _n(h);
            if (f > 1 && c === 1)
                this._updateManyToOne && this._updateManyToOne(h, u),
                n[l] = null;
            else if (f === 1 && c > 1)
                this._updateOneToMany && this._updateOneToMany(h, u),
                n[l] = null;
            else if (f === 1 && c === 1)
                this._update && this._update(h, u),
                n[l] = null;
            else if (f > 1 && c > 1)
                this._updateManyToMany && this._updateManyToMany(h, u),
                n[l] = null;
            else if (f > 1)
                for (var v = 0; v < f; v++)
                    this._remove && this._remove(u[v]);
            else
                this._remove && this._remove(u)
        }
        this._performRestAdd(o, n)
    }
    ,
    t.prototype._performRestAdd = function(e, r) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i]
              , a = r[n]
              , o = _n(a);
            if (o > 1)
                for (var s = 0; s < o; s++)
                    this._add && this._add(a[s]);
            else
                o === 1 && this._add && this._add(a);
            r[n] = null
        }
    }
    ,
    t.prototype._initIndexMap = function(e, r, i, n) {
        for (var a = this._diffModeMultiple, o = 0; o < e.length; o++) {
            var s = "_ec_" + this[n](e[o], o);
            if (a || (i[o] = s),
            !!r) {
                var l = r[s]
                  , u = _n(l);
                u === 0 ? (r[s] = o,
                a && i.push(s)) : u === 1 ? r[s] = [l, o] : l.push(o)
            }
        }
    }
    ,
    t
}()
  , o5 = a5
  , s5 = function() {
    function t(e, r) {
        this._encode = e,
        this._schema = r
    }
    return t.prototype.get = function() {
        return {
            fullDimensions: this._getFullDimensionNames(),
            encode: this._encode
        }
    }
    ,
    t.prototype._getFullDimensionNames = function() {
        return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []),
        this._cachedDimNames
    }
    ,
    t
}();
function l5(t, e) {
    var r = {}
      , i = r.encode = {}
      , n = le()
      , a = []
      , o = []
      , s = {};
    I(t.dimensions, function(c) {
        var v = t.getDimensionInfo(c)
          , d = v.coordDim;
        if (d) {
            var m = v.coordDimIndex;
            Dl(i, d)[m] = c,
            v.isExtraCoord || (n.set(d, 1),
            h5(v.type) && (a[0] = c),
            Dl(s, d)[m] = t.getDimensionIndex(v.name)),
            v.defaultTooltip && o.push(c)
        }
        vm.each(function(p, g) {
            var y = Dl(i, g)
              , _ = v.otherDims[g];
            _ != null && _ !== !1 && (y[_] = v.name)
        })
    });
    var l = []
      , u = {};
    n.each(function(c, v) {
        var d = i[v];
        u[v] = d[0],
        l = l.concat(d)
    }),
    r.dataDimsOnCoord = l,
    r.dataDimIndicesOnCoord = ee(l, function(c) {
        return t.getDimensionInfo(c).storeDimIndex
    }),
    r.encodeFirstDimNotExtra = u;
    var h = i.label;
    h && h.length && (a = h.slice());
    var f = i.tooltip;
    return f && f.length ? o = f.slice() : o.length || (o = a.slice()),
    i.defaultedLabel = a,
    i.defaultedTooltip = o,
    r.userOutput = new s5(s,e),
    r
}
function Dl(t, e) {
    return t.hasOwnProperty(e) || (t[e] = []),
    t[e]
}
function u5(t) {
    return t === "category" ? "ordinal" : t === "time" ? "time" : "float"
}
function h5(t) {
    return !(t === "ordinal" || t === "time")
}
var f5 = function() {
    function t(e) {
        this.otherDims = {},
        e != null && G(this, e)
    }
    return t
}()
  , So = f5
  , c5 = xe()
  , v5 = {
    float: "f",
    int: "i",
    ordinal: "o",
    number: "n",
    time: "t"
}
  , y0 = function() {
    function t(e) {
        this.dimensions = e.dimensions,
        this._dimOmitted = e.dimensionOmitted,
        this.source = e.source,
        this._fullDimCount = e.fullDimensionCount,
        this._updateDimOmitted(e.dimensionOmitted)
    }
    return t.prototype.isDimensionOmitted = function() {
        return this._dimOmitted
    }
    ,
    t.prototype._updateDimOmitted = function(e) {
        this._dimOmitted = e,
        e && (this._dimNameMap || (this._dimNameMap = S0(this.source)))
    }
    ,
    t.prototype.getSourceDimensionIndex = function(e) {
        return oe(this._dimNameMap.get(e), -1)
    }
    ,
    t.prototype.getSourceDimension = function(e) {
        var r = this.source.dimensionsDefine;
        if (r)
            return r[e]
    }
    ,
    t.prototype.makeStoreSchema = function() {
        for (var e = this._fullDimCount, r = xm(this.source), i = !b0(e), n = "", a = [], o = 0, s = 0; o < e; o++) {
            var l = void 0
              , u = void 0
              , h = void 0
              , f = this.dimensions[s];
            if (f && f.storeDimIndex === o)
                l = r ? f.name : null,
                u = f.type,
                h = f.ordinalMeta,
                s++;
            else {
                var c = this.getSourceDimension(o);
                c && (l = r ? c.name : null,
                u = c.type)
            }
            a.push({
                property: l,
                type: u,
                ordinalMeta: h
            }),
            r && l != null && (!f || !f.isCalculationCoord) && (n += i ? l.replace(/\`/g, "`1").replace(/\$/g, "`2") : l),
            n += "$",
            n += v5[u] || "f",
            h && (n += h.uid),
            n += "$"
        }
        var v = this.source
          , d = [v.seriesLayoutBy, v.startIndex, n].join("$$");
        return {
            dimensions: a,
            hash: d
        }
    }
    ,
    t.prototype.makeOutputDimensionNames = function() {
        for (var e = [], r = 0, i = 0; r < this._fullDimCount; r++) {
            var n = void 0
              , a = this.dimensions[i];
            if (a && a.storeDimIndex === r)
                a.isCalculationCoord || (n = a.name),
                i++;
            else {
                var o = this.getSourceDimension(r);
                o && (n = o.name)
            }
            e.push(n)
        }
        return e
    }
    ,
    t.prototype.appendCalculationDimension = function(e) {
        this.dimensions.push(e),
        e.isCalculationCoord = !0,
        this._fullDimCount++,
        this._updateDimOmitted(!0)
    }
    ,
    t
}();
function _0(t) {
    return t instanceof y0
}
function w0(t) {
    for (var e = le(), r = 0; r < (t || []).length; r++) {
        var i = t[r]
          , n = J(i) ? i.name : i;
        n != null && e.get(n) == null && e.set(n, r)
    }
    return e
}
function S0(t) {
    var e = c5(t);
    return e.dimNameMap || (e.dimNameMap = w0(t.dimensionsDefine))
}
function b0(t) {
    return t > 30
}
var wn = J, or = ee, d5 = typeof Int32Array == "undefined" ? Array : Int32Array, p5 = "e\0\0", Jv = -1, g5 = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], m5 = ["_approximateExtent"], ed, Za, Sn, bn, Al, Ka, Il, y5 = function() {
    function t(e, r) {
        this.type = "list",
        this._dimOmitted = !1,
        this._nameList = [],
        this._idList = [],
        this._visual = {},
        this._layout = {},
        this._itemVisuals = [],
        this._itemLayouts = [],
        this._graphicEls = [],
        this._approximateExtent = {},
        this._calculationInfo = {},
        this.hasItemOption = !1,
        this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"],
        this.CHANGABLE_METHODS = ["filterSelf", "selectRange"],
        this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"];
        var i, n = !1;
        _0(e) ? (i = e.dimensions,
        this._dimOmitted = e.isDimensionOmitted(),
        this._schema = e) : (n = !0,
        i = e),
        i = i || ["x", "y"];
        for (var a = {}, o = [], s = {}, l = !1, u = {}, h = 0; h < i.length; h++) {
            var f = i[h]
              , c = Q(f) ? new So({
                name: f
            }) : f instanceof So ? f : new So(f)
              , v = c.name;
            c.type = c.type || "float",
            c.coordDim || (c.coordDim = v,
            c.coordDimIndex = 0);
            var d = c.otherDims = c.otherDims || {};
            o.push(v),
            a[v] = c,
            u[v] != null && (l = !0),
            c.createInvertedIndices && (s[v] = []),
            d.itemName === 0 && (this._nameDimIdx = h),
            d.itemId === 0 && (this._idDimIdx = h),
            n && (c.storeDimIndex = h)
        }
        if (this.dimensions = o,
        this._dimInfos = a,
        this._initGetDimensionInfo(l),
        this.hostModel = r,
        this._invertedIndicesMap = s,
        this._dimOmitted) {
            var m = this._dimIdxToName = le();
            I(o, function(p) {
                m.set(a[p].storeDimIndex, p)
            })
        }
    }
    return t.prototype.getDimension = function(e) {
        var r = this._recognizeDimIndex(e);
        if (r == null)
            return e;
        if (r = e,
        !this._dimOmitted)
            return this.dimensions[r];
        var i = this._dimIdxToName.get(r);
        if (i != null)
            return i;
        var n = this._schema.getSourceDimension(r);
        if (n)
            return n.name
    }
    ,
    t.prototype.getDimensionIndex = function(e) {
        var r = this._recognizeDimIndex(e);
        if (r != null)
            return r;
        if (e == null)
            return -1;
        var i = this._getDimInfo(e);
        return i ? i.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(e) : -1
    }
    ,
    t.prototype._recognizeDimIndex = function(e) {
        if (be(e) || e != null && !isNaN(e) && !this._getDimInfo(e) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(e) < 0))
            return +e
    }
    ,
    t.prototype._getStoreDimIndex = function(e) {
        var r = this.getDimensionIndex(e);
        return r
    }
    ,
    t.prototype.getDimensionInfo = function(e) {
        return this._getDimInfo(this.getDimension(e))
    }
    ,
    t.prototype._initGetDimensionInfo = function(e) {
        var r = this._dimInfos;
        this._getDimInfo = e ? function(i) {
            return r.hasOwnProperty(i) ? r[i] : void 0
        }
        : function(i) {
            return r[i]
        }
    }
    ,
    t.prototype.getDimensionsOnCoord = function() {
        return this._dimSummary.dataDimsOnCoord.slice()
    }
    ,
    t.prototype.mapDimension = function(e, r) {
        var i = this._dimSummary;
        if (r == null)
            return i.encodeFirstDimNotExtra[e];
        var n = i.encode[e];
        return n ? n[r] : null
    }
    ,
    t.prototype.mapDimensionsAll = function(e) {
        var r = this._dimSummary
          , i = r.encode[e];
        return (i || []).slice()
    }
    ,
    t.prototype.getStore = function() {
        return this._store
    }
    ,
    t.prototype.initData = function(e, r, i) {
        var n = this, a;
        if (e instanceof Mu && (a = e),
        !a) {
            var o = this.dimensions
              , s = Fh(e) || et(e) ? new Tm(e,o.length) : e;
            a = new Mu;
            var l = or(o, function(u) {
                return {
                    type: n._dimInfos[u].type,
                    property: u
                }
            });
            a.initData(s, l, i)
        }
        this._store = a,
        this._nameList = (r || []).slice(),
        this._idList = [],
        this._nameRepeatCount = {},
        this._doInit(0, a.count()),
        this._dimSummary = l5(this, this._schema),
        this.userOutput = this._dimSummary.userOutput
    }
    ,
    t.prototype.appendData = function(e) {
        var r = this._store.appendData(e);
        this._doInit(r[0], r[1])
    }
    ,
    t.prototype.appendValues = function(e, r) {
        var i = this._store.appendValues(e, r.length)
          , n = i.start
          , a = i.end
          , o = this._shouldMakeIdFromName();
        if (this._updateOrdinalMeta(),
        r)
            for (var s = n; s < a; s++) {
                var l = s - n;
                this._nameList[s] = r[l],
                o && Il(this, s)
            }
    }
    ,
    t.prototype._updateOrdinalMeta = function() {
        for (var e = this._store, r = this.dimensions, i = 0; i < r.length; i++) {
            var n = this._dimInfos[r[i]];
            n.ordinalMeta && e.collectOrdinalMeta(n.storeDimIndex, n.ordinalMeta)
        }
    }
    ,
    t.prototype._shouldMakeIdFromName = function() {
        var e = this._store.getProvider();
        return this._idDimIdx == null && e.getSource().sourceFormat !== yr && !e.fillStorage
    }
    ,
    t.prototype._doInit = function(e, r) {
        if (!(e >= r)) {
            var i = this._store
              , n = i.getProvider();
            this._updateOrdinalMeta();
            var a = this._nameList
              , o = this._idList
              , s = n.getSource().sourceFormat
              , l = s === St;
            if (l && !n.pure)
                for (var u = [], h = e; h < r; h++) {
                    var f = n.getItem(h, u);
                    if (!this.hasItemOption && aw(f) && (this.hasItemOption = !0),
                    f) {
                        var c = f.name;
                        a[h] == null && c != null && (a[h] = Vt(c, null));
                        var v = f.id;
                        o[h] == null && v != null && (o[h] = Vt(v, null))
                    }
                }
            if (this._shouldMakeIdFromName())
                for (var h = e; h < r; h++)
                    Il(this, h);
            ed(this)
        }
    }
    ,
    t.prototype.getApproximateExtent = function(e) {
        return this._approximateExtent[e] || this._store.getDataExtent(this._getStoreDimIndex(e))
    }
    ,
    t.prototype.setApproximateExtent = function(e, r) {
        r = this.getDimension(r),
        this._approximateExtent[r] = e.slice()
    }
    ,
    t.prototype.getCalculationInfo = function(e) {
        return this._calculationInfo[e]
    }
    ,
    t.prototype.setCalculationInfo = function(e, r) {
        wn(e) ? G(this._calculationInfo, e) : this._calculationInfo[e] = r
    }
    ,
    t.prototype.getName = function(e) {
        var r = this.getRawIndex(e)
          , i = this._nameList[r];
        return i == null && this._nameDimIdx != null && (i = Sn(this, this._nameDimIdx, r)),
        i == null && (i = ""),
        i
    }
    ,
    t.prototype._getCategory = function(e, r) {
        var i = this._store.get(e, r)
          , n = this._store.getOrdinalMeta(e);
        return n ? n.categories[i] : i
    }
    ,
    t.prototype.getId = function(e) {
        return Za(this, this.getRawIndex(e))
    }
    ,
    t.prototype.count = function() {
        return this._store.count()
    }
    ,
    t.prototype.get = function(e, r) {
        var i = this._store
          , n = this._dimInfos[e];
        if (n)
            return i.get(n.storeDimIndex, r)
    }
    ,
    t.prototype.getByRawIndex = function(e, r) {
        var i = this._store
          , n = this._dimInfos[e];
        if (n)
            return i.getByRawIndex(n.storeDimIndex, r)
    }
    ,
    t.prototype.getIndices = function() {
        return this._store.getIndices()
    }
    ,
    t.prototype.getDataExtent = function(e) {
        return this._store.getDataExtent(this._getStoreDimIndex(e))
    }
    ,
    t.prototype.getSum = function(e) {
        return this._store.getSum(this._getStoreDimIndex(e))
    }
    ,
    t.prototype.getMedian = function(e) {
        return this._store.getMedian(this._getStoreDimIndex(e))
    }
    ,
    t.prototype.getValues = function(e, r) {
        var i = this
          , n = this._store;
        return Y(e) ? n.getValues(or(e, function(a) {
            return i._getStoreDimIndex(a)
        }), r) : n.getValues(e)
    }
    ,
    t.prototype.hasValue = function(e) {
        for (var r = this._dimSummary.dataDimIndicesOnCoord, i = 0, n = r.length; i < n; i++)
            if (isNaN(this._store.get(r[i], e)))
                return !1;
        return !0
    }
    ,
    t.prototype.indexOfName = function(e) {
        for (var r = 0, i = this._store.count(); r < i; r++)
            if (this.getName(r) === e)
                return r;
        return -1
    }
    ,
    t.prototype.getRawIndex = function(e) {
        return this._store.getRawIndex(e)
    }
    ,
    t.prototype.indexOfRawIndex = function(e) {
        return this._store.indexOfRawIndex(e)
    }
    ,
    t.prototype.rawIndexOf = function(e, r) {
        var i = e && this._invertedIndicesMap[e]
          , n = i[r];
        return n == null || isNaN(n) ? Jv : n
    }
    ,
    t.prototype.indicesOfNearest = function(e, r, i) {
        return this._store.indicesOfNearest(this._getStoreDimIndex(e), r, i)
    }
    ,
    t.prototype.each = function(e, r, i) {
        ne(e) && (i = r,
        r = e,
        e = []);
        var n = i || this
          , a = or(bn(e), this._getStoreDimIndex, this);
        this._store.each(a, n ? Ce(r, n) : r)
    }
    ,
    t.prototype.filterSelf = function(e, r, i) {
        ne(e) && (i = r,
        r = e,
        e = []);
        var n = i || this
          , a = or(bn(e), this._getStoreDimIndex, this);
        return this._store = this._store.filter(a, n ? Ce(r, n) : r),
        this
    }
    ,
    t.prototype.selectRange = function(e) {
        var r = this
          , i = {}
          , n = Se(e);
        return I(n, function(a) {
            var o = r._getStoreDimIndex(a);
            i[o] = e[a]
        }),
        this._store = this._store.selectRange(i),
        this
    }
    ,
    t.prototype.mapArray = function(e, r, i) {
        ne(e) && (i = r,
        r = e,
        e = []),
        i = i || this;
        var n = [];
        return this.each(e, function() {
            n.push(r && r.apply(this, arguments))
        }, i),
        n
    }
    ,
    t.prototype.map = function(e, r, i, n) {
        var a = i || n || this
          , o = or(bn(e), this._getStoreDimIndex, this)
          , s = Ka(this);
        return s._store = this._store.map(o, a ? Ce(r, a) : r),
        s
    }
    ,
    t.prototype.modify = function(e, r, i, n) {
        var a = i || n || this
          , o = or(bn(e), this._getStoreDimIndex, this);
        this._store.modify(o, a ? Ce(r, a) : r)
    }
    ,
    t.prototype.downSample = function(e, r, i, n) {
        var a = Ka(this);
        return a._store = this._store.downSample(this._getStoreDimIndex(e), r, i, n),
        a
    }
    ,
    t.prototype.lttbDownSample = function(e, r) {
        var i = Ka(this);
        return i._store = this._store.lttbDownSample(this._getStoreDimIndex(e), r),
        i
    }
    ,
    t.prototype.getRawDataItem = function(e) {
        return this._store.getRawDataItem(e)
    }
    ,
    t.prototype.getItemModel = function(e) {
        var r = this.hostModel
          , i = this.getRawDataItem(e);
        return new $e(i,r,r && r.ecModel)
    }
    ,
    t.prototype.diff = function(e) {
        var r = this;
        return new o5(e ? e.getStore().getIndices() : [],this.getStore().getIndices(),function(i) {
            return Za(e, i)
        }
        ,function(i) {
            return Za(r, i)
        }
        )
    }
    ,
    t.prototype.getVisual = function(e) {
        var r = this._visual;
        return r && r[e]
    }
    ,
    t.prototype.setVisual = function(e, r) {
        this._visual = this._visual || {},
        wn(e) ? G(this._visual, e) : this._visual[e] = r
    }
    ,
    t.prototype.getItemVisual = function(e, r) {
        var i = this._itemVisuals[e]
          , n = i && i[r];
        return n == null ? this.getVisual(r) : n
    }
    ,
    t.prototype.hasItemVisual = function() {
        return this._itemVisuals.length > 0
    }
    ,
    t.prototype.ensureUniqueItemVisual = function(e, r) {
        var i = this._itemVisuals
          , n = i[e];
        n || (n = i[e] = {});
        var a = n[r];
        return a == null && (a = this.getVisual(r),
        Y(a) ? a = a.slice() : wn(a) && (a = G({}, a)),
        n[r] = a),
        a
    }
    ,
    t.prototype.setItemVisual = function(e, r, i) {
        var n = this._itemVisuals[e] || {};
        this._itemVisuals[e] = n,
        wn(r) ? G(n, r) : n[r] = i
    }
    ,
    t.prototype.clearAllVisual = function() {
        this._visual = {},
        this._itemVisuals = []
    }
    ,
    t.prototype.setLayout = function(e, r) {
        wn(e) ? G(this._layout, e) : this._layout[e] = r
    }
    ,
    t.prototype.getLayout = function(e) {
        return this._layout[e]
    }
    ,
    t.prototype.getItemLayout = function(e) {
        return this._itemLayouts[e]
    }
    ,
    t.prototype.setItemLayout = function(e, r, i) {
        this._itemLayouts[e] = i ? G(this._itemLayouts[e] || {}, r) : r
    }
    ,
    t.prototype.clearItemLayouts = function() {
        this._itemLayouts.length = 0
    }
    ,
    t.prototype.setItemGraphicEl = function(e, r) {
        var i = this.hostModel && this.hostModel.seriesIndex;
        wS(i, this.dataType, e, r),
        this._graphicEls[e] = r
    }
    ,
    t.prototype.getItemGraphicEl = function(e) {
        return this._graphicEls[e]
    }
    ,
    t.prototype.eachItemGraphicEl = function(e, r) {
        I(this._graphicEls, function(i, n) {
            i && e && e.call(r, i, n)
        })
    }
    ,
    t.prototype.cloneShallow = function(e) {
        return e || (e = new t(this._schema ? this._schema : or(this.dimensions, this._getDimInfo, this),this.hostModel)),
        Al(e, this),
        e._store = this._store,
        e
    }
    ,
    t.prototype.wrapMethod = function(e, r) {
        var i = this[e];
        !ne(i) || (this.__wrappedMethods = this.__wrappedMethods || [],
        this.__wrappedMethods.push(e),
        this[e] = function() {
            var n = i.apply(this, arguments);
            return r.apply(this, [n].concat(eh(arguments)))
        }
        )
    }
    ,
    t.internalField = function() {
        ed = function(e) {
            var r = e._invertedIndicesMap;
            I(r, function(i, n) {
                var a = e._dimInfos[n]
                  , o = a.ordinalMeta
                  , s = e._store;
                if (o) {
                    i = r[n] = new d5(o.categories.length);
                    for (var l = 0; l < i.length; l++)
                        i[l] = Jv;
                    for (var l = 0; l < s.count(); l++)
                        i[s.get(a.storeDimIndex, l)] = l
                }
            })
        }
        ,
        Sn = function(e, r, i) {
            return Vt(e._getCategory(r, i), null)
        }
        ,
        Za = function(e, r) {
            var i = e._idList[r];
            return i == null && e._idDimIdx != null && (i = Sn(e, e._idDimIdx, r)),
            i == null && (i = p5 + r),
            i
        }
        ,
        bn = function(e) {
            return Y(e) || (e = e != null ? [e] : []),
            e
        }
        ,
        Ka = function(e) {
            var r = new t(e._schema ? e._schema : or(e.dimensions, e._getDimInfo, e),e.hostModel);
            return Al(r, e),
            r
        }
        ,
        Al = function(e, r) {
            I(g5.concat(r.__wrappedMethods || []), function(i) {
                r.hasOwnProperty(i) && (e[i] = r[i])
            }),
            e.__wrappedMethods = r.__wrappedMethods,
            I(m5, function(i) {
                e[i] = ue(r[i])
            }),
            e._calculationInfo = G({}, r._calculationInfo)
        }
        ,
        Il = function(e, r) {
            var i = e._nameList
              , n = e._idList
              , a = e._nameDimIdx
              , o = e._idDimIdx
              , s = i[r]
              , l = n[r];
            if (s == null && a != null && (i[r] = s = Sn(e, a, r)),
            l == null && o != null && (n[r] = l = Sn(e, o, r)),
            l == null && s != null) {
                var u = e._nameRepeatCount
                  , h = u[s] = (u[s] || 0) + 1;
                l = s,
                h > 1 && (l += "__ec__" + h),
                n[r] = l
            }
        }
    }(),
    t
}(), bo = y5;
function _5(t, e) {
    Fh(t) || (t = zh(t)),
    e = e || {};
    var r = e.coordDimensions || []
      , i = e.dimensionsDefine || t.dimensionsDefine || []
      , n = le()
      , a = []
      , o = S5(t, r, i, e.dimensionsCount)
      , s = e.canOmitUnusedDimensions && b0(o)
      , l = i === t.dimensionsDefine
      , u = l ? S0(t) : w0(i)
      , h = e.encodeDefine;
    !h && e.encodeDefaulter && (h = e.encodeDefaulter(t, o));
    for (var f = le(h), c = new km(o), v = 0; v < c.length; v++)
        c[v] = -1;
    function d(x) {
        var D = c[x];
        if (D < 0) {
            var A = i[x]
              , k = J(A) ? A : {
                name: A
            }
              , P = new So
              , E = k.name;
            E != null && u.get(E) != null && (P.name = P.displayName = E),
            k.type != null && (P.type = k.type),
            k.displayName != null && (P.displayName = k.displayName);
            var O = a.length;
            return c[x] = O,
            P.storeDimIndex = x,
            a.push(P),
            P
        }
        return a[D]
    }
    if (!s)
        for (var v = 0; v < o; v++)
            d(v);
    f.each(function(x, D) {
        var A = Ye(x).slice();
        if (A.length === 1 && !Q(A[0]) && A[0] < 0) {
            f.set(D, !1);
            return
        }
        var k = f.set(D, []);
        I(A, function(P, E) {
            var O = Q(P) ? u.get(P) : P;
            O != null && O < o && (k[E] = O,
            p(d(O), D, E))
        })
    });
    var m = 0;
    I(r, function(x) {
        var D, A, k, P;
        if (Q(x))
            D = x,
            P = {};
        else {
            P = x,
            D = P.name;
            var E = P.ordinalMeta;
            P.ordinalMeta = null,
            P = G({}, P),
            P.ordinalMeta = E,
            A = P.dimsDef,
            k = P.otherDims,
            P.name = P.coordDim = P.coordDimIndex = P.dimsDef = P.otherDims = null
        }
        var O = f.get(D);
        if (O !== !1) {
            if (O = Ye(O),
            !O.length)
                for (var B = 0; B < (A && A.length || 1); B++) {
                    for (; m < o && d(m).coordDim != null; )
                        m++;
                    m < o && O.push(m++)
                }
            I(O, function(te, W) {
                var Z = d(te);
                if (l && P.type != null && (Z.type = P.type),
                p(me(Z, P), D, W),
                Z.name == null && A) {
                    var re = A[W];
                    !J(re) && (re = {
                        name: re
                    }),
                    Z.name = Z.displayName = re.name,
                    Z.defaultTooltip = re.defaultTooltip
                }
                k && me(Z.otherDims, k)
            })
        }
    });
    function p(x, D, A) {
        vm.get(D) != null ? x.otherDims[D] = A : (x.coordDim = D,
        x.coordDimIndex = A,
        n.set(D, !0))
    }
    var g = e.generateCoord
      , y = e.generateCoordCount
      , _ = y != null;
    y = g ? y || 1 : 0;
    var w = g || "value";
    function b(x) {
        x.name == null && (x.name = x.coordDim)
    }
    if (s)
        I(a, function(x) {
            b(x)
        }),
        a.sort(function(x, D) {
            return x.storeDimIndex - D.storeDimIndex
        });
    else
        for (var S = 0; S < o; S++) {
            var C = d(S)
              , T = C.coordDim;
            T == null && (C.coordDim = b5(w, n, _),
            C.coordDimIndex = 0,
            (!g || y <= 0) && (C.isExtraCoord = !0),
            y--),
            b(C),
            C.type == null && (mm(t, S) === it.Must || C.isExtraCoord && (C.otherDims.itemName != null || C.otherDims.seriesName != null)) && (C.type = "ordinal")
        }
    return w5(a),
    new y0({
        source: t,
        dimensions: a,
        fullDimensionCount: o,
        dimensionOmitted: s
    })
}
function w5(t) {
    for (var e = le(), r = 0; r < t.length; r++) {
        var i = t[r]
          , n = i.name
          , a = e.get(n) || 0;
        a > 0 && (i.name = n + (a - 1)),
        a++,
        e.set(n, a)
    }
}
function S5(t, e, r, i) {
    var n = Math.max(t.dimensionsDetectedCount || 1, e.length, r.length, i || 0);
    return I(e, function(a) {
        var o;
        J(a) && (o = a.dimsDef) && (n = Math.max(n, o.length))
    }),
    n
}
function b5(t, e, r) {
    if (r || e.hasKey(t)) {
        for (var i = 0; e.hasKey(t + i); )
            i++;
        t += i
    }
    return e.set(t, !0),
    t
}
var C5 = function() {
    function t(e) {
        this.coordSysDims = [],
        this.axisMap = le(),
        this.categoryAxisMap = le(),
        this.coordSysName = e
    }
    return t
}();
function x5(t) {
    var e = t.get("coordinateSystem")
      , r = new C5(e)
      , i = T5[e];
    if (i)
        return i(t, r, r.axisMap, r.categoryAxisMap),
        r
}
var T5 = {
    cartesian2d: function(t, e, r, i) {
        var n = t.getReferringComponents("xAxis", At).models[0]
          , a = t.getReferringComponents("yAxis", At).models[0];
        e.coordSysDims = ["x", "y"],
        r.set("x", n),
        r.set("y", a),
        Mi(n) && (i.set("x", n),
        e.firstCategoryDimIndex = 0),
        Mi(a) && (i.set("y", a),
        e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1))
    },
    singleAxis: function(t, e, r, i) {
        var n = t.getReferringComponents("singleAxis", At).models[0];
        e.coordSysDims = ["single"],
        r.set("single", n),
        Mi(n) && (i.set("single", n),
        e.firstCategoryDimIndex = 0)
    },
    polar: function(t, e, r, i) {
        var n = t.getReferringComponents("polar", At).models[0]
          , a = n.findAxisModel("radiusAxis")
          , o = n.findAxisModel("angleAxis");
        e.coordSysDims = ["radius", "angle"],
        r.set("radius", a),
        r.set("angle", o),
        Mi(a) && (i.set("radius", a),
        e.firstCategoryDimIndex = 0),
        Mi(o) && (i.set("angle", o),
        e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1))
    },
    geo: function(t, e, r, i) {
        e.coordSysDims = ["lng", "lat"]
    },
    parallel: function(t, e, r, i) {
        var n = t.ecModel
          , a = n.getComponent("parallel", t.get("parallelIndex"))
          , o = e.coordSysDims = a.dimensions.slice();
        I(a.parallelAxisIndex, function(s, l) {
            var u = n.getComponent("parallelAxis", s)
              , h = o[l];
            r.set(h, u),
            Mi(u) && (i.set(h, u),
            e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = l))
        })
    }
};
function Mi(t) {
    return t.get("type") === "category"
}
function M5(t, e, r) {
    r = r || {};
    var i = r.byIndex, n = r.stackedCoordDimension, a, o, s;
    D5(e) ? a = e : (o = e.schema,
    a = o.dimensions,
    s = e.store);
    var l = !!(t && t.get("stack")), u, h, f, c;
    if (I(a, function(y, _) {
        Q(y) && (a[_] = y = {
            name: y
        }),
        l && !y.isExtraCoord && (!i && !u && y.ordinalMeta && (u = y),
        !h && y.type !== "ordinal" && y.type !== "time" && (!n || n === y.coordDim) && (h = y))
    }),
    h && !i && !u && (i = !0),
    h) {
        f = "__\0ecstackresult_" + t.id,
        c = "__\0ecstackedover_" + t.id,
        u && (u.createInvertedIndices = !0);
        var v = h.coordDim
          , d = h.type
          , m = 0;
        I(a, function(y) {
            y.coordDim === v && m++
        });
        var p = {
            name: f,
            coordDim: v,
            coordDimIndex: m,
            type: d,
            isExtraCoord: !0,
            isCalculationCoord: !0,
            storeDimIndex: a.length
        }
          , g = {
            name: c,
            coordDim: c,
            coordDimIndex: m + 1,
            type: d,
            isExtraCoord: !0,
            isCalculationCoord: !0,
            storeDimIndex: a.length + 1
        };
        o ? (s && (p.storeDimIndex = s.ensureCalculationDimension(c, d),
        g.storeDimIndex = s.ensureCalculationDimension(f, d)),
        o.appendCalculationDimension(p),
        o.appendCalculationDimension(g)) : (a.push(p),
        a.push(g))
    }
    return {
        stackedDimension: h && h.name,
        stackedByDimension: u && u.name,
        isStackedByIndex: i,
        stackedOverDimension: c,
        stackResultDimension: f
    }
}
function D5(t) {
    return !_0(t.schema)
}
function Xi(t, e) {
    return !!e && e === t.getCalculationInfo("stackedDimension")
}
function C0(t, e) {
    return Xi(t, e) ? t.getCalculationInfo("stackResultDimension") : e
}
function A5(t, e) {
    var r = t.get("coordinateSystem"), i = Nh.get(r), n;
    return e && e.coordSysDims && (n = ee(e.coordSysDims, function(a) {
        var o = {
            name: a
        }
          , s = e.axisMap.get(a);
        if (s) {
            var l = s.get("type");
            o.type = u5(l)
        }
        return o
    })),
    n || (n = i && (i.getDimensionsInfo ? i.getDimensionsInfo() : i.dimensions.slice()) || ["x", "y"]),
    n
}
function I5(t, e, r) {
    var i, n;
    return r && I(t, function(a, o) {
        var s = a.coordDim
          , l = r.categoryAxisMap.get(s);
        l && (i == null && (i = o),
        a.ordinalMeta = l.getOrdinalMeta(),
        e && (a.createInvertedIndices = !0)),
        a.otherDims.itemName != null && (n = !0)
    }),
    !n && i != null && (t[i].otherDims.itemName = 0),
    i
}
function k5(t, e, r) {
    r = r || {};
    var i = e.getSourceManager(), n, a = !1;
    t ? (a = !0,
    n = zh(t)) : (n = i.getSource(),
    a = n.sourceFormat === St);
    var o = x5(e)
      , s = A5(e, o)
      , l = r.useEncodeDefaulter
      , u = ne(l) ? l : l ? Ee(gC, s, e) : null
      , h = {
        coordDimensions: s,
        generateCoord: r.generateCoord,
        encodeDefine: e.getEncode(),
        encodeDefaulter: u,
        canOmitUnusedDimensions: !a
    }
      , f = _5(n, h)
      , c = I5(f.dimensions, r.createInvertedIndices, o)
      , v = a ? null : i.getSharedDataStore(f)
      , d = M5(e, {
        schema: f,
        store: v
    })
      , m = new bo(f,e);
    m.setCalculationInfo(d);
    var p = c != null && L5(n) ? function(g, y, _, w) {
        return w === c ? _ : this.defaultDimValueGetter(g, y, _, w)
    }
    : null;
    return m.hasItemOption = !1,
    m.initData(a ? n : v, null, p),
    m
}
function L5(t) {
    if (t.sourceFormat === St) {
        var e = P5(t.data || []);
        return !Y(fa(e))
    }
}
function P5(t) {
    for (var e = 0; e < t.length && t[e] == null; )
        e++;
    return t[e]
}
var x0 = function() {
    function t(e) {
        this._setting = e || {},
        this._extent = [1 / 0, -1 / 0]
    }
    return t.prototype.getSetting = function(e) {
        return this._setting[e]
    }
    ,
    t.prototype.unionExtent = function(e) {
        var r = this._extent;
        e[0] < r[0] && (r[0] = e[0]),
        e[1] > r[1] && (r[1] = e[1])
    }
    ,
    t.prototype.unionExtentFromData = function(e, r) {
        this.unionExtent(e.getApproximateExtent(r))
    }
    ,
    t.prototype.getExtent = function() {
        return this._extent.slice()
    }
    ,
    t.prototype.setExtent = function(e, r) {
        var i = this._extent;
        isNaN(e) || (i[0] = e),
        isNaN(r) || (i[1] = r)
    }
    ,
    t.prototype.isInExtentRange = function(e) {
        return this._extent[0] <= e && this._extent[1] >= e
    }
    ,
    t.prototype.isBlank = function() {
        return this._isBlank
    }
    ,
    t.prototype.setBlank = function(e) {
        this._isBlank = e
    }
    ,
    t
}();
jo(x0);
var Jt = x0
  , E5 = 0
  , R5 = function() {
    function t(e) {
        this.categories = e.categories || [],
        this._needCollect = e.needCollect,
        this._deduplication = e.deduplication,
        this.uid = ++E5
    }
    return t.createByAxisModel = function(e) {
        var r = e.option
          , i = r.data
          , n = i && ee(i, O5);
        return new t({
            categories: n,
            needCollect: !n,
            deduplication: r.dedplication !== !1
        })
    }
    ,
    t.prototype.getOrdinal = function(e) {
        return this._getOrCreateMap().get(e)
    }
    ,
    t.prototype.parseAndCollect = function(e) {
        var r, i = this._needCollect;
        if (!Q(e) && !i)
            return e;
        if (i && !this._deduplication)
            return r = this.categories.length,
            this.categories[r] = e,
            r;
        var n = this._getOrCreateMap();
        return r = n.get(e),
        r == null && (i ? (r = this.categories.length,
        this.categories[r] = e,
        n.set(e, r)) : r = NaN),
        r
    }
    ,
    t.prototype._getOrCreateMap = function() {
        return this._map || (this._map = le(this.categories))
    }
    ,
    t
}();
function O5(t) {
    return J(t) && t.value != null ? t.value : t + ""
}
var Fu = R5;
function zu(t) {
    return t.type === "interval" || t.type === "log"
}
function B5(t, e, r, i) {
    var n = {}
      , a = t[1] - t[0]
      , o = n.interval = $p(a / e, !0);
    r != null && o < r && (o = n.interval = r),
    i != null && o > i && (o = n.interval = i);
    var s = n.intervalPrecision = T0(o)
      , l = n.niceTickExtent = [Me(Math.ceil(t[0] / o) * o, s), Me(Math.floor(t[1] / o) * o, s)];
    return N5(l, t),
    n
}
function kl(t) {
    var e = Math.pow(10, ch(t))
      , r = t / e;
    return r ? r === 2 ? r = 3 : r === 3 ? r = 5 : r *= 2 : r = 1,
    Me(r * e)
}
function T0(t) {
    return Ft(t) + 2
}
function td(t, e, r) {
    t[e] = Math.max(Math.min(t[e], r[1]), r[0])
}
function N5(t, e) {
    !isFinite(t[0]) && (t[0] = e[0]),
    !isFinite(t[1]) && (t[1] = e[1]),
    td(t, 0, e),
    td(t, 1, e),
    t[0] > t[1] && (t[0] = t[1])
}
function gs(t, e) {
    return t >= e[0] && t <= e[1]
}
function ms(t, e) {
    return e[1] === e[0] ? .5 : (t - e[0]) / (e[1] - e[0])
}
function ys(t, e) {
    return t * (e[1] - e[0]) + e[0]
}
var M0 = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this, r) || this;
        i.type = "ordinal";
        var n = i.getSetting("ordinalMeta");
        return n || (n = new Fu({})),
        Y(n) && (n = new Fu({
            categories: ee(n, function(a) {
                return J(a) ? a.value : a
            })
        })),
        i._ordinalMeta = n,
        i._extent = i.getSetting("extent") || [0, n.categories.length - 1],
        i
    }
    return e.prototype.parse = function(r) {
        return r == null ? NaN : Q(r) ? this._ordinalMeta.getOrdinal(r) : Math.round(r)
    }
    ,
    e.prototype.contain = function(r) {
        return r = this.parse(r),
        gs(r, this._extent) && this._ordinalMeta.categories[r] != null
    }
    ,
    e.prototype.normalize = function(r) {
        return r = this._getTickNumber(this.parse(r)),
        ms(r, this._extent)
    }
    ,
    e.prototype.scale = function(r) {
        return r = Math.round(ys(r, this._extent)),
        this.getRawOrdinalNumber(r)
    }
    ,
    e.prototype.getTicks = function() {
        for (var r = [], i = this._extent, n = i[0]; n <= i[1]; )
            r.push({
                value: n
            }),
            n++;
        return r
    }
    ,
    e.prototype.getMinorTicks = function(r) {}
    ,
    e.prototype.setSortInfo = function(r) {
        if (r == null) {
            this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;
            return
        }
        for (var i = r.ordinalNumbers, n = this._ordinalNumbersByTick = [], a = this._ticksByOrdinalNumber = [], o = 0, s = this._ordinalMeta.categories.length, l = Math.min(s, i.length); o < l; ++o) {
            var u = i[o];
            n[o] = u,
            a[u] = o
        }
        for (var h = 0; o < s; ++o) {
            for (; a[h] != null; )
                h++;
            n.push(h),
            a[h] = o
        }
    }
    ,
    e.prototype._getTickNumber = function(r) {
        var i = this._ticksByOrdinalNumber;
        return i && r >= 0 && r < i.length ? i[r] : r
    }
    ,
    e.prototype.getRawOrdinalNumber = function(r) {
        var i = this._ordinalNumbersByTick;
        return i && r >= 0 && r < i.length ? i[r] : r
    }
    ,
    e.prototype.getLabel = function(r) {
        if (!this.isBlank()) {
            var i = this.getRawOrdinalNumber(r.value)
              , n = this._ordinalMeta.categories[i];
            return n == null ? "" : n + ""
        }
    }
    ,
    e.prototype.count = function() {
        return this._extent[1] - this._extent[0] + 1
    }
    ,
    e.prototype.unionExtentFromData = function(r, i) {
        this.unionExtent(r.getApproximateExtent(i))
    }
    ,
    e.prototype.isInExtentRange = function(r) {
        return r = this._getTickNumber(r),
        this._extent[0] <= r && this._extent[1] >= r
    }
    ,
    e.prototype.getOrdinalMeta = function() {
        return this._ordinalMeta
    }
    ,
    e.prototype.calcNiceTicks = function() {}
    ,
    e.prototype.calcNiceExtent = function() {}
    ,
    e.type = "ordinal",
    e
}(Jt);
Jt.registerClass(M0);
var D0 = M0
  , $r = Me
  , A0 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = "interval",
        r._interval = 0,
        r._intervalPrecision = 2,
        r
    }
    return e.prototype.parse = function(r) {
        return r
    }
    ,
    e.prototype.contain = function(r) {
        return gs(r, this._extent)
    }
    ,
    e.prototype.normalize = function(r) {
        return ms(r, this._extent)
    }
    ,
    e.prototype.scale = function(r) {
        return ys(r, this._extent)
    }
    ,
    e.prototype.setExtent = function(r, i) {
        var n = this._extent;
        isNaN(r) || (n[0] = parseFloat(r)),
        isNaN(i) || (n[1] = parseFloat(i))
    }
    ,
    e.prototype.unionExtent = function(r) {
        var i = this._extent;
        r[0] < i[0] && (i[0] = r[0]),
        r[1] > i[1] && (i[1] = r[1]),
        this.setExtent(i[0], i[1])
    }
    ,
    e.prototype.getInterval = function() {
        return this._interval
    }
    ,
    e.prototype.setInterval = function(r) {
        this._interval = r,
        this._niceExtent = this._extent.slice(),
        this._intervalPrecision = T0(r)
    }
    ,
    e.prototype.getTicks = function(r) {
        var i = this._interval
          , n = this._extent
          , a = this._niceExtent
          , o = this._intervalPrecision
          , s = [];
        if (!i)
            return s;
        var l = 1e4;
        n[0] < a[0] && (r ? s.push({
            value: $r(a[0] - i, o)
        }) : s.push({
            value: n[0]
        }));
        for (var u = a[0]; u <= a[1] && (s.push({
            value: u
        }),
        u = $r(u + i, o),
        u !== s[s.length - 1].value); )
            if (s.length > l)
                return [];
        var h = s.length ? s[s.length - 1].value : a[1];
        return n[1] > h && (r ? s.push({
            value: $r(h + i, o)
        }) : s.push({
            value: n[1]
        })),
        s
    }
    ,
    e.prototype.getMinorTicks = function(r) {
        for (var i = this.getTicks(!0), n = [], a = this.getExtent(), o = 1; o < i.length; o++) {
            for (var s = i[o], l = i[o - 1], u = 0, h = [], f = s.value - l.value, c = f / r; u < r - 1; ) {
                var v = $r(l.value + (u + 1) * c);
                v > a[0] && v < a[1] && h.push(v),
                u++
            }
            n.push(h)
        }
        return n
    }
    ,
    e.prototype.getLabel = function(r, i) {
        if (r == null)
            return "";
        var n = i && i.precision;
        n == null ? n = Ft(r.value) || 0 : n === "auto" && (n = this._intervalPrecision);
        var a = $r(r.value, n, !0);
        return lm(a)
    }
    ,
    e.prototype.calcNiceTicks = function(r, i, n) {
        r = r || 5;
        var a = this._extent
          , o = a[1] - a[0];
        if (!!isFinite(o)) {
            o < 0 && (o = -o,
            a.reverse());
            var s = B5(a, r, i, n);
            this._intervalPrecision = s.intervalPrecision,
            this._interval = s.interval,
            this._niceExtent = s.niceTickExtent
        }
    }
    ,
    e.prototype.calcNiceExtent = function(r) {
        var i = this._extent;
        if (i[0] === i[1])
            if (i[0] !== 0) {
                var n = Math.abs(i[0]);
                r.fixMax || (i[1] += n / 2),
                i[0] -= n / 2
            } else
                i[1] = 1;
        var a = i[1] - i[0];
        isFinite(a) || (i[0] = 0,
        i[1] = 1),
        this.calcNiceTicks(r.splitNumber, r.minInterval, r.maxInterval);
        var o = this._interval;
        r.fixMin || (i[0] = $r(Math.floor(i[0] / o) * o)),
        r.fixMax || (i[1] = $r(Math.ceil(i[1] / o) * o))
    }
    ,
    e.prototype.setNiceExtent = function(r, i) {
        this._niceExtent = [r, i]
    }
    ,
    e.type = "interval",
    e
}(Jt);
Jt.registerClass(A0);
var pa = A0
  , I0 = typeof Float32Array != "undefined"
  , F5 = I0 ? Float32Array : Array;
function Ri(t) {
    return Y(t) ? I0 ? new Float32Array(t) : t : new F5(t)
}
var z5 = "__ec_stack_";
function k0(t) {
    return t.get("stack") || z5 + t.seriesIndex
}
function L0(t) {
    return t.dim + t.index
}
function V5(t, e) {
    var r = [];
    return e.eachSeriesByType(t, function(i) {
        $5(i) && r.push(i)
    }),
    r
}
function H5(t) {
    var e = {};
    I(t, function(l) {
        var u = l.coordinateSystem
          , h = u.getBaseAxis();
        if (!(h.type !== "time" && h.type !== "value"))
            for (var f = l.getData(), c = h.dim + "_" + h.index, v = f.getDimensionIndex(f.mapDimension(h.dim)), d = f.getStore(), m = 0, p = d.count(); m < p; ++m) {
                var g = d.get(v, m);
                e[c] ? e[c].push(g) : e[c] = [g]
            }
    });
    var r = {};
    for (var i in e)
        if (e.hasOwnProperty(i)) {
            var n = e[i];
            if (n) {
                n.sort(function(l, u) {
                    return l - u
                });
                for (var a = null, o = 1; o < n.length; ++o) {
                    var s = n[o] - n[o - 1];
                    s > 0 && (a = a === null ? s : Math.min(a, s))
                }
                r[i] = a
            }
        }
    return r
}
function G5(t) {
    var e = H5(t)
      , r = [];
    return I(t, function(i) {
        var n = i.coordinateSystem, a = n.getBaseAxis(), o = a.getExtent(), s;
        if (a.type === "category")
            s = a.getBandWidth();
        else if (a.type === "value" || a.type === "time") {
            var l = a.dim + "_" + a.index
              , u = e[l]
              , h = Math.abs(o[1] - o[0])
              , f = a.scale.getExtent()
              , c = Math.abs(f[1] - f[0]);
            s = u ? h / c * u : h
        } else {
            var v = i.getData();
            s = Math.abs(o[1] - o[0]) / v.count()
        }
        var d = Oe(i.get("barWidth"), s)
          , m = Oe(i.get("barMaxWidth"), s)
          , p = Oe(i.get("barMinWidth") || (Y5(i) ? .5 : 1), s)
          , g = i.get("barGap")
          , y = i.get("barCategoryGap");
        r.push({
            bandWidth: s,
            barWidth: d,
            barMaxWidth: m,
            barMinWidth: p,
            barGap: g,
            barCategoryGap: y,
            axisKey: L0(a),
            stackId: k0(i)
        })
    }),
    W5(r)
}
function W5(t) {
    var e = {};
    I(t, function(i, n) {
        var a = i.axisKey
          , o = i.bandWidth
          , s = e[a] || {
            bandWidth: o,
            remainedWidth: o,
            autoWidthCount: 0,
            categoryGap: null,
            gap: "20%",
            stacks: {}
        }
          , l = s.stacks;
        e[a] = s;
        var u = i.stackId;
        l[u] || s.autoWidthCount++,
        l[u] = l[u] || {
            width: 0,
            maxWidth: 0
        };
        var h = i.barWidth;
        h && !l[u].width && (l[u].width = h,
        h = Math.min(s.remainedWidth, h),
        s.remainedWidth -= h);
        var f = i.barMaxWidth;
        f && (l[u].maxWidth = f);
        var c = i.barMinWidth;
        c && (l[u].minWidth = c);
        var v = i.barGap;
        v != null && (s.gap = v);
        var d = i.barCategoryGap;
        d != null && (s.categoryGap = d)
    });
    var r = {};
    return I(e, function(i, n) {
        r[n] = {};
        var a = i.stacks
          , o = i.bandWidth
          , s = i.categoryGap;
        if (s == null) {
            var l = Se(a).length;
            s = Math.max(35 - l * 4, 15) + "%"
        }
        var u = Oe(s, o)
          , h = Oe(i.gap, 1)
          , f = i.remainedWidth
          , c = i.autoWidthCount
          , v = (f - u) / (c + (c - 1) * h);
        v = Math.max(v, 0),
        I(a, function(g) {
            var y = g.maxWidth
              , _ = g.minWidth;
            if (g.width) {
                var w = g.width;
                y && (w = Math.min(w, y)),
                _ && (w = Math.max(w, _)),
                g.width = w,
                f -= w + h * w,
                c--
            } else {
                var w = v;
                y && y < w && (w = Math.min(y, f)),
                _ && _ > w && (w = _),
                w !== v && (g.width = w,
                f -= w + h * w,
                c--)
            }
        }),
        v = (f - u) / (c + (c - 1) * h),
        v = Math.max(v, 0);
        var d = 0, m;
        I(a, function(g, y) {
            g.width || (g.width = v),
            m = g,
            d += g.width * (1 + h)
        }),
        m && (d -= m.width * h);
        var p = -d / 2;
        I(a, function(g, y) {
            r[n][y] = r[n][y] || {
                bandWidth: o,
                offset: p,
                width: g.width
            },
            p += g.width * (1 + h)
        })
    }),
    r
}
function U5(t, e, r) {
    if (t && e) {
        var i = t[L0(e)];
        return i != null && r != null ? i[k0(r)] : i
    }
}
function $5(t) {
    return t.coordinateSystem && t.coordinateSystem.type === "cartesian2d"
}
function Y5(t) {
    return t.pipelineContext && t.pipelineContext.large
}
var X5 = function(t, e, r, i) {
    for (; r < i; ) {
        var n = r + i >>> 1;
        t[n][1] < e ? r = n + 1 : i = n
    }
    return r
}
  , P0 = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this, r) || this;
        return i.type = "time",
        i
    }
    return e.prototype.getLabel = function(r) {
        var i = this.getSetting("useUTC");
        return os(r.value, $c[oC(Vi(this._minLevelUnit))] || $c.second, i, this.getSetting("locale"))
    }
    ,
    e.prototype.getFormattedLabel = function(r, i, n) {
        var a = this.getSetting("useUTC")
          , o = this.getSetting("locale");
        return sC(r, i, n, o, a)
    }
    ,
    e.prototype.getTicks = function() {
        var r = this._interval
          , i = this._extent
          , n = [];
        if (!r)
            return n;
        n.push({
            value: i[0],
            level: 0
        });
        var a = this.getSetting("useUTC")
          , o = e3(this._minLevelUnit, this._approxInterval, a, i);
        return n = n.concat(o),
        n.push({
            value: i[1],
            level: 0
        }),
        n
    }
    ,
    e.prototype.calcNiceExtent = function(r) {
        var i = this._extent;
        if (i[0] === i[1] && (i[0] -= mt,
        i[1] += mt),
        i[1] === -1 / 0 && i[0] === 1 / 0) {
            var n = new Date;
            i[1] = +new Date(n.getFullYear(),n.getMonth(),n.getDate()),
            i[0] = i[1] - mt
        }
        this.calcNiceTicks(r.splitNumber, r.minInterval, r.maxInterval)
    }
    ,
    e.prototype.calcNiceTicks = function(r, i, n) {
        r = r || 10;
        var a = this._extent
          , o = a[1] - a[0];
        this._approxInterval = o / r,
        i != null && this._approxInterval < i && (this._approxInterval = i),
        n != null && this._approxInterval > n && (this._approxInterval = n);
        var s = ja.length
          , l = Math.min(X5(ja, this._approxInterval, 0, s), s - 1);
        this._interval = ja[l][1],
        this._minLevelUnit = ja[Math.max(l - 1, 0)][0]
    }
    ,
    e.prototype.parse = function(r) {
        return be(r) ? r : +Zt(r)
    }
    ,
    e.prototype.contain = function(r) {
        return gs(this.parse(r), this._extent)
    }
    ,
    e.prototype.normalize = function(r) {
        return ms(this.parse(r), this._extent)
    }
    ,
    e.prototype.scale = function(r) {
        return ys(r, this._extent)
    }
    ,
    e.type = "time",
    e
}(pa)
  , ja = [["second", kh], ["minute", Lh], ["hour", Hn], ["quarter-day", Hn * 6], ["half-day", Hn * 12], ["day", mt * 1.2], ["half-week", mt * 3.5], ["week", mt * 7], ["month", mt * 31], ["quarter", mt * 95], ["half-year", Uc / 2], ["year", Uc]];
function q5(t, e, r, i) {
    var n = Zt(e)
      , a = Zt(r)
      , o = function(d) {
        return Yc(n, d, i) === Yc(a, d, i)
    }
      , s = function() {
        return o("year")
    }
      , l = function() {
        return s() && o("month")
    }
      , u = function() {
        return l() && o("day")
    }
      , h = function() {
        return u() && o("hour")
    }
      , f = function() {
        return h() && o("minute")
    }
      , c = function() {
        return f() && o("second")
    }
      , v = function() {
        return c() && o("millisecond")
    };
    switch (t) {
    case "year":
        return s();
    case "month":
        return l();
    case "day":
        return u();
    case "hour":
        return h();
    case "minute":
        return f();
    case "second":
        return c();
    case "millisecond":
        return v()
    }
}
function Z5(t, e) {
    return t /= mt,
    t > 16 ? 16 : t > 7.5 ? 7 : t > 3.5 ? 4 : t > 1.5 ? 2 : 1
}
function K5(t) {
    var e = 30 * mt;
    return t /= e,
    t > 6 ? 6 : t > 3 ? 3 : t > 2 ? 2 : 1
}
function j5(t) {
    return t /= Hn,
    t > 12 ? 12 : t > 6 ? 6 : t > 3.5 ? 4 : t > 2 ? 2 : 1
}
function rd(t, e) {
    return t /= e ? Lh : kh,
    t > 30 ? 30 : t > 20 ? 20 : t > 15 ? 15 : t > 10 ? 10 : t > 5 ? 5 : t > 2 ? 2 : 1
}
function Q5(t) {
    return $p(t, !0)
}
function J5(t, e, r) {
    var i = new Date(t);
    switch (Vi(e)) {
    case "year":
    case "month":
        i[rm(r)](0);
    case "day":
        i[im(r)](1);
    case "hour":
        i[nm(r)](0);
    case "minute":
        i[am(r)](0);
    case "second":
        i[om(r)](0),
        i[sm(r)](0)
    }
    return i.getTime()
}
function e3(t, e, r, i) {
    var n = 1e4
      , a = em
      , o = 0;
    function s(D, A, k, P, E, O, B) {
        for (var te = new Date(A), W = A, Z = te[P](); W < k && W <= i[1]; )
            B.push({
                value: W
            }),
            Z += D,
            te[E](Z),
            W = te.getTime();
        B.push({
            value: W,
            notAdd: !0
        })
    }
    function l(D, A, k) {
        var P = []
          , E = !A.length;
        if (!q5(Vi(D), i[0], i[1], r)) {
            E && (A = [{
                value: J5(new Date(i[0]), D, r)
            }, {
                value: i[1]
            }]);
            for (var O = 0; O < A.length - 1; O++) {
                var B = A[O].value
                  , te = A[O + 1].value;
                if (B !== te) {
                    var W = void 0
                      , Z = void 0
                      , re = void 0
                      , ve = !1;
                    switch (D) {
                    case "year":
                        W = Math.max(1, Math.round(e / mt / 365)),
                        Z = Ph(r),
                        re = lC(r);
                        break;
                    case "half-year":
                    case "quarter":
                    case "month":
                        W = K5(e),
                        Z = Hi(r),
                        re = rm(r);
                        break;
                    case "week":
                    case "half-week":
                    case "day":
                        W = Z5(e),
                        Z = ss(r),
                        re = im(r),
                        ve = !0;
                        break;
                    case "half-day":
                    case "quarter-day":
                    case "hour":
                        W = j5(e),
                        Z = Jn(r),
                        re = nm(r);
                        break;
                    case "minute":
                        W = rd(e, !0),
                        Z = ls(r),
                        re = am(r);
                        break;
                    case "second":
                        W = rd(e, !1),
                        Z = us(r),
                        re = om(r);
                        break;
                    case "millisecond":
                        W = Q5(e),
                        Z = hs(r),
                        re = sm(r);
                        break
                    }
                    s(W, B, te, Z, re, ve, P),
                    D === "year" && k.length > 1 && O === 0 && k.unshift({
                        value: k[0].value - W
                    })
                }
            }
            for (var O = 0; O < P.length; O++)
                k.push(P[O]);
            return P
        }
    }
    for (var u = [], h = [], f = 0, c = 0, v = 0; v < a.length && o++ < n; ++v) {
        var d = Vi(a[v]);
        if (!!aC(a[v])) {
            l(a[v], u[u.length - 1] || [], h);
            var m = a[v + 1] ? Vi(a[v + 1]) : null;
            if (d !== m) {
                if (h.length) {
                    c = f,
                    h.sort(function(D, A) {
                        return D.value - A.value
                    });
                    for (var p = [], g = 0; g < h.length; ++g) {
                        var y = h[g].value;
                        (g === 0 || h[g - 1].value !== y) && (p.push(h[g]),
                        y >= i[0] && y <= i[1] && f++)
                    }
                    var _ = (i[1] - i[0]) / e;
                    if (f > _ * 1.5 && c > _ / 1.5 || (u.push(p),
                    f > _ || t === a[v]))
                        break
                }
                h = []
            }
        }
    }
    for (var w = Ue(ee(u, function(D) {
        return Ue(D, function(A) {
            return A.value >= i[0] && A.value <= i[1] && !A.notAdd
        })
    }), function(D) {
        return D.length > 0
    }), b = [], S = w.length - 1, v = 0; v < w.length; ++v)
        for (var C = w[v], T = 0; T < C.length; ++T)
            b.push({
                value: C[T].value,
                level: S - v
            });
    b.sort(function(D, A) {
        return D.value - A.value
    });
    for (var x = [], v = 0; v < b.length; ++v)
        (v === 0 || b[v].value !== b[v - 1].value) && x.push(b[v]);
    return x
}
Jt.registerClass(P0);
var t3 = P0
  , id = Jt.prototype
  , $n = pa.prototype
  , r3 = Me
  , i3 = Math.floor
  , n3 = Math.ceil
  , Qa = Math.pow
  , Ct = Math.log
  , Qh = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = "log",
        r.base = 10,
        r._originalScale = new pa,
        r._interval = 0,
        r
    }
    return e.prototype.getTicks = function(r) {
        var i = this._originalScale
          , n = this._extent
          , a = i.getExtent()
          , o = $n.getTicks.call(this, r);
        return ee(o, function(s) {
            var l = s.value
              , u = Me(Qa(this.base, l));
            return u = l === n[0] && this._fixMin ? Ja(u, a[0]) : u,
            u = l === n[1] && this._fixMax ? Ja(u, a[1]) : u,
            {
                value: u
            }
        }, this)
    }
    ,
    e.prototype.setExtent = function(r, i) {
        var n = Ct(this.base);
        r = Ct(Math.max(0, r)) / n,
        i = Ct(Math.max(0, i)) / n,
        $n.setExtent.call(this, r, i)
    }
    ,
    e.prototype.getExtent = function() {
        var r = this.base
          , i = id.getExtent.call(this);
        i[0] = Qa(r, i[0]),
        i[1] = Qa(r, i[1]);
        var n = this._originalScale
          , a = n.getExtent();
        return this._fixMin && (i[0] = Ja(i[0], a[0])),
        this._fixMax && (i[1] = Ja(i[1], a[1])),
        i
    }
    ,
    e.prototype.unionExtent = function(r) {
        this._originalScale.unionExtent(r);
        var i = this.base;
        r[0] = Ct(r[0]) / Ct(i),
        r[1] = Ct(r[1]) / Ct(i),
        id.unionExtent.call(this, r)
    }
    ,
    e.prototype.unionExtentFromData = function(r, i) {
        this.unionExtent(r.getApproximateExtent(i))
    }
    ,
    e.prototype.calcNiceTicks = function(r) {
        r = r || 10;
        var i = this._extent
          , n = i[1] - i[0];
        if (!(n === 1 / 0 || n <= 0)) {
            var a = rw(n)
              , o = r / n * a;
            for (o <= .5 && (a *= 10); !isNaN(a) && Math.abs(a) < 1 && Math.abs(a) > 0; )
                a *= 10;
            var s = [Me(n3(i[0] / a) * a), Me(i3(i[1] / a) * a)];
            this._interval = a,
            this._niceExtent = s
        }
    }
    ,
    e.prototype.calcNiceExtent = function(r) {
        $n.calcNiceExtent.call(this, r),
        this._fixMin = r.fixMin,
        this._fixMax = r.fixMax
    }
    ,
    e.prototype.parse = function(r) {
        return r
    }
    ,
    e.prototype.contain = function(r) {
        return r = Ct(r) / Ct(this.base),
        gs(r, this._extent)
    }
    ,
    e.prototype.normalize = function(r) {
        return r = Ct(r) / Ct(this.base),
        ms(r, this._extent)
    }
    ,
    e.prototype.scale = function(r) {
        return r = ys(r, this._extent),
        Qa(this.base, r)
    }
    ,
    e.type = "log",
    e
}(Jt)
  , E0 = Qh.prototype;
E0.getMinorTicks = $n.getMinorTicks;
E0.getLabel = $n.getLabel;
function Ja(t, e) {
    return r3(t, Ft(e))
}
Jt.registerClass(Qh);
var a3 = Qh
  , o3 = function() {
    function t(e, r, i) {
        this._prepareParams(e, r, i)
    }
    return t.prototype._prepareParams = function(e, r, i) {
        i[1] < i[0] && (i = [NaN, NaN]),
        this._dataMin = i[0],
        this._dataMax = i[1];
        var n = this._isOrdinal = e.type === "ordinal";
        this._needCrossZero = e.type === "interval" && r.getNeedCrossZero && r.getNeedCrossZero();
        var a = r.get("min", !0);
        a == null && (a = r.get("startValue", !0));
        var o = this._modelMinRaw = a;
        ne(o) ? this._modelMinNum = eo(e, o({
            min: i[0],
            max: i[1]
        })) : o !== "dataMin" && (this._modelMinNum = eo(e, o));
        var s = this._modelMaxRaw = r.get("max", !0);
        if (ne(s) ? this._modelMaxNum = eo(e, s({
            min: i[0],
            max: i[1]
        })) : s !== "dataMax" && (this._modelMaxNum = eo(e, s)),
        n)
            this._axisDataLen = r.getCategories().length;
        else {
            var l = r.get("boundaryGap")
              , u = Y(l) ? l : [l || 0, l || 0];
            typeof u[0] == "boolean" || typeof u[1] == "boolean" ? this._boundaryGapInner = [0, 0] : this._boundaryGapInner = [ii(u[0], 1), ii(u[1], 1)]
        }
    }
    ,
    t.prototype.calculate = function() {
        var e = this._isOrdinal
          , r = this._dataMin
          , i = this._dataMax
          , n = this._axisDataLen
          , a = this._boundaryGapInner
          , o = e ? null : i - r || Math.abs(r)
          , s = this._modelMinRaw === "dataMin" ? r : this._modelMinNum
          , l = this._modelMaxRaw === "dataMax" ? i : this._modelMaxNum
          , u = s != null
          , h = l != null;
        s == null && (s = e ? n ? 0 : NaN : r - a[0] * o),
        l == null && (l = e ? n ? n - 1 : NaN : i + a[1] * o),
        (s == null || !isFinite(s)) && (s = NaN),
        (l == null || !isFinite(l)) && (l = NaN);
        var f = To(s) || To(l) || e && !n;
        this._needCrossZero && (s > 0 && l > 0 && !u && (s = 0),
        s < 0 && l < 0 && !h && (l = 0));
        var c = this._determinedMin
          , v = this._determinedMax;
        return c != null && (s = c,
        u = !0),
        v != null && (l = v,
        h = !0),
        {
            min: s,
            max: l,
            minFixed: u,
            maxFixed: h,
            isBlank: f
        }
    }
    ,
    t.prototype.modifyDataMinMax = function(e, r) {
        this[l3[e]] = r
    }
    ,
    t.prototype.setDeterminedMinMax = function(e, r) {
        var i = s3[e];
        this[i] = r
    }
    ,
    t.prototype.freeze = function() {
        this.frozen = !0
    }
    ,
    t
}()
  , s3 = {
    min: "_determinedMin",
    max: "_determinedMax"
}
  , l3 = {
    min: "_dataMin",
    max: "_dataMax"
};
function u3(t, e, r) {
    var i = t.rawExtentInfo;
    return i || (i = new o3(t,e,r),
    t.rawExtentInfo = i,
    i)
}
function eo(t, e) {
    return e == null ? null : To(e) ? NaN : t.parse(e)
}
function R0(t, e) {
    var r = t.type
      , i = u3(t, e, t.getExtent()).calculate();
    t.setBlank(i.isBlank);
    var n = i.min
      , a = i.max
      , o = e.ecModel;
    if (o && r === "time") {
        var s = V5("bar", o)
          , l = !1;
        if (I(s, function(f) {
            l = l || f.getBaseAxis() === e.axis
        }),
        l) {
            var u = G5(s)
              , h = h3(n, a, e, u);
            n = h.min,
            a = h.max
        }
    }
    return {
        extent: [n, a],
        fixMin: i.minFixed,
        fixMax: i.maxFixed
    }
}
function h3(t, e, r, i) {
    var n = r.axis.getExtent()
      , a = n[1] - n[0]
      , o = U5(i, r.axis);
    if (o === void 0)
        return {
            min: t,
            max: e
        };
    var s = 1 / 0;
    I(o, function(v) {
        s = Math.min(v.offset, s)
    });
    var l = -1 / 0;
    I(o, function(v) {
        l = Math.max(v.offset + v.width, l)
    }),
    s = Math.abs(s),
    l = Math.abs(l);
    var u = s + l
      , h = e - t
      , f = 1 - (s + l) / a
      , c = h / f - h;
    return e += c * (l / u),
    t -= c * (s / u),
    {
        min: t,
        max: e
    }
}
function nd(t, e) {
    var r = e
      , i = R0(t, r)
      , n = i.extent
      , a = r.get("splitNumber");
    t instanceof a3 && (t.base = r.get("logBase"));
    var o = t.type
      , s = r.get("interval")
      , l = o === "interval" || o === "time";
    t.setExtent(n[0], n[1]),
    t.calcNiceExtent({
        splitNumber: a,
        fixMin: i.fixMin,
        fixMax: i.fixMax,
        minInterval: l ? r.get("minInterval") : null,
        maxInterval: l ? r.get("maxInterval") : null
    }),
    s != null && t.setInterval && t.setInterval(s)
}
function f3(t, e) {
    if (e = e || t.get("type"),
    e)
        switch (e) {
        case "category":
            return new D0({
                ordinalMeta: t.getOrdinalMeta ? t.getOrdinalMeta() : t.getCategories(),
                extent: [1 / 0, -1 / 0]
            });
        case "time":
            return new t3({
                locale: t.ecModel.getLocaleModel(),
                useUTC: t.ecModel.get("useUTC")
            });
        default:
            return new (Jt.getClass(e) || pa)
        }
}
function c3(t) {
    var e = t.scale.getExtent()
      , r = e[0]
      , i = e[1];
    return !(r > 0 && i > 0 || r < 0 && i < 0)
}
function en(t) {
    var e = t.getLabelModel().get("formatter")
      , r = t.type === "category" ? t.scale.getExtent()[0] : null;
    return t.scale.type === "time" ? function(i) {
        return function(n, a) {
            return t.scale.getFormattedLabel(n, a, i)
        }
    }(e) : Q(e) ? function(i) {
        return function(n) {
            var a = t.scale.getLabel(n)
              , o = i.replace("{value}", a != null ? a : "");
            return o
        }
    }(e) : ne(e) ? function(i) {
        return function(n, a) {
            return r != null && (a = n.value - r),
            i(Jh(t, n), a, n.level != null ? {
                level: n.level
            } : null)
        }
    }(e) : function(i) {
        return t.scale.getLabel(i)
    }
}
function Jh(t, e) {
    return t.type === "category" ? t.scale.getLabel(e) : e.value
}
function v3(t) {
    var e = t.model
      , r = t.scale;
    if (!(!e.get(["axisLabel", "show"]) || r.isBlank())) {
        var i, n, a = r.getExtent();
        r instanceof D0 ? n = r.count() : (i = r.getTicks(),
        n = i.length);
        var o = t.getLabelModel(), s = en(t), l, u = 1;
        n > 40 && (u = Math.ceil(n / 40));
        for (var h = 0; h < n; h += u) {
            var f = i ? i[h] : {
                value: a[0] + h
            }
              , c = s(f, h)
              , v = o.getTextRect(c)
              , d = d3(v, o.get("rotate") || 0);
            l ? l.union(d) : l = d
        }
        return l
    }
}
function d3(t, e) {
    var r = e * Math.PI / 180
      , i = t.width
      , n = t.height
      , a = i * Math.abs(Math.cos(r)) + Math.abs(n * Math.sin(r))
      , o = i * Math.abs(Math.sin(r)) + Math.abs(n * Math.cos(r))
      , s = new ce(t.x,t.y,a,o);
    return s
}
function ef(t) {
    var e = t.get("interval");
    return e == null ? "auto" : e
}
function O0(t) {
    return t.type === "category" && ef(t.getLabelModel()) === 0
}
function p3(t, e) {
    var r = {};
    return I(t.mapDimensionsAll(e), function(i) {
        r[C0(t, i)] = !0
    }),
    Se(r)
}
var g3 = function() {
    function t() {}
    return t.prototype.getNeedCrossZero = function() {
        var e = this.option;
        return !e.scale
    }
    ,
    t.prototype.getCoordSysModel = function() {}
    ,
    t
}()
  , ad = []
  , m3 = {
    registerPreprocessor: p0,
    registerProcessor: g0,
    registerPostInit: JT,
    registerPostUpdate: e5,
    registerUpdateLifecycle: Kh,
    registerAction: Ji,
    registerCoordinateSystem: t5,
    registerLayout: r5,
    registerVisual: ci,
    registerTransform: n5,
    registerLoading: m0,
    registerMap: i5,
    registerImpl: ET,
    PRIORITY: YT,
    ComponentModel: we,
    ComponentView: Kt,
    SeriesModel: ia,
    ChartView: _r,
    registerComponentModel: function(t) {
        we.registerClass(t)
    },
    registerComponentView: function(t) {
        Kt.registerClass(t)
    },
    registerSeriesModel: function(t) {
        ia.registerClass(t)
    },
    registerChartView: function(t) {
        _r.registerClass(t)
    },
    registerSubTypeDefaulter: function(t, e) {
        we.registerSubTypeDefaulter(t, e)
    },
    registerPainter: function(t, e) {
        K2(t, e)
    }
};
function oa(t) {
    if (Y(t)) {
        I(t, function(e) {
            oa(e)
        });
        return
    }
    pe(ad, t) >= 0 || (ad.push(t),
    ne(t) && (t = {
        install: t
    }),
    t.install(m3))
}
var sa = xe();
function B0(t, e) {
    var r = ee(e, function(i) {
        return t.scale.parse(i)
    });
    return t.type === "time" && r.length > 0 && (r.sort(),
    r.unshift(r[0]),
    r.push(r[r.length - 1])),
    r
}
function y3(t) {
    var e = t.getLabelModel().get("customValues");
    if (e) {
        var r = en(t);
        return {
            labels: B0(t, e).map(function(i) {
                var n = {
                    value: i
                };
                return {
                    formattedLabel: r(n),
                    rawLabel: t.scale.getLabel(n),
                    tickValue: i
                }
            })
        }
    }
    return t.type === "category" ? w3(t) : b3(t)
}
function _3(t, e) {
    var r = t.getTickModel().get("customValues");
    return r ? {
        ticks: B0(t, r)
    } : t.type === "category" ? S3(t, e) : {
        ticks: ee(t.scale.getTicks(), function(i) {
            return i.value
        })
    }
}
function w3(t) {
    var e = t.getLabelModel()
      , r = N0(t, e);
    return !e.get("show") || t.scale.isBlank() ? {
        labels: [],
        labelCategoryInterval: r.labelCategoryInterval
    } : r
}
function N0(t, e) {
    var r = F0(t, "labels")
      , i = ef(e)
      , n = z0(r, i);
    if (n)
        return n;
    var a, o;
    return ne(i) ? a = G0(t, i) : (o = i === "auto" ? C3(t) : i,
    a = H0(t, o)),
    V0(r, i, {
        labels: a,
        labelCategoryInterval: o
    })
}
function S3(t, e) {
    var r = F0(t, "ticks")
      , i = ef(e)
      , n = z0(r, i);
    if (n)
        return n;
    var a, o;
    if ((!e.get("show") || t.scale.isBlank()) && (a = []),
    ne(i))
        a = G0(t, i, !0);
    else if (i === "auto") {
        var s = N0(t, t.getLabelModel());
        o = s.labelCategoryInterval,
        a = ee(s.labels, function(l) {
            return l.tickValue
        })
    } else
        o = i,
        a = H0(t, o, !0);
    return V0(r, i, {
        ticks: a,
        tickCategoryInterval: o
    })
}
function b3(t) {
    var e = t.scale.getTicks()
      , r = en(t);
    return {
        labels: ee(e, function(i, n) {
            return {
                level: i.level,
                formattedLabel: r(i, n),
                rawLabel: t.scale.getLabel(i),
                tickValue: i.value
            }
        })
    }
}
function F0(t, e) {
    return sa(t)[e] || (sa(t)[e] = [])
}
function z0(t, e) {
    for (var r = 0; r < t.length; r++)
        if (t[r].key === e)
            return t[r].value
}
function V0(t, e, r) {
    return t.push({
        key: e,
        value: r
    }),
    r
}
function C3(t) {
    var e = sa(t).autoInterval;
    return e != null ? e : sa(t).autoInterval = t.calculateCategoryInterval()
}
function x3(t) {
    var e = T3(t)
      , r = en(t)
      , i = (e.axisRotate - e.labelRotate) / 180 * Math.PI
      , n = t.scale
      , a = n.getExtent()
      , o = n.count();
    if (a[1] - a[0] < 1)
        return 0;
    var s = 1;
    o > 40 && (s = Math.max(1, Math.floor(o / 40)));
    for (var l = a[0], u = t.dataToCoord(l + 1) - t.dataToCoord(l), h = Math.abs(u * Math.cos(i)), f = Math.abs(u * Math.sin(i)), c = 0, v = 0; l <= a[1]; l += s) {
        var d = 0
          , m = 0
          , p = uh(r({
            value: l
        }), e.font, "center", "top");
        d = p.width * 1.3,
        m = p.height * 1.3,
        c = Math.max(c, d, 7),
        v = Math.max(v, m, 7)
    }
    var g = c / h
      , y = v / f;
    isNaN(g) && (g = 1 / 0),
    isNaN(y) && (y = 1 / 0);
    var _ = Math.max(0, Math.floor(Math.min(g, y)))
      , w = sa(t.model)
      , b = t.getExtent()
      , S = w.lastAutoInterval
      , C = w.lastTickCount;
    return S != null && C != null && Math.abs(S - _) <= 1 && Math.abs(C - o) <= 1 && S > _ && w.axisExtent0 === b[0] && w.axisExtent1 === b[1] ? _ = S : (w.lastTickCount = o,
    w.lastAutoInterval = _,
    w.axisExtent0 = b[0],
    w.axisExtent1 = b[1]),
    _
}
function T3(t) {
    var e = t.getLabelModel();
    return {
        axisRotate: t.getRotate ? t.getRotate() : t.isHorizontal && !t.isHorizontal() ? 90 : 0,
        labelRotate: e.get("rotate") || 0,
        font: e.getFont()
    }
}
function H0(t, e, r) {
    var i = en(t)
      , n = t.scale
      , a = n.getExtent()
      , o = t.getLabelModel()
      , s = []
      , l = Math.max((e || 0) + 1, 1)
      , u = a[0]
      , h = n.count();
    u !== 0 && l > 1 && h / l > 2 && (u = Math.round(Math.ceil(u / l) * l));
    var f = O0(t)
      , c = o.get("showMinLabel") || f
      , v = o.get("showMaxLabel") || f;
    c && u !== a[0] && m(a[0]);
    for (var d = u; d <= a[1]; d += l)
        m(d);
    v && d - l !== a[1] && m(a[1]);
    function m(p) {
        var g = {
            value: p
        };
        s.push(r ? p : {
            formattedLabel: i(g),
            rawLabel: n.getLabel(g),
            tickValue: p
        })
    }
    return s
}
function G0(t, e, r) {
    var i = t.scale
      , n = en(t)
      , a = [];
    return I(i.getTicks(), function(o) {
        var s = i.getLabel(o)
          , l = o.value;
        e(o.value, s) && a.push(r ? l : {
            formattedLabel: n(o),
            rawLabel: s,
            tickValue: l
        })
    }),
    a
}
var od = [0, 1]
  , M3 = function() {
    function t(e, r, i) {
        this.onBand = !1,
        this.inverse = !1,
        this.dim = e,
        this.scale = r,
        this._extent = i || [0, 0]
    }
    return t.prototype.contain = function(e) {
        var r = this._extent
          , i = Math.min(r[0], r[1])
          , n = Math.max(r[0], r[1]);
        return e >= i && e <= n
    }
    ,
    t.prototype.containData = function(e) {
        return this.scale.contain(e)
    }
    ,
    t.prototype.getExtent = function() {
        return this._extent.slice()
    }
    ,
    t.prototype.getPixelPrecision = function(e) {
        return J2(e || this.scale.getExtent(), this._extent)
    }
    ,
    t.prototype.setExtent = function(e, r) {
        var i = this._extent;
        i[0] = e,
        i[1] = r
    }
    ,
    t.prototype.dataToCoord = function(e, r) {
        var i = this._extent
          , n = this.scale;
        return e = n.normalize(e),
        this.onBand && n.type === "ordinal" && (i = i.slice(),
        sd(i, n.count())),
        Qf(e, od, i, r)
    }
    ,
    t.prototype.coordToData = function(e, r) {
        var i = this._extent
          , n = this.scale;
        this.onBand && n.type === "ordinal" && (i = i.slice(),
        sd(i, n.count()));
        var a = Qf(e, i, od, r);
        return this.scale.scale(a)
    }
    ,
    t.prototype.pointToData = function(e, r) {}
    ,
    t.prototype.getTicksCoords = function(e) {
        e = e || {};
        var r = e.tickModel || this.getTickModel()
          , i = _3(this, r)
          , n = i.ticks
          , a = ee(n, function(s) {
            return {
                coord: this.dataToCoord(this.scale.type === "ordinal" ? this.scale.getRawOrdinalNumber(s) : s),
                tickValue: s
            }
        }, this)
          , o = r.get("alignWithLabel");
        return D3(this, a, o, e.clamp),
        a
    }
    ,
    t.prototype.getMinorTicksCoords = function() {
        if (this.scale.type === "ordinal")
            return [];
        var e = this.model.getModel("minorTick")
          , r = e.get("splitNumber");
        r > 0 && r < 100 || (r = 5);
        var i = this.scale.getMinorTicks(r)
          , n = ee(i, function(a) {
            return ee(a, function(o) {
                return {
                    coord: this.dataToCoord(o),
                    tickValue: o
                }
            }, this)
        }, this);
        return n
    }
    ,
    t.prototype.getViewLabels = function() {
        return y3(this).labels
    }
    ,
    t.prototype.getLabelModel = function() {
        return this.model.getModel("axisLabel")
    }
    ,
    t.prototype.getTickModel = function() {
        return this.model.getModel("axisTick")
    }
    ,
    t.prototype.getBandWidth = function() {
        var e = this._extent
          , r = this.scale.getExtent()
          , i = r[1] - r[0] + (this.onBand ? 1 : 0);
        i === 0 && (i = 1);
        var n = Math.abs(e[1] - e[0]);
        return Math.abs(n) / i
    }
    ,
    t.prototype.calculateCategoryInterval = function() {
        return x3(this)
    }
    ,
    t
}();
function sd(t, e) {
    var r = t[1] - t[0]
      , i = e
      , n = r / i / 2;
    t[0] += n,
    t[1] -= n
}
function D3(t, e, r, i) {
    var n = e.length;
    if (!t.onBand || r || !n)
        return;
    var a = t.getExtent(), o, s;
    if (n === 1)
        e[0].coord = a[0],
        o = e[1] = {
            coord: a[1]
        };
    else {
        var l = e[n - 1].tickValue - e[0].tickValue
          , u = (e[n - 1].coord - e[0].coord) / l;
        I(e, function(v) {
            v.coord -= u / 2
        });
        var h = t.scale.getExtent();
        s = 1 + h[1] - e[n - 1].tickValue,
        o = {
            coord: e[n - 1].coord + u * s
        },
        e.push(o)
    }
    var f = a[0] > a[1];
    c(e[0].coord, a[0]) && (i ? e[0].coord = a[0] : e.shift()),
    i && c(a[0], e[0].coord) && e.unshift({
        coord: a[0]
    }),
    c(a[1], o.coord) && (i ? o.coord = a[1] : e.pop()),
    i && c(o.coord, a[1]) && e.push({
        coord: a[1]
    });
    function c(v, d) {
        return v = Me(v),
        d = Me(d),
        f ? v > d : v < d
    }
}
var A3 = M3;
function I3(t) {
    for (var e = [], r = 0; r < t.length; r++) {
        var i = t[r];
        if (!i.defaultAttr.ignore) {
            var n = i.label
              , a = n.getComputedTransform()
              , o = n.getBoundingRect()
              , s = !a || a[1] < 1e-5 && a[2] < 1e-5
              , l = n.style.margin || 0
              , u = o.clone();
            u.applyTransform(a),
            u.x -= l / 2,
            u.y -= l / 2,
            u.width += l,
            u.height += l;
            var h = s ? new Oo(o,a) : null;
            e.push({
                label: n,
                labelLine: i.labelLine,
                rect: u,
                localRect: o,
                obb: h,
                priority: i.priority,
                defaultAttr: i.defaultAttr,
                layoutOption: i.computedLayoutOption,
                axisAligned: s,
                transform: a
            })
        }
    }
    return e
}
function k3(t) {
    var e = [];
    t.sort(function(m, p) {
        return p.priority - m.priority
    });
    var r = new ce(0,0,0,0);
    function i(m) {
        if (!m.ignore) {
            var p = m.ensureState("emphasis");
            p.ignore == null && (p.ignore = !1)
        }
        m.ignore = !0
    }
    for (var n = 0; n < t.length; n++) {
        var a = t[n]
          , o = a.axisAligned
          , s = a.localRect
          , l = a.transform
          , u = a.label
          , h = a.labelLine;
        r.copy(a.rect),
        r.width -= .1,
        r.height -= .1,
        r.x += .05,
        r.y += .05;
        for (var f = a.obb, c = !1, v = 0; v < e.length; v++) {
            var d = e[v];
            if (!!r.intersect(d.rect)) {
                if (o && d.axisAligned) {
                    c = !0;
                    break
                }
                if (d.obb || (d.obb = new Oo(d.localRect,d.transform)),
                f || (f = new Oo(s,l)),
                f.intersect(d.obb)) {
                    c = !0;
                    break
                }
            }
        }
        c ? (i(u),
        h && i(h)) : (u.attr("ignore", a.defaultAttr.ignore),
        h && h.attr("ignore", a.defaultAttr.labelGuideIgnore),
        e.push(a))
    }
}
const L3 = ["getWidth", "getHeight", "getDom", "getOption", "resize", "dispatchAction", "convertToPixel", "convertFromPixel", "containPixel", "getDataURL", "getConnectedDataURL", "appendData", "clear", "isDisposed", "dispose"];
function P3(t) {
    function e(i) {
        return (...n)=>{
            if (!t.value)
                throw new Error("ECharts is not initialized yet.");
            return t.value[i].apply(t.value, n)
        }
    }
    function r() {
        const i = Object.create(null);
        return L3.forEach(n=>{
            i[n] = e(n)
        }
        ),
        i
    }
    return r()
}
function E3(t, e, r) {
    so([r, t, e], ([i,n,a],o,s)=>{
        let l = null;
        if (i && n && a) {
            const {offsetWidth: u, offsetHeight: h} = i
              , f = a === !0 ? {} : a
              , {throttle: c=100, onResize: v} = f;
            let d = !1;
            const m = ()=>{
                n.resize(),
                v == null || v()
            }
              , p = c ? $h(m, c) : m;
            l = new ResizeObserver(()=>{
                !d && (d = !0,
                i.offsetWidth === u && i.offsetHeight === h) || p()
            }
            ),
            l.observe(i)
        }
        s(()=>{
            l && (l.disconnect(),
            l = null)
        }
        )
    }
    )
}
const R3 = {
    autoresize: [Boolean, Object]
}
  , O3 = /^on[^a-z]/
  , W0 = t=>O3.test(t);
function B3(t) {
    const e = {};
    for (const r in t)
        W0(r) || (e[r] = t[r]);
    return e
}
function Co(t, e) {
    const r = Ay(t) ? Iy(t) : t;
    return r && typeof r == "object" && "value"in r ? r.value || e : r || e
}
const N3 = "ecLoadingOptions";
function F3(t, e, r) {
    const i = oo(N3, {})
      , n = Di(()=>({
        ...Co(i, {}),
        ...r == null ? void 0 : r.value
    }));
    np(()=>{
        const a = t.value;
        !a || (e.value ? a.showLoading(n.value) : a.hideLoading())
    }
    )
}
const z3 = {
    loading: Boolean,
    loadingOptions: Object
};
let Cn = null;
const U0 = "x-vue-echarts";
function V3() {
    if (Cn != null)
        return Cn;
    if (typeof HTMLElement == "undefined" || typeof customElements == "undefined")
        return Cn = !1;
    try {
        new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(U0)
    } catch {
        return Cn = !1
    }
    return Cn = !0
}
document.head.appendChild(document.createElement("style")).textContent = `x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;
const H3 = V3()
  , G3 = "ecTheme"
  , W3 = "ecInitOptions"
  , U3 = "ecUpdateOptions"
  , ld = /(^&?~?!?)native:/;
var $3 = Sy({
    name: "echarts",
    props: {
        option: Object,
        theme: {
            type: [Object, String]
        },
        initOptions: Object,
        updateOptions: Object,
        group: String,
        manualUpdate: Boolean,
        ...R3,
        ...z3
    },
    emits: {},
    inheritAttrs: !1,
    setup(t, {attrs: e}) {
        const r = _s()
          , i = _s()
          , n = _s()
          , a = oo(G3, null)
          , o = oo(W3, null)
          , s = oo(U3, null)
          , {autoresize: l, manualUpdate: u, loading: h, loadingOptions: f} = by(t)
          , c = Di(()=>n.value || t.option || null)
          , v = Di(()=>t.theme || Co(a, {}))
          , d = Di(()=>t.initOptions || Co(o, {}))
          , m = Di(()=>t.updateOptions || Co(s, {}))
          , p = Di(()=>B3(e))
          , g = {}
          , y = Cy().proxy.$listeners
          , _ = {};
        y ? Object.keys(y).forEach(x=>{
            ld.test(x) ? g[x.replace(ld, "$1")] = y[x] : _[x] = y[x]
        }
        ) : Object.keys(e).filter(x=>W0(x)).forEach(x=>{
            let D = x.charAt(2).toLowerCase() + x.slice(3);
            if (D.indexOf("native:") === 0) {
                const A = `on${D.charAt(7).toUpperCase()}${D.slice(8)}`;
                g[A] = e[x];
                return
            }
            D.substring(D.length - 4) === "Once" && (D = `~${D.substring(0, D.length - 4)}`),
            _[D] = e[x]
        }
        );
        function w(x) {
            if (!r.value)
                return;
            const D = i.value = jT(r.value, v.value, d.value);
            t.group && (D.group = t.group),
            Object.keys(_).forEach(P=>{
                let E = _[P];
                if (!E)
                    return;
                let O = P.toLowerCase();
                O.charAt(0) === "~" && (O = O.substring(1),
                E.__once__ = !0);
                let B = D;
                if (O.indexOf("zr:") === 0 && (B = D.getZr(),
                O = O.substring(3)),
                E.__once__) {
                    delete E.__once__;
                    const te = E;
                    E = (...W)=>{
                        te(...W),
                        B.off(O, E)
                    }
                }
                B.on(O, E)
            }
            );
            function A() {
                D && !D.isDisposed() && D.resize()
            }
            function k() {
                const P = x || c.value;
                P && D.setOption(P, m.value)
            }
            l.value ? Dy(()=>{
                A(),
                k()
            }
            ) : k()
        }
        function b(x, D) {
            t.manualUpdate && (n.value = x),
            i.value ? i.value.setOption(x, D || {}) : w(x)
        }
        function S() {
            i.value && (i.value.dispose(),
            i.value = void 0)
        }
        let C = null;
        so(u, x=>{
            typeof C == "function" && (C(),
            C = null),
            x || (C = so(()=>t.option, (D,A)=>{
                !D || (i.value ? i.value.setOption(D, {
                    notMerge: D !== A,
                    ...m.value
                }) : w())
            }
            , {
                deep: !0
            }))
        }
        , {
            immediate: !0
        }),
        so([v, d], ()=>{
            S(),
            w()
        }
        , {
            deep: !0
        }),
        np(()=>{
            t.group && i.value && (i.value.group = t.group)
        }
        );
        const T = P3(i);
        return F3(i, h, f),
        E3(i, l, r),
        xy(()=>{
            w()
        }
        ),
        Ty(()=>{
            H3 && r.value ? r.value.__dispose = S : S()
        }
        ),
        {
            chart: i,
            root: r,
            setOption: b,
            nonEventAttrs: p,
            nativeListeners: g,
            ...T
        }
    },
    render() {
        const t = {
            ...this.nonEventAttrs,
            ...this.nativeListeners
        };
        return t.ref = "root",
        t.class = t.class ? ["echarts"].concat(t.class) : "echarts",
        My(U0, t)
    }
});
function ud(t, e, r) {
    var i = ui.createCanvas()
      , n = e.getWidth()
      , a = e.getHeight()
      , o = i.style;
    return o && (o.position = "absolute",
    o.left = "0",
    o.top = "0",
    o.width = n + "px",
    o.height = a + "px",
    i.setAttribute("data-zr-dom-id", t)),
    i.width = n * r,
    i.height = a * r,
    i
}
var Y3 = function(t) {
    X(e, t);
    function e(r, i, n) {
        var a = t.call(this) || this;
        a.motionBlur = !1,
        a.lastFrameAlpha = .7,
        a.dpr = 1,
        a.virtual = !1,
        a.config = {},
        a.incremental = !1,
        a.zlevel = 0,
        a.maxRepaintRectCount = 5,
        a.__dirty = !0,
        a.__firstTimePaint = !0,
        a.__used = !1,
        a.__drawIndex = 0,
        a.__startIndex = 0,
        a.__endIndex = 0,
        a.__prevStartIndex = null,
        a.__prevEndIndex = null;
        var o;
        n = n || Lo,
        typeof r == "string" ? o = ud(r, i, n) : J(r) && (o = r,
        r = o.id),
        a.id = r,
        a.dom = o;
        var s = o.style;
        return s && (yp(o),
        o.onselectstart = function() {
            return !1
        }
        ,
        s.padding = "0",
        s.margin = "0",
        s.borderWidth = "0"),
        a.painter = i,
        a.dpr = n,
        a
    }
    return e.prototype.getElementCount = function() {
        return this.__endIndex - this.__startIndex
    }
    ,
    e.prototype.afterBrush = function() {
        this.__prevStartIndex = this.__startIndex,
        this.__prevEndIndex = this.__endIndex
    }
    ,
    e.prototype.initContext = function() {
        this.ctx = this.dom.getContext("2d"),
        this.ctx.dpr = this.dpr
    }
    ,
    e.prototype.setUnpainted = function() {
        this.__firstTimePaint = !0
    }
    ,
    e.prototype.createBackBuffer = function() {
        var r = this.dpr;
        this.domBack = ud("back-" + this.id, this.painter, r),
        this.ctxBack = this.domBack.getContext("2d"),
        r !== 1 && this.ctxBack.scale(r, r)
    }
    ,
    e.prototype.createRepaintRects = function(r, i, n, a) {
        if (this.__firstTimePaint)
            return this.__firstTimePaint = !1,
            null;
        var o = []
          , s = this.maxRepaintRectCount
          , l = !1
          , u = new ce(0,0,0,0);
        function h(y) {
            if (!(!y.isFinite() || y.isZero()))
                if (o.length === 0) {
                    var _ = new ce(0,0,0,0);
                    _.copy(y),
                    o.push(_)
                } else {
                    for (var w = !1, b = 1 / 0, S = 0, C = 0; C < o.length; ++C) {
                        var T = o[C];
                        if (T.intersect(y)) {
                            var x = new ce(0,0,0,0);
                            x.copy(T),
                            x.union(y),
                            o[C] = x,
                            w = !0;
                            break
                        } else if (l) {
                            u.copy(y),
                            u.union(T);
                            var D = y.width * y.height
                              , A = T.width * T.height
                              , k = u.width * u.height
                              , P = k - D - A;
                            P < b && (b = P,
                            S = C)
                        }
                    }
                    if (l && (o[S].union(y),
                    w = !0),
                    !w) {
                        var _ = new ce(0,0,0,0);
                        _.copy(y),
                        o.push(_)
                    }
                    l || (l = o.length >= s)
                }
        }
        for (var f = this.__startIndex; f < this.__endIndex; ++f) {
            var c = r[f];
            if (c) {
                var v = c.shouldBePainted(n, a, !0, !0)
                  , d = c.__isRendered && (c.__dirty & at || !v) ? c.getPrevPaintRect() : null;
                d && h(d);
                var m = v && (c.__dirty & at || !c.__isRendered) ? c.getPaintRect() : null;
                m && h(m)
            }
        }
        for (var f = this.__prevStartIndex; f < this.__prevEndIndex; ++f) {
            var c = i[f]
              , v = c && c.shouldBePainted(n, a, !0, !0);
            if (c && (!v || !c.__zr) && c.__isRendered) {
                var d = c.getPrevPaintRect();
                d && h(d)
            }
        }
        var p;
        do {
            p = !1;
            for (var f = 0; f < o.length; ) {
                if (o[f].isZero()) {
                    o.splice(f, 1);
                    continue
                }
                for (var g = f + 1; g < o.length; )
                    o[f].intersect(o[g]) ? (p = !0,
                    o[f].union(o[g]),
                    o.splice(g, 1)) : g++;
                f++
            }
        } while (p);
        return this._paintRects = o,
        o
    }
    ,
    e.prototype.debugGetPaintRects = function() {
        return (this._paintRects || []).slice()
    }
    ,
    e.prototype.resize = function(r, i) {
        var n = this.dpr
          , a = this.dom
          , o = a.style
          , s = this.domBack;
        o && (o.width = r + "px",
        o.height = i + "px"),
        a.width = r * n,
        a.height = i * n,
        s && (s.width = r * n,
        s.height = i * n,
        n !== 1 && this.ctxBack.scale(n, n))
    }
    ,
    e.prototype.clear = function(r, i, n) {
        var a = this.dom
          , o = this.ctx
          , s = a.width
          , l = a.height;
        i = i || this.clearColor;
        var u = this.motionBlur && !r
          , h = this.lastFrameAlpha
          , f = this.dpr
          , c = this;
        u && (this.domBack || this.createBackBuffer(),
        this.ctxBack.globalCompositeOperation = "copy",
        this.ctxBack.drawImage(a, 0, 0, s / f, l / f));
        var v = this.domBack;
        function d(m, p, g, y) {
            if (o.clearRect(m, p, g, y),
            i && i !== "transparent") {
                var _ = void 0;
                if (Zo(i)) {
                    var w = i.global || i.__width === g && i.__height === y;
                    _ = w && i.__canvasGradient || Eu(o, i, {
                        x: 0,
                        y: 0,
                        width: g,
                        height: y
                    }),
                    i.__canvasGradient = _,
                    i.__width = g,
                    i.__height = y
                } else
                    b_(i) && (i.scaleX = i.scaleX || f,
                    i.scaleY = i.scaleY || f,
                    _ = Ru(o, i, {
                        dirty: function() {
                            c.setUnpainted(),
                            c.painter.refresh()
                        }
                    }));
                o.save(),
                o.fillStyle = _ || i,
                o.fillRect(m, p, g, y),
                o.restore()
            }
            u && (o.save(),
            o.globalAlpha = h,
            o.drawImage(v, m, p, g, y),
            o.restore())
        }
        !n || u ? d(0, 0, s, l) : n.length && I(n, function(m) {
            d(m.x * f, m.y * f, m.width * f, m.height * f)
        })
    }
    ,
    e
}(Ht)
  , Ll = Y3
  , hd = 1e5
  , Yr = 314159
  , to = .01
  , X3 = .001;
function q3(t) {
    return t ? t.__builtin__ ? !0 : !(typeof t.resize != "function" || typeof t.refresh != "function") : !1
}
function Z3(t, e) {
    var r = document.createElement("div");
    return r.style.cssText = ["position:relative", "width:" + t + "px", "height:" + e + "px", "padding:0", "margin:0", "border-width:0"].join(";") + ";",
    r
}
var K3 = function() {
    function t(e, r, i, n) {
        this.type = "canvas",
        this._zlevelList = [],
        this._prevDisplayList = [],
        this._layers = {},
        this._layerConfig = {},
        this._needsManuallyCompositing = !1,
        this.type = "canvas";
        var a = !e.nodeName || e.nodeName.toUpperCase() === "CANVAS";
        this._opts = i = G({}, i || {}),
        this.dpr = i.devicePixelRatio || Lo,
        this._singleCanvas = a,
        this.root = e;
        var o = e.style;
        o && (yp(e),
        e.innerHTML = ""),
        this.storage = r;
        var s = this._zlevelList;
        this._prevDisplayList = [];
        var l = this._layers;
        if (a) {
            var h = e
              , f = h.width
              , c = h.height;
            i.width != null && (f = i.width),
            i.height != null && (c = i.height),
            this.dpr = i.devicePixelRatio || 1,
            h.width = f * this.dpr,
            h.height = c * this.dpr,
            this._width = f,
            this._height = c;
            var v = new Ll(h,this,this.dpr);
            v.__builtin__ = !0,
            v.initContext(),
            l[Yr] = v,
            v.zlevel = Yr,
            s.push(Yr),
            this._domRoot = e
        } else {
            this._width = Ya(e, 0, i),
            this._height = Ya(e, 1, i);
            var u = this._domRoot = Z3(this._width, this._height);
            e.appendChild(u)
        }
    }
    return t.prototype.getType = function() {
        return "canvas"
    }
    ,
    t.prototype.isSingleCanvas = function() {
        return this._singleCanvas
    }
    ,
    t.prototype.getViewportRoot = function() {
        return this._domRoot
    }
    ,
    t.prototype.getViewportRootOffset = function() {
        var e = this.getViewportRoot();
        if (e)
            return {
                offsetLeft: e.offsetLeft || 0,
                offsetTop: e.offsetTop || 0
            }
    }
    ,
    t.prototype.refresh = function(e) {
        var r = this.storage.getDisplayList(!0)
          , i = this._prevDisplayList
          , n = this._zlevelList;
        this._redrawId = Math.random(),
        this._paintList(r, i, e, this._redrawId);
        for (var a = 0; a < n.length; a++) {
            var o = n[a]
              , s = this._layers[o];
            if (!s.__builtin__ && s.refresh) {
                var l = a === 0 ? this._backgroundColor : null;
                s.refresh(l)
            }
        }
        return this._opts.useDirtyRect && (this._prevDisplayList = r.slice()),
        this
    }
    ,
    t.prototype.refreshHover = function() {
        this._paintHoverList(this.storage.getDisplayList(!1))
    }
    ,
    t.prototype._paintHoverList = function(e) {
        var r = e.length
          , i = this._hoverlayer;
        if (i && i.clear(),
        !!r) {
            for (var n = {
                inHover: !0,
                viewWidth: this._width,
                viewHeight: this._height
            }, a, o = 0; o < r; o++) {
                var s = e[o];
                s.__inHover && (i || (i = this._hoverlayer = this.getLayer(hd)),
                a || (a = i.ctx,
                a.save()),
                jr(a, s, n, o === r - 1))
            }
            a && a.restore()
        }
    }
    ,
    t.prototype.getHoverLayer = function() {
        return this.getLayer(hd)
    }
    ,
    t.prototype.paintOne = function(e, r) {
        Qm(e, r)
    }
    ,
    t.prototype._paintList = function(e, r, i, n) {
        if (this._redrawId === n) {
            i = i || !1,
            this._updateLayerStatus(e);
            var a = this._doPaintList(e, r, i)
              , o = a.finished
              , s = a.needsRefreshHover;
            if (this._needsManuallyCompositing && this._compositeManually(),
            s && this._paintHoverList(e),
            o)
                this.eachLayer(function(u) {
                    u.afterBrush && u.afterBrush()
                });
            else {
                var l = this;
                ru(function() {
                    l._paintList(e, r, i, n)
                })
            }
        }
    }
    ,
    t.prototype._compositeManually = function() {
        var e = this.getLayer(Yr).ctx
          , r = this._domRoot.width
          , i = this._domRoot.height;
        e.clearRect(0, 0, r, i),
        this.eachBuiltinLayer(function(n) {
            n.virtual && e.drawImage(n.dom, 0, 0, r, i)
        })
    }
    ,
    t.prototype._doPaintList = function(e, r, i) {
        for (var n = this, a = [], o = this._opts.useDirtyRect, s = 0; s < this._zlevelList.length; s++) {
            var l = this._zlevelList[s]
              , u = this._layers[l];
            u.__builtin__ && u !== this._hoverlayer && (u.__dirty || i) && a.push(u)
        }
        for (var h = !0, f = !1, c = function(m) {
            var p = a[m]
              , g = p.ctx
              , y = o && p.createRepaintRects(e, r, v._width, v._height)
              , _ = i ? p.__startIndex : p.__drawIndex
              , w = !i && p.incremental && Date.now
              , b = w && Date.now()
              , S = p.zlevel === v._zlevelList[0] ? v._backgroundColor : null;
            if (p.__startIndex === p.__endIndex)
                p.clear(!1, S, y);
            else if (_ === p.__startIndex) {
                var C = e[_];
                (!C.incremental || !C.notClear || i) && p.clear(!1, S, y)
            }
            _ === -1 && (console.error("For some unknown reason. drawIndex is -1"),
            _ = p.__startIndex);
            var T, x = function(P) {
                var E = {
                    inHover: !1,
                    allClipped: !1,
                    prevEl: null,
                    viewWidth: n._width,
                    viewHeight: n._height
                };
                for (T = _; T < p.__endIndex; T++) {
                    var O = e[T];
                    if (O.__inHover && (f = !0),
                    n._doPaintEl(O, p, o, P, E, T === p.__endIndex - 1),
                    w) {
                        var B = Date.now() - b;
                        if (B > 15)
                            break
                    }
                }
                E.prevElClipPaths && g.restore()
            };
            if (y)
                if (y.length === 0)
                    T = p.__endIndex;
                else
                    for (var D = v.dpr, A = 0; A < y.length; ++A) {
                        var k = y[A];
                        g.save(),
                        g.beginPath(),
                        g.rect(k.x * D, k.y * D, k.width * D, k.height * D),
                        g.clip(),
                        x(k),
                        g.restore()
                    }
            else
                g.save(),
                x(),
                g.restore();
            p.__drawIndex = T,
            p.__drawIndex < p.__endIndex && (h = !1)
        }, v = this, d = 0; d < a.length; d++)
            c(d);
        return ae.wxa && I(this._layers, function(m) {
            m && m.ctx && m.ctx.draw && m.ctx.draw()
        }),
        {
            finished: h,
            needsRefreshHover: f
        }
    }
    ,
    t.prototype._doPaintEl = function(e, r, i, n, a, o) {
        var s = r.ctx;
        if (i) {
            var l = e.getPaintRect();
            (!n || l && l.intersect(n)) && (jr(s, e, a, o),
            e.setPrevPaintRect(l))
        } else
            jr(s, e, a, o)
    }
    ,
    t.prototype.getLayer = function(e, r) {
        this._singleCanvas && !this._needsManuallyCompositing && (e = Yr);
        var i = this._layers[e];
        return i || (i = new Ll("zr_" + e,this,this.dpr),
        i.zlevel = e,
        i.__builtin__ = !0,
        this._layerConfig[e] ? ge(i, this._layerConfig[e], !0) : this._layerConfig[e - to] && ge(i, this._layerConfig[e - to], !0),
        r && (i.virtual = r),
        this.insertLayer(e, i),
        i.initContext()),
        i
    }
    ,
    t.prototype.insertLayer = function(e, r) {
        var i = this._layers
          , n = this._zlevelList
          , a = n.length
          , o = this._domRoot
          , s = null
          , l = -1;
        if (!i[e] && !!q3(r)) {
            if (a > 0 && e > n[0]) {
                for (l = 0; l < a - 1 && !(n[l] < e && n[l + 1] > e); l++)
                    ;
                s = i[n[l]]
            }
            if (n.splice(l + 1, 0, e),
            i[e] = r,
            !r.virtual)
                if (s) {
                    var u = s.dom;
                    u.nextSibling ? o.insertBefore(r.dom, u.nextSibling) : o.appendChild(r.dom)
                } else
                    o.firstChild ? o.insertBefore(r.dom, o.firstChild) : o.appendChild(r.dom);
            r.painter || (r.painter = this)
        }
    }
    ,
    t.prototype.eachLayer = function(e, r) {
        for (var i = this._zlevelList, n = 0; n < i.length; n++) {
            var a = i[n];
            e.call(r, this._layers[a], a)
        }
    }
    ,
    t.prototype.eachBuiltinLayer = function(e, r) {
        for (var i = this._zlevelList, n = 0; n < i.length; n++) {
            var a = i[n]
              , o = this._layers[a];
            o.__builtin__ && e.call(r, o, a)
        }
    }
    ,
    t.prototype.eachOtherLayer = function(e, r) {
        for (var i = this._zlevelList, n = 0; n < i.length; n++) {
            var a = i[n]
              , o = this._layers[a];
            o.__builtin__ || e.call(r, o, a)
        }
    }
    ,
    t.prototype.getLayers = function() {
        return this._layers
    }
    ,
    t.prototype._updateLayerStatus = function(e) {
        this.eachBuiltinLayer(function(f, c) {
            f.__dirty = f.__used = !1
        });
        function r(f) {
            a && (a.__endIndex !== f && (a.__dirty = !0),
            a.__endIndex = f)
        }
        if (this._singleCanvas)
            for (var i = 1; i < e.length; i++) {
                var n = e[i];
                if (n.zlevel !== e[i - 1].zlevel || n.incremental) {
                    this._needsManuallyCompositing = !0;
                    break
                }
            }
        var a = null, o = 0, s, l;
        for (l = 0; l < e.length; l++) {
            var n = e[l]
              , u = n.zlevel
              , h = void 0;
            s !== u && (s = u,
            o = 0),
            n.incremental ? (h = this.getLayer(u + X3, this._needsManuallyCompositing),
            h.incremental = !0,
            o = 1) : h = this.getLayer(u + (o > 0 ? to : 0), this._needsManuallyCompositing),
            h.__builtin__ || Ju("ZLevel " + u + " has been used by unkown layer " + h.id),
            h !== a && (h.__used = !0,
            h.__startIndex !== l && (h.__dirty = !0),
            h.__startIndex = l,
            h.incremental ? h.__drawIndex = -1 : h.__drawIndex = l,
            r(l),
            a = h),
            n.__dirty & at && !n.__inHover && (h.__dirty = !0,
            h.incremental && h.__drawIndex < 0 && (h.__drawIndex = l))
        }
        r(l),
        this.eachBuiltinLayer(function(f, c) {
            !f.__used && f.getElementCount() > 0 && (f.__dirty = !0,
            f.__startIndex = f.__endIndex = f.__drawIndex = 0),
            f.__dirty && f.__drawIndex < 0 && (f.__drawIndex = f.__startIndex)
        })
    }
    ,
    t.prototype.clear = function() {
        return this.eachBuiltinLayer(this._clearLayer),
        this
    }
    ,
    t.prototype._clearLayer = function(e) {
        e.clear()
    }
    ,
    t.prototype.setBackgroundColor = function(e) {
        this._backgroundColor = e,
        I(this._layers, function(r) {
            r.setUnpainted()
        })
    }
    ,
    t.prototype.configLayer = function(e, r) {
        if (r) {
            var i = this._layerConfig;
            i[e] ? ge(i[e], r, !0) : i[e] = r;
            for (var n = 0; n < this._zlevelList.length; n++) {
                var a = this._zlevelList[n];
                if (a === e || a === e + to) {
                    var o = this._layers[a];
                    ge(o, i[e], !0)
                }
            }
        }
    }
    ,
    t.prototype.delLayer = function(e) {
        var r = this._layers
          , i = this._zlevelList
          , n = r[e];
        !n || (n.dom.parentNode.removeChild(n.dom),
        delete r[e],
        i.splice(pe(i, e), 1))
    }
    ,
    t.prototype.resize = function(e, r) {
        if (this._domRoot.style) {
            var i = this._domRoot;
            i.style.display = "none";
            var n = this._opts
              , a = this.root;
            if (e != null && (n.width = e),
            r != null && (n.height = r),
            e = Ya(a, 0, n),
            r = Ya(a, 1, n),
            i.style.display = "",
            this._width !== e || r !== this._height) {
                i.style.width = e + "px",
                i.style.height = r + "px";
                for (var o in this._layers)
                    this._layers.hasOwnProperty(o) && this._layers[o].resize(e, r);
                this.refresh(!0)
            }
            this._width = e,
            this._height = r
        } else {
            if (e == null || r == null)
                return;
            this._width = e,
            this._height = r,
            this.getLayer(Yr).resize(e, r)
        }
        return this
    }
    ,
    t.prototype.clearLayer = function(e) {
        var r = this._layers[e];
        r && r.clear()
    }
    ,
    t.prototype.dispose = function() {
        this.root.innerHTML = "",
        this.root = this.storage = this._domRoot = this._layers = null
    }
    ,
    t.prototype.getRenderedCanvas = function(e) {
        if (e = e || {},
        this._singleCanvas && !this._compositeManually)
            return this._layers[Yr].dom;
        var r = new Ll("image",this,e.pixelRatio || this.dpr);
        r.initContext(),
        r.clear(!1, e.backgroundColor || this._backgroundColor);
        var i = r.ctx;
        if (e.pixelRatio <= this.dpr) {
            this.refresh();
            var n = r.dom.width
              , a = r.dom.height;
            this.eachLayer(function(f) {
                f.__builtin__ ? i.drawImage(f.dom, 0, 0, n, a) : f.renderToCanvas && (i.save(),
                f.renderToCanvas(i),
                i.restore())
            })
        } else
            for (var o = {
                inHover: !1,
                viewWidth: this._width,
                viewHeight: this._height
            }, s = this.storage.getDisplayList(!0), l = 0, u = s.length; l < u; l++) {
                var h = s[l];
                jr(i, h, o, l === u - 1)
            }
        return r.dom
    }
    ,
    t.prototype.getWidth = function() {
        return this._width
    }
    ,
    t.prototype.getHeight = function() {
        return this._height
    }
    ,
    t
}()
  , j3 = K3;
function Q3(t) {
    t.registerPainter("canvas", j3)
}
var J3 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r.hasSymbolVisual = !0,
        r
    }
    return e.prototype.getInitialData = function(r) {
        return k5(null, this, {
            useEncodeDefaulter: !0
        })
    }
    ,
    e.prototype.getLegendIcon = function(r) {
        var i = new Xe
          , n = Yi("line", 0, r.itemHeight / 2, r.itemWidth, 0, r.lineStyle.stroke, !1);
        i.add(n),
        n.setStyle(r.lineStyle);
        var a = this.getData().getVisual("symbol")
          , o = this.getData().getVisual("symbolRotate")
          , s = a === "none" ? "circle" : a
          , l = r.itemHeight * .8
          , u = Yi(s, (r.itemWidth - l) / 2, (r.itemHeight - l) / 2, l, l, r.itemStyle.fill);
        i.add(u),
        u.setStyle(r.itemStyle);
        var h = r.iconRotate === "inherit" ? o : r.iconRotate || 0;
        return u.rotation = h * Math.PI / 180,
        u.setOrigin([r.itemWidth / 2, r.itemHeight / 2]),
        s.indexOf("empty") > -1 && (u.style.stroke = u.style.fill,
        u.style.fill = "#fff",
        u.style.lineWidth = 2),
        i
    }
    ,
    e.type = "series.line",
    e.dependencies = ["grid", "polar"],
    e.defaultOption = {
        z: 3,
        coordinateSystem: "cartesian2d",
        legendHoverLink: !0,
        clip: !0,
        label: {
            position: "top"
        },
        endLabel: {
            show: !1,
            valueAnimation: !0,
            distance: 8
        },
        lineStyle: {
            width: 2,
            type: "solid"
        },
        emphasis: {
            scale: !0
        },
        step: !1,
        smooth: !1,
        smoothMonotone: null,
        symbol: "emptyCircle",
        symbolSize: 4,
        symbolRotate: null,
        showSymbol: !0,
        showAllSymbol: "auto",
        connectNulls: !1,
        sampling: "none",
        animationEasing: "linear",
        progressive: 0,
        hoverLayerThreshold: 1 / 0,
        universalTransition: {
            divideShape: "clone"
        },
        triggerLineEvent: !1
    },
    e
}(ia)
  , eM = J3;
function $0(t, e) {
    var r = t.mapDimensionsAll("defaultedLabel")
      , i = r.length;
    if (i === 1) {
        var n = $i(t, e, r[0]);
        return n != null ? n + "" : null
    } else if (i) {
        for (var a = [], o = 0; o < r.length; o++)
            a.push($i(t, e, r[o]));
        return a.join(" ")
    }
}
function tM(t, e) {
    var r = t.mapDimensionsAll("defaultedLabel");
    if (!Y(e))
        return e + "";
    for (var i = [], n = 0; n < r.length; n++) {
        var a = t.getDimensionIndex(r[n]);
        a >= 0 && i.push(e[a])
    }
    return i.join(" ")
}
var rM = function(t) {
    X(e, t);
    function e(r, i, n, a) {
        var o = t.call(this) || this;
        return o.updateData(r, i, n, a),
        o
    }
    return e.prototype._createSymbol = function(r, i, n, a, o) {
        this.removeAll();
        var s = Yi(r, -1, -1, 2, 2, null, o);
        s.attr({
            z2: 100,
            culling: !0,
            scaleX: a[0] / 2,
            scaleY: a[1] / 2
        }),
        s.drift = iM,
        this._symbolType = r,
        this.add(s)
    }
    ,
    e.prototype.stopSymbolAnimation = function(r) {
        this.childAt(0).stopAnimation(null, r)
    }
    ,
    e.prototype.getSymbolType = function() {
        return this._symbolType
    }
    ,
    e.prototype.getSymbolPath = function() {
        return this.childAt(0)
    }
    ,
    e.prototype.highlight = function() {
        Kn(this.childAt(0))
    }
    ,
    e.prototype.downplay = function() {
        jn(this.childAt(0))
    }
    ,
    e.prototype.setZ = function(r, i) {
        var n = this.childAt(0);
        n.zlevel = r,
        n.z = i
    }
    ,
    e.prototype.setDraggable = function(r, i) {
        var n = this.childAt(0);
        n.draggable = r,
        n.cursor = !i && r ? "move" : n.cursor
    }
    ,
    e.prototype.updateData = function(r, i, n, a) {
        this.silent = !1;
        var o = r.getItemVisual(i, "symbol") || "circle"
          , s = r.hostModel
          , l = e.getSymbolSize(r, i)
          , u = o !== this._symbolType
          , h = a && a.disableAnimation;
        if (u) {
            var f = r.getItemVisual(i, "symbolKeepAspect");
            this._createSymbol(o, r, i, l, f)
        } else {
            var c = this.childAt(0);
            c.silent = !1;
            var v = {
                scaleX: l[0] / 2,
                scaleY: l[1] / 2
            };
            h ? c.attr(v) : Sr(c, v, s, i),
            xb(c)
        }
        if (this._updateCommon(r, i, l, n, a),
        u) {
            var c = this.childAt(0);
            if (!h) {
                var v = {
                    scaleX: this._sizeX,
                    scaleY: this._sizeY,
                    style: {
                        opacity: c.style.opacity
                    }
                };
                c.scaleX = c.scaleY = 0,
                c.style.opacity = 0,
                Ki(c, v, s, i)
            }
        }
        h && this.childAt(0).stopAnimation("leave")
    }
    ,
    e.prototype._updateCommon = function(r, i, n, a, o) {
        var s = this.childAt(0), l = r.hostModel, u, h, f, c, v, d, m, p, g;
        if (a && (u = a.emphasisItemStyle,
        h = a.blurItemStyle,
        f = a.selectItemStyle,
        c = a.focus,
        v = a.blurScope,
        m = a.labelStatesModels,
        p = a.hoverScale,
        g = a.cursorStyle,
        d = a.emphasisDisabled),
        !a || r.hasItemOption) {
            var y = a && a.itemModel ? a.itemModel : r.getItemModel(i)
              , _ = y.getModel("emphasis");
            u = _.getModel("itemStyle").getItemStyle(),
            f = y.getModel(["select", "itemStyle"]).getItemStyle(),
            h = y.getModel(["blur", "itemStyle"]).getItemStyle(),
            c = _.get("focus"),
            v = _.get("blurScope"),
            d = _.get("disabled"),
            m = da(y),
            p = _.getShallow("scale"),
            g = y.getShallow("cursor")
        }
        var w = r.getItemVisual(i, "symbolRotate");
        s.attr("rotation", (w || 0) * Math.PI / 180 || 0);
        var b = ds(r.getItemVisual(i, "symbolOffset"), n);
        b && (s.x = b[0],
        s.y = b[1]),
        g && s.attr("cursor", g);
        var S = r.getItemVisual(i, "style")
          , C = S.fill;
        if (s instanceof hi) {
            var T = s.style;
            s.useStyle(G({
                image: T.image,
                x: T.x,
                y: T.y,
                width: T.width,
                height: T.height
            }, S))
        } else
            s.__isEmptyBrush ? s.useStyle(G({}, S)) : s.useStyle(S),
            s.style.decal = null,
            s.setColor(C, o && o.symbolInnerColor),
            s.style.strokeNoScale = !0;
        var x = r.getItemVisual(i, "liftZ")
          , D = this._z2;
        x != null ? D == null && (this._z2 = s.z2,
        s.z2 += x) : D != null && (s.z2 = D,
        this._z2 = null);
        var A = o && o.useNameLabel;
        Dh(s, m, {
            labelFetcher: l,
            labelDataIndex: i,
            defaultText: k,
            inheritColor: C,
            defaultOpacity: S.opacity
        });
        function k(O) {
            return A ? r.getName(O) : $0(r, O)
        }
        this._sizeX = n[0] / 2,
        this._sizeY = n[1] / 2;
        var P = s.ensureState("emphasis");
        P.style = u,
        s.ensureState("select").style = f,
        s.ensureState("blur").style = h;
        var E = p == null || p === !0 ? Math.max(1.1, 3 / this._sizeY) : isFinite(p) && p > 0 ? +p : 1;
        P.scaleX = this._sizeX * E,
        P.scaleY = this._sizeY * E,
        this.setSymbolScale(1),
        Ro(this, c, v, d)
    }
    ,
    e.prototype.setSymbolScale = function(r) {
        this.scaleX = this.scaleY = r
    }
    ,
    e.prototype.fadeOut = function(r, i, n) {
        var a = this.childAt(0)
          , o = de(this).dataIndex
          , s = n && n.animation;
        if (this.silent = a.silent = !0,
        n && n.fadeLabel) {
            var l = a.getTextContent();
            l && Bo(l, {
                style: {
                    opacity: 0
                }
            }, i, {
                dataIndex: o,
                removeOpt: s,
                cb: function() {
                    a.removeTextContent()
                }
            })
        } else
            a.removeTextContent();
        Bo(a, {
            style: {
                opacity: 0
            },
            scaleX: 0,
            scaleY: 0
        }, i, {
            dataIndex: o,
            cb: r,
            removeOpt: s
        })
    }
    ,
    e.getSymbolSize = function(r, i) {
        return Yh(r.getItemVisual(i, "symbolSize"))
    }
    ,
    e
}(Xe);
function iM(t, e) {
    this.parent.drift(t, e)
}
var tf = rM;
function Pl(t, e, r, i) {
    return e && !isNaN(e[0]) && !isNaN(e[1]) && !(i.isIgnore && i.isIgnore(r)) && !(i.clipShape && !i.clipShape.contain(e[0], e[1])) && t.getItemVisual(r, "symbol") !== "none"
}
function fd(t) {
    return t != null && !J(t) && (t = {
        isIgnore: t
    }),
    t || {}
}
function cd(t) {
    var e = t.hostModel
      , r = e.getModel("emphasis");
    return {
        emphasisItemStyle: r.getModel("itemStyle").getItemStyle(),
        blurItemStyle: e.getModel(["blur", "itemStyle"]).getItemStyle(),
        selectItemStyle: e.getModel(["select", "itemStyle"]).getItemStyle(),
        focus: r.get("focus"),
        blurScope: r.get("blurScope"),
        emphasisDisabled: r.get("disabled"),
        hoverScale: r.get("scale"),
        labelStatesModels: da(e),
        cursorStyle: e.get("cursor")
    }
}
var nM = function() {
    function t(e) {
        this.group = new Xe,
        this._SymbolCtor = e || tf
    }
    return t.prototype.updateData = function(e, r) {
        this._progressiveEls = null,
        r = fd(r);
        var i = this.group
          , n = e.hostModel
          , a = this._data
          , o = this._SymbolCtor
          , s = r.disableAnimation
          , l = cd(e)
          , u = {
            disableAnimation: s
        }
          , h = r.getSymbolPoint || function(f) {
            return e.getItemLayout(f)
        }
        ;
        a || i.removeAll(),
        e.diff(a).add(function(f) {
            var c = h(f);
            if (Pl(e, c, f, r)) {
                var v = new o(e,f,l,u);
                v.setPosition(c),
                e.setItemGraphicEl(f, v),
                i.add(v)
            }
        }).update(function(f, c) {
            var v = a.getItemGraphicEl(c)
              , d = h(f);
            if (!Pl(e, d, f, r)) {
                i.remove(v);
                return
            }
            var m = e.getItemVisual(f, "symbol") || "circle"
              , p = v && v.getSymbolType && v.getSymbolType();
            if (!v || p && p !== m)
                i.remove(v),
                v = new o(e,f,l,u),
                v.setPosition(d);
            else {
                v.updateData(e, f, l, u);
                var g = {
                    x: d[0],
                    y: d[1]
                };
                s ? v.attr(g) : Sr(v, g, n)
            }
            i.add(v),
            e.setItemGraphicEl(f, v)
        }).remove(function(f) {
            var c = a.getItemGraphicEl(f);
            c && c.fadeOut(function() {
                i.remove(c)
            }, n)
        }).execute(),
        this._getSymbolPoint = h,
        this._data = e
    }
    ,
    t.prototype.updateLayout = function() {
        var e = this
          , r = this._data;
        r && r.eachItemGraphicEl(function(i, n) {
            var a = e._getSymbolPoint(n);
            i.setPosition(a),
            i.markRedraw()
        })
    }
    ,
    t.prototype.incrementalPrepareUpdate = function(e) {
        this._seriesScope = cd(e),
        this._data = null,
        this.group.removeAll()
    }
    ,
    t.prototype.incrementalUpdate = function(e, r, i) {
        this._progressiveEls = [],
        i = fd(i);
        function n(l) {
            l.isGroup || (l.incremental = !0,
            l.ensureState("emphasis").hoverLayer = !0)
        }
        for (var a = e.start; a < e.end; a++) {
            var o = r.getItemLayout(a);
            if (Pl(r, o, a, i)) {
                var s = new this._SymbolCtor(r,a,this._seriesScope);
                s.traverse(n),
                s.setPosition(o),
                this.group.add(s),
                r.setItemGraphicEl(a, s),
                this._progressiveEls.push(s)
            }
        }
    }
    ,
    t.prototype.eachRendered = function(e) {
        is(this._progressiveEls || this.group, e)
    }
    ,
    t.prototype.remove = function(e) {
        var r = this.group
          , i = this._data;
        i && e ? i.eachItemGraphicEl(function(n) {
            n.fadeOut(function() {
                r.remove(n)
            }, i.hostModel)
        }) : r.removeAll()
    }
    ,
    t
}()
  , aM = nM;
function Y0(t, e, r) {
    var i = t.getBaseAxis()
      , n = t.getOtherAxis(i)
      , a = oM(n, r)
      , o = i.dim
      , s = n.dim
      , l = e.mapDimension(s)
      , u = e.mapDimension(o)
      , h = s === "x" || s === "radius" ? 1 : 0
      , f = ee(t.dimensions, function(d) {
        return e.mapDimension(d)
    })
      , c = !1
      , v = e.getCalculationInfo("stackResultDimension");
    return Xi(e, f[0]) && (c = !0,
    f[0] = v),
    Xi(e, f[1]) && (c = !0,
    f[1] = v),
    {
        dataDimsForPoint: f,
        valueStart: a,
        valueAxisDim: s,
        baseAxisDim: o,
        stacked: !!c,
        valueDim: l,
        baseDim: u,
        baseDataOffset: h,
        stackedOverDimension: e.getCalculationInfo("stackedOverDimension")
    }
}
function oM(t, e) {
    var r = 0
      , i = t.scale.getExtent();
    return e === "start" ? r = i[0] : e === "end" ? r = i[1] : be(e) && !isNaN(e) ? r = e : i[0] > 0 ? r = i[0] : i[1] < 0 && (r = i[1]),
    r
}
function X0(t, e, r, i) {
    var n = NaN;
    t.stacked && (n = r.get(r.getCalculationInfo("stackedOverDimension"), i)),
    isNaN(n) && (n = t.valueStart);
    var a = t.baseDataOffset
      , o = [];
    return o[a] = r.get(t.baseDim, i),
    o[1 - a] = n,
    e.dataToPoint(o)
}
function sM(t, e) {
    var r = [];
    return e.diff(t).add(function(i) {
        r.push({
            cmd: "+",
            idx: i
        })
    }).update(function(i, n) {
        r.push({
            cmd: "=",
            idx: n,
            idx1: i
        })
    }).remove(function(i) {
        r.push({
            cmd: "-",
            idx: i
        })
    }).execute(),
    r
}
function lM(t, e, r, i, n, a, o, s) {
    for (var l = sM(t, e), u = [], h = [], f = [], c = [], v = [], d = [], m = [], p = Y0(n, e, o), g = t.getLayout("points") || [], y = e.getLayout("points") || [], _ = 0; _ < l.length; _++) {
        var w = l[_]
          , b = !0
          , S = void 0
          , C = void 0;
        switch (w.cmd) {
        case "=":
            S = w.idx * 2,
            C = w.idx1 * 2;
            var T = g[S]
              , x = g[S + 1]
              , D = y[C]
              , A = y[C + 1];
            (isNaN(T) || isNaN(x)) && (T = D,
            x = A),
            u.push(T, x),
            h.push(D, A),
            f.push(r[S], r[S + 1]),
            c.push(i[C], i[C + 1]),
            m.push(e.getRawIndex(w.idx1));
            break;
        case "+":
            var k = w.idx
              , P = p.dataDimsForPoint
              , E = n.dataToPoint([e.get(P[0], k), e.get(P[1], k)]);
            C = k * 2,
            u.push(E[0], E[1]),
            h.push(y[C], y[C + 1]);
            var O = X0(p, n, e, k);
            f.push(O[0], O[1]),
            c.push(i[C], i[C + 1]),
            m.push(e.getRawIndex(k));
            break;
        case "-":
            b = !1
        }
        b && (v.push(w),
        d.push(d.length))
    }
    d.sort(function(j, q) {
        return m[j] - m[q]
    });
    for (var B = u.length, te = Ri(B), W = Ri(B), Z = Ri(B), re = Ri(B), ve = [], _ = 0; _ < d.length; _++) {
        var $ = d[_]
          , z = _ * 2
          , N = $ * 2;
        te[z] = u[N],
        te[z + 1] = u[N + 1],
        W[z] = h[N],
        W[z + 1] = h[N + 1],
        Z[z] = f[N],
        Z[z + 1] = f[N + 1],
        re[z] = c[N],
        re[z + 1] = c[N + 1],
        ve[_] = v[$]
    }
    return {
        current: te,
        next: W,
        stackedOnCurrent: Z,
        stackedOnNext: re,
        status: ve
    }
}
var sr = Math.min
  , lr = Math.max;
function ei(t, e) {
    return isNaN(t) || isNaN(e)
}
function Vu(t, e, r, i, n, a, o, s, l) {
    for (var u, h, f, c, v, d, m = r, p = 0; p < i; p++) {
        var g = e[m * 2]
          , y = e[m * 2 + 1];
        if (m >= n || m < 0)
            break;
        if (ei(g, y)) {
            if (l) {
                m += a;
                continue
            }
            break
        }
        if (m === r)
            t[a > 0 ? "moveTo" : "lineTo"](g, y),
            f = g,
            c = y;
        else {
            var _ = g - u
              , w = y - h;
            if (_ * _ + w * w < .5) {
                m += a;
                continue
            }
            if (o > 0) {
                for (var b = m + a, S = e[b * 2], C = e[b * 2 + 1]; S === g && C === y && p < i; )
                    p++,
                    b += a,
                    m += a,
                    S = e[b * 2],
                    C = e[b * 2 + 1],
                    g = e[m * 2],
                    y = e[m * 2 + 1],
                    _ = g - u,
                    w = y - h;
                var T = p + 1;
                if (l)
                    for (; ei(S, C) && T < i; )
                        T++,
                        b += a,
                        S = e[b * 2],
                        C = e[b * 2 + 1];
                var x = .5
                  , D = 0
                  , A = 0
                  , k = void 0
                  , P = void 0;
                if (T >= i || ei(S, C))
                    v = g,
                    d = y;
                else {
                    D = S - u,
                    A = C - h;
                    var E = g - u
                      , O = S - g
                      , B = y - h
                      , te = C - y
                      , W = void 0
                      , Z = void 0;
                    if (s === "x") {
                        W = Math.abs(E),
                        Z = Math.abs(O);
                        var re = D > 0 ? 1 : -1;
                        v = g - re * W * o,
                        d = y,
                        k = g + re * Z * o,
                        P = y
                    } else if (s === "y") {
                        W = Math.abs(B),
                        Z = Math.abs(te);
                        var ve = A > 0 ? 1 : -1;
                        v = g,
                        d = y - ve * W * o,
                        k = g,
                        P = y + ve * Z * o
                    } else
                        W = Math.sqrt(E * E + B * B),
                        Z = Math.sqrt(O * O + te * te),
                        x = Z / (Z + W),
                        v = g - D * o * (1 - x),
                        d = y - A * o * (1 - x),
                        k = g + D * o * x,
                        P = y + A * o * x,
                        k = sr(k, lr(S, g)),
                        P = sr(P, lr(C, y)),
                        k = lr(k, sr(S, g)),
                        P = lr(P, sr(C, y)),
                        D = k - g,
                        A = P - y,
                        v = g - D * W / Z,
                        d = y - A * W / Z,
                        v = sr(v, lr(u, g)),
                        d = sr(d, lr(h, y)),
                        v = lr(v, sr(u, g)),
                        d = lr(d, sr(h, y)),
                        D = g - v,
                        A = y - d,
                        k = g + D * Z / W,
                        P = y + A * Z / W
                }
                t.bezierCurveTo(f, c, v, d, g, y),
                f = k,
                c = P
            } else
                t.lineTo(g, y)
        }
        u = g,
        h = y,
        m += a
    }
    return p
}
var q0 = function() {
    function t() {
        this.smooth = 0,
        this.smoothConstraint = !0
    }
    return t
}()
  , uM = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this, r) || this;
        return i.type = "ec-polyline",
        i
    }
    return e.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        }
    }
    ,
    e.prototype.getDefaultShape = function() {
        return new q0
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n = i.points
          , a = 0
          , o = n.length / 2;
        if (i.connectNulls) {
            for (; o > 0 && ei(n[o * 2 - 2], n[o * 2 - 1]); o--)
                ;
            for (; a < o && ei(n[a * 2], n[a * 2 + 1]); a++)
                ;
        }
        for (; a < o; )
            a += Vu(r, n, a, o, o, 1, i.smooth, i.smoothMonotone, i.connectNulls) + 1
    }
    ,
    e.prototype.getPointOn = function(r, i) {
        this.path || (this.createPathProxy(),
        this.buildPath(this.path, this.shape));
        for (var n = this.path, a = n.data, o = ai.CMD, s, l, u = i === "x", h = [], f = 0; f < a.length; ) {
            var c = a[f++]
              , v = void 0
              , d = void 0
              , m = void 0
              , p = void 0
              , g = void 0
              , y = void 0
              , _ = void 0;
            switch (c) {
            case o.M:
                s = a[f++],
                l = a[f++];
                break;
            case o.L:
                if (v = a[f++],
                d = a[f++],
                _ = u ? (r - s) / (v - s) : (r - l) / (d - l),
                _ <= 1 && _ >= 0) {
                    var w = u ? (d - l) * _ + l : (v - s) * _ + s;
                    return u ? [r, w] : [w, r]
                }
                s = v,
                l = d;
                break;
            case o.C:
                v = a[f++],
                d = a[f++],
                m = a[f++],
                p = a[f++],
                g = a[f++],
                y = a[f++];
                var b = u ? Do(s, v, m, g, r, h) : Do(l, d, p, y, r, h);
                if (b > 0)
                    for (var S = 0; S < b; S++) {
                        var C = h[S];
                        if (C <= 1 && C >= 0) {
                            var w = u ? Ae(l, d, p, y, C) : Ae(s, v, m, g, C);
                            return u ? [r, w] : [w, r]
                        }
                    }
                s = g,
                l = y;
                break
            }
        }
    }
    ,
    e
}(ye)
  , hM = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e
}(q0)
  , fM = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this, r) || this;
        return i.type = "ec-polygon",
        i
    }
    return e.prototype.getDefaultShape = function() {
        return new hM
    }
    ,
    e.prototype.buildPath = function(r, i) {
        var n = i.points
          , a = i.stackedOnPoints
          , o = 0
          , s = n.length / 2
          , l = i.smoothMonotone;
        if (i.connectNulls) {
            for (; s > 0 && ei(n[s * 2 - 2], n[s * 2 - 1]); s--)
                ;
            for (; o < s && ei(n[o * 2], n[o * 2 + 1]); o++)
                ;
        }
        for (; o < s; ) {
            var u = Vu(r, n, o, s, s, 1, i.smooth, l, i.connectNulls);
            Vu(r, a, o + u - 1, u, s, -1, i.stackedOnSmooth, l, i.connectNulls),
            o += u + 1,
            r.closePath()
        }
    }
    ,
    e
}(ye);
function cM(t, e, r, i, n) {
    var a = t.getArea()
      , o = a.x
      , s = a.y
      , l = a.width
      , u = a.height
      , h = r.get(["lineStyle", "width"]) || 2;
    o -= h / 2,
    s -= h / 2,
    l += h,
    u += h,
    l = Math.ceil(l),
    o !== Math.floor(o) && (o = Math.floor(o),
    l++);
    var f = new Je({
        shape: {
            x: o,
            y: s,
            width: l,
            height: u
        }
    });
    if (e) {
        var c = t.getBaseAxis()
          , v = c.isHorizontal()
          , d = c.inverse;
        v ? (d && (f.shape.x += l),
        f.shape.width = 0) : (d || (f.shape.y += u),
        f.shape.height = 0);
        var m = ne(n) ? function(p) {
            n(p, f)
        }
        : null;
        Ki(f, {
            shape: {
                width: l,
                height: u,
                x: o,
                y: s
            }
        }, r, null, i, m)
    }
    return f
}
function vM(t, e, r) {
    var i = t.getArea()
      , n = Me(i.r0, 1)
      , a = Me(i.r, 1)
      , o = new Sh({
        shape: {
            cx: Me(t.cx, 1),
            cy: Me(t.cy, 1),
            r0: n,
            r: a,
            startAngle: i.startAngle,
            endAngle: i.endAngle,
            clockwise: i.clockwise
        }
    });
    if (e) {
        var s = t.getBaseAxis().dim === "angle";
        s ? o.shape.endAngle = i.startAngle : o.shape.r = n,
        Ki(o, {
            shape: {
                endAngle: i.endAngle,
                r: a
            }
        }, r)
    }
    return o
}
function Z0(t, e) {
    return t.type === e
}
function vd(t, e) {
    if (t.length === e.length) {
        for (var r = 0; r < t.length; r++)
            if (t[r] !== e[r])
                return;
        return !0
    }
}
function dd(t) {
    for (var e = 1 / 0, r = 1 / 0, i = -1 / 0, n = -1 / 0, a = 0; a < t.length; ) {
        var o = t[a++]
          , s = t[a++];
        isNaN(o) || (e = Math.min(o, e),
        i = Math.max(o, i)),
        isNaN(s) || (r = Math.min(s, r),
        n = Math.max(s, n))
    }
    return [[e, r], [i, n]]
}
function pd(t, e) {
    var r = dd(t)
      , i = r[0]
      , n = r[1]
      , a = dd(e)
      , o = a[0]
      , s = a[1];
    return Math.max(Math.abs(i[0] - o[0]), Math.abs(i[1] - o[1]), Math.abs(n[0] - s[0]), Math.abs(n[1] - s[1]))
}
function gd(t) {
    return be(t) ? t : t ? .5 : 0
}
function dM(t, e, r) {
    if (!r.valueDim)
        return [];
    for (var i = e.count(), n = Ri(i * 2), a = 0; a < i; a++) {
        var o = X0(r, t, e, a);
        n[a * 2] = o[0],
        n[a * 2 + 1] = o[1]
    }
    return n
}
function ur(t, e, r, i) {
    var n = e.getBaseAxis()
      , a = n.dim === "x" || n.dim === "radius" ? 0 : 1
      , o = []
      , s = 0
      , l = []
      , u = []
      , h = []
      , f = [];
    if (i) {
        for (s = 0; s < t.length; s += 2)
            !isNaN(t[s]) && !isNaN(t[s + 1]) && f.push(t[s], t[s + 1]);
        t = f
    }
    for (s = 0; s < t.length - 2; s += 2)
        switch (h[0] = t[s + 2],
        h[1] = t[s + 3],
        u[0] = t[s],
        u[1] = t[s + 1],
        o.push(u[0], u[1]),
        r) {
        case "end":
            l[a] = h[a],
            l[1 - a] = u[1 - a],
            o.push(l[0], l[1]);
            break;
        case "middle":
            var c = (u[a] + h[a]) / 2
              , v = [];
            l[a] = v[a] = c,
            l[1 - a] = u[1 - a],
            v[1 - a] = h[1 - a],
            o.push(l[0], l[1]),
            o.push(v[0], v[1]);
            break;
        default:
            l[a] = u[a],
            l[1 - a] = h[1 - a],
            o.push(l[0], l[1])
        }
    return o.push(t[s++], t[s++]),
    o
}
function pM(t, e) {
    var r = [], i = t.length, n, a;
    function o(h, f, c) {
        var v = h.coord
          , d = (c - v) / (f.coord - v)
          , m = w2(d, [h.color, f.color]);
        return {
            coord: c,
            color: m
        }
    }
    for (var s = 0; s < i; s++) {
        var l = t[s]
          , u = l.coord;
        if (u < 0)
            n = l;
        else if (u > e) {
            a ? r.push(o(a, l, e)) : n && r.push(o(n, l, 0), o(n, l, e));
            break
        } else
            n && (r.push(o(n, l, 0)),
            n = null),
            r.push(l),
            a = l
    }
    return r
}
function gM(t, e, r) {
    var i = t.getVisual("visualMeta");
    if (!(!i || !i.length || !t.count()) && e.type === "cartesian2d") {
        for (var n, a, o = i.length - 1; o >= 0; o--) {
            var s = t.getDimensionInfo(i[o].dimension);
            if (n = s && s.coordDim,
            n === "x" || n === "y") {
                a = i[o];
                break
            }
        }
        if (!!a) {
            var l = e.getAxis(n)
              , u = ee(a.stops, function(_) {
                return {
                    coord: l.toGlobalCoord(l.dataToCoord(_.value)),
                    color: _.color
                }
            })
              , h = u.length
              , f = a.outerColors.slice();
            h && u[0].coord > u[h - 1].coord && (u.reverse(),
            f.reverse());
            var c = pM(u, n === "x" ? r.getWidth() : r.getHeight())
              , v = c.length;
            if (!v && h)
                return u[0].coord < 0 ? f[1] ? f[1] : u[h - 1].color : f[0] ? f[0] : u[0].color;
            var d = 10
              , m = c[0].coord - d
              , p = c[v - 1].coord + d
              , g = p - m;
            if (g < .001)
                return "transparent";
            I(c, function(_) {
                _.offset = (_.coord - m) / g
            }),
            c.push({
                offset: v ? c[v - 1].offset : .5,
                color: f[1] || "transparent"
            }),
            c.unshift({
                offset: v ? c[0].offset : .5,
                color: f[0] || "transparent"
            });
            var y = new Hg(0,0,0,0,c,!0);
            return y[n] = m,
            y[n + "2"] = p,
            y
        }
    }
}
function mM(t, e, r) {
    var i = t.get("showAllSymbol")
      , n = i === "auto";
    if (!(i && !n)) {
        var a = r.getAxesByScale("ordinal")[0];
        if (!!a && !(n && yM(a, e))) {
            var o = e.mapDimension(a.dim)
              , s = {};
            return I(a.getViewLabels(), function(l) {
                var u = a.scale.getRawOrdinalNumber(l.tickValue);
                s[u] = 1
            }),
            function(l) {
                return !s.hasOwnProperty(e.get(o, l))
            }
        }
    }
}
function yM(t, e) {
    var r = t.getExtent()
      , i = Math.abs(r[1] - r[0]) / t.scale.count();
    isNaN(i) && (i = 0);
    for (var n = e.count(), a = Math.max(1, Math.round(n / 5)), o = 0; o < n; o += a)
        if (tf.getSymbolSize(e, o)[t.isHorizontal() ? 1 : 0] * 1.5 > i)
            return !1;
    return !0
}
function _M(t, e) {
    return isNaN(t) || isNaN(e)
}
function wM(t) {
    for (var e = t.length / 2; e > 0 && _M(t[e * 2 - 2], t[e * 2 - 1]); e--)
        ;
    return e - 1
}
function md(t, e) {
    return [t[e * 2], t[e * 2 + 1]]
}
function SM(t, e, r) {
    for (var i = t.length / 2, n = r === "x" ? 0 : 1, a, o, s = 0, l = -1, u = 0; u < i; u++)
        if (o = t[u * 2 + n],
        !(isNaN(o) || isNaN(t[u * 2 + 1 - n]))) {
            if (u === 0) {
                a = o;
                continue
            }
            if (a <= e && o >= e || a >= e && o <= e) {
                l = u;
                break
            }
            s = u,
            a = o
        }
    return {
        range: [s, l],
        t: (e - a) / (o - a)
    }
}
function K0(t) {
    if (t.get(["endLabel", "show"]))
        return !0;
    for (var e = 0; e < wt.length; e++)
        if (t.get([wt[e], "endLabel", "show"]))
            return !0;
    return !1
}
function El(t, e, r, i) {
    if (Z0(e, "cartesian2d")) {
        var n = i.getModel("endLabel")
          , a = n.get("valueAnimation")
          , o = i.getData()
          , s = {
            lastFrameIndex: 0
        }
          , l = K0(i) ? function(v, d) {
            t._endLabelOnDuring(v, d, o, s, a, n, e)
        }
        : null
          , u = e.getBaseAxis().isHorizontal()
          , h = cM(e, r, i, function() {
            var v = t._endLabel;
            v && r && s.originalX != null && v.attr({
                x: s.originalX,
                y: s.originalY
            })
        }, l);
        if (!i.get("clip", !0)) {
            var f = h.shape
              , c = Math.max(f.width, f.height);
            u ? (f.y -= c,
            f.height += c * 2) : (f.x -= c,
            f.width += c * 2)
        }
        return l && l(1, h),
        h
    } else
        return vM(e, r, i)
}
function bM(t, e) {
    var r = e.getBaseAxis()
      , i = r.isHorizontal()
      , n = r.inverse
      , a = i ? n ? "right" : "left" : "center"
      , o = i ? "middle" : n ? "top" : "bottom";
    return {
        normal: {
            align: t.get("align") || a,
            verticalAlign: t.get("verticalAlign") || o
        }
    }
}
var CM = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.init = function() {
        var r = new Xe
          , i = new aM;
        this.group.add(i.group),
        this._symbolDraw = i,
        this._lineGroup = r
    }
    ,
    e.prototype.render = function(r, i, n) {
        var a = this
          , o = r.coordinateSystem
          , s = this.group
          , l = r.getData()
          , u = r.getModel("lineStyle")
          , h = r.getModel("areaStyle")
          , f = l.getLayout("points") || []
          , c = o.type === "polar"
          , v = this._coordSys
          , d = this._symbolDraw
          , m = this._polyline
          , p = this._polygon
          , g = this._lineGroup
          , y = !i.ssr && r.get("animation")
          , _ = !h.isEmpty()
          , w = h.get("origin")
          , b = Y0(o, l, w)
          , S = _ && dM(o, l, b)
          , C = r.get("showSymbol")
          , T = r.get("connectNulls")
          , x = C && !c && mM(r, l, o)
          , D = this._data;
        D && D.eachItemGraphicEl(function(q, M) {
            q.__temp && (s.remove(q),
            D.setItemGraphicEl(M, null))
        }),
        C || d.remove(),
        s.add(g);
        var A = c ? !1 : r.get("step"), k;
        o && o.getArea && r.get("clip", !0) && (k = o.getArea(),
        k.width != null ? (k.x -= .1,
        k.y -= .1,
        k.width += .2,
        k.height += .2) : k.r0 && (k.r0 -= .5,
        k.r += .5)),
        this._clipShapeForSymbol = k;
        var P = gM(l, o, n) || l.getVisual("style")[l.getVisual("drawType")];
        if (!(m && v.type === o.type && A === this._step))
            C && d.updateData(l, {
                isIgnore: x,
                clipShape: k,
                disableAnimation: !0,
                getSymbolPoint: function(q) {
                    return [f[q * 2], f[q * 2 + 1]]
                }
            }),
            y && this._initSymbolLabelAnimation(l, o, k),
            A && (f = ur(f, o, A, T),
            S && (S = ur(S, o, A, T))),
            m = this._newPolyline(f),
            _ ? p = this._newPolygon(f, S) : p && (g.remove(p),
            p = this._polygon = null),
            c || this._initOrUpdateEndLabel(r, o, si(P)),
            g.setClipPath(El(this, o, !0, r));
        else {
            _ && !p ? p = this._newPolygon(f, S) : p && !_ && (g.remove(p),
            p = this._polygon = null),
            c || this._initOrUpdateEndLabel(r, o, si(P));
            var E = g.getClipPath();
            if (E) {
                var O = El(this, o, !1, r);
                Ki(E, {
                    shape: O.shape
                }, r)
            } else
                g.setClipPath(El(this, o, !0, r));
            C && d.updateData(l, {
                isIgnore: x,
                clipShape: k,
                disableAnimation: !0,
                getSymbolPoint: function(q) {
                    return [f[q * 2], f[q * 2 + 1]]
                }
            }),
            (!vd(this._stackedOnPoints, S) || !vd(this._points, f)) && (y ? this._doUpdateAnimation(l, S, o, n, A, w, T) : (A && (f = ur(f, o, A, T),
            S && (S = ur(S, o, A, T))),
            m.setShape({
                points: f
            }),
            p && p.setShape({
                points: f,
                stackedOnPoints: S
            })))
        }
        var B = r.getModel("emphasis")
          , te = B.get("focus")
          , W = B.get("blurScope")
          , Z = B.get("disabled");
        if (m.useStyle(me(u.getLineStyle(), {
            fill: "none",
            stroke: P,
            lineJoin: "bevel"
        })),
        Dc(m, r, "lineStyle"),
        m.style.lineWidth > 0 && r.get(["emphasis", "lineStyle", "width"]) === "bolder") {
            var re = m.getState("emphasis").style;
            re.lineWidth = +m.style.lineWidth + 1
        }
        de(m).seriesIndex = r.seriesIndex,
        Ro(m, te, W, Z);
        var ve = gd(r.get("smooth"))
          , $ = r.get("smoothMonotone");
        if (m.setShape({
            smooth: ve,
            smoothMonotone: $,
            connectNulls: T
        }),
        p) {
            var z = l.getCalculationInfo("stackedOnSeries")
              , N = 0;
            p.useStyle(me(h.getAreaStyle(), {
                fill: P,
                opacity: .7,
                lineJoin: "bevel",
                decal: l.getVisual("style").decal
            })),
            z && (N = gd(z.get("smooth"))),
            p.setShape({
                smooth: ve,
                stackedOnSmooth: N,
                smoothMonotone: $,
                connectNulls: T
            }),
            Dc(p, r, "areaStyle"),
            de(p).seriesIndex = r.seriesIndex,
            Ro(p, te, W, Z)
        }
        var j = function(q) {
            a._changePolyState(q)
        };
        l.eachItemGraphicEl(function(q) {
            q && (q.onHoverStateChange = j)
        }),
        this._polyline.onHoverStateChange = j,
        this._data = l,
        this._coordSys = o,
        this._stackedOnPoints = S,
        this._points = f,
        this._step = A,
        this._valueOrigin = w,
        r.get("triggerLineEvent") && (this.packEventData(r, m),
        p && this.packEventData(r, p))
    }
    ,
    e.prototype.packEventData = function(r, i) {
        de(i).eventData = {
            componentType: "series",
            componentSubType: "line",
            componentIndex: r.componentIndex,
            seriesIndex: r.seriesIndex,
            seriesName: r.name,
            seriesType: "line"
        }
    }
    ,
    e.prototype.highlight = function(r, i, n, a) {
        var o = r.getData()
          , s = ni(o, a);
        if (this._changePolyState("emphasis"),
        !(s instanceof Array) && s != null && s >= 0) {
            var l = o.getLayout("points")
              , u = o.getItemGraphicEl(s);
            if (!u) {
                var h = l[s * 2]
                  , f = l[s * 2 + 1];
                if (isNaN(h) || isNaN(f) || this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(h, f))
                    return;
                var c = r.get("zlevel") || 0
                  , v = r.get("z") || 0;
                u = new tf(o,s),
                u.x = h,
                u.y = f,
                u.setZ(c, v);
                var d = u.getSymbolPath().getTextContent();
                d && (d.zlevel = c,
                d.z = v,
                d.z2 = this._polyline.z2 + 1),
                u.__temp = !0,
                o.setItemGraphicEl(s, u),
                u.stopSymbolAnimation(!0),
                this.group.add(u)
            }
            u.highlight()
        } else
            _r.prototype.highlight.call(this, r, i, n, a)
    }
    ,
    e.prototype.downplay = function(r, i, n, a) {
        var o = r.getData()
          , s = ni(o, a);
        if (this._changePolyState("normal"),
        s != null && s >= 0) {
            var l = o.getItemGraphicEl(s);
            l && (l.__temp ? (o.setItemGraphicEl(s, null),
            this.group.remove(l)) : l.downplay())
        } else
            _r.prototype.downplay.call(this, r, i, n, a)
    }
    ,
    e.prototype._changePolyState = function(r) {
        var i = this._polygon;
        bc(this._polyline, r),
        i && bc(i, r)
    }
    ,
    e.prototype._newPolyline = function(r) {
        var i = this._polyline;
        return i && this._lineGroup.remove(i),
        i = new uM({
            shape: {
                points: r
            },
            segmentIgnoreThreshold: 2,
            z2: 10
        }),
        this._lineGroup.add(i),
        this._polyline = i,
        i
    }
    ,
    e.prototype._newPolygon = function(r, i) {
        var n = this._polygon;
        return n && this._lineGroup.remove(n),
        n = new fM({
            shape: {
                points: r,
                stackedOnPoints: i
            },
            segmentIgnoreThreshold: 2
        }),
        this._lineGroup.add(n),
        this._polygon = n,
        n
    }
    ,
    e.prototype._initSymbolLabelAnimation = function(r, i, n) {
        var a, o, s = i.getBaseAxis(), l = s.inverse;
        i.type === "cartesian2d" ? (a = s.isHorizontal(),
        o = !1) : i.type === "polar" && (a = s.dim === "angle",
        o = !0);
        var u = r.hostModel
          , h = u.get("animationDuration");
        ne(h) && (h = h(null));
        var f = u.get("animationDelay") || 0
          , c = ne(f) ? f(null) : f;
        r.eachItemGraphicEl(function(v, d) {
            var m = v;
            if (m) {
                var p = [v.x, v.y]
                  , g = void 0
                  , y = void 0
                  , _ = void 0;
                if (n)
                    if (o) {
                        var w = n
                          , b = i.pointToCoord(p);
                        a ? (g = w.startAngle,
                        y = w.endAngle,
                        _ = -b[1] / 180 * Math.PI) : (g = w.r0,
                        y = w.r,
                        _ = b[0])
                    } else {
                        var S = n;
                        a ? (g = S.x,
                        y = S.x + S.width,
                        _ = v.x) : (g = S.y + S.height,
                        y = S.y,
                        _ = v.y)
                    }
                var C = y === g ? 0 : (_ - g) / (y - g);
                l && (C = 1 - C);
                var T = ne(f) ? f(d) : h * C + c
                  , x = m.getSymbolPath()
                  , D = x.getTextContent();
                m.attr({
                    scaleX: 0,
                    scaleY: 0
                }),
                m.animateTo({
                    scaleX: 1,
                    scaleY: 1
                }, {
                    duration: 200,
                    setToFinal: !0,
                    delay: T
                }),
                D && D.animateFrom({
                    style: {
                        opacity: 0
                    }
                }, {
                    duration: 300,
                    delay: T
                }),
                x.disableLabelAnimation = !0
            }
        })
    }
    ,
    e.prototype._initOrUpdateEndLabel = function(r, i, n) {
        var a = r.getModel("endLabel");
        if (K0(r)) {
            var o = r.getData()
              , s = this._polyline
              , l = o.getLayout("points");
            if (!l) {
                s.removeTextContent(),
                this._endLabel = null;
                return
            }
            var u = this._endLabel;
            u || (u = this._endLabel = new _t({
                z2: 200
            }),
            u.ignoreClip = !0,
            s.setTextContent(this._endLabel),
            s.disableLabelAnimation = !0);
            var h = wM(l);
            h >= 0 && (Dh(s, da(r, "endLabel"), {
                inheritColor: n,
                labelFetcher: r,
                labelDataIndex: h,
                defaultText: function(f, c, v) {
                    return v != null ? tM(o, v) : $0(o, f)
                },
                enableTextSetter: !0
            }, bM(a, i)),
            s.textConfig.position = null)
        } else
            this._endLabel && (this._polyline.removeTextContent(),
            this._endLabel = null)
    }
    ,
    e.prototype._endLabelOnDuring = function(r, i, n, a, o, s, l) {
        var u = this._endLabel
          , h = this._polyline;
        if (u) {
            r < 1 && a.originalX == null && (a.originalX = u.x,
            a.originalY = u.y);
            var f = n.getLayout("points")
              , c = n.hostModel
              , v = c.get("connectNulls")
              , d = s.get("precision")
              , m = s.get("distance") || 0
              , p = l.getBaseAxis()
              , g = p.isHorizontal()
              , y = p.inverse
              , _ = i.shape
              , w = y ? g ? _.x : _.y + _.height : g ? _.x + _.width : _.y
              , b = (g ? m : 0) * (y ? -1 : 1)
              , S = (g ? 0 : -m) * (y ? -1 : 1)
              , C = g ? "x" : "y"
              , T = SM(f, w, C)
              , x = T.range
              , D = x[1] - x[0]
              , A = void 0;
            if (D >= 1) {
                if (D > 1 && !v) {
                    var k = md(f, x[0]);
                    u.attr({
                        x: k[0] + b,
                        y: k[1] + S
                    }),
                    o && (A = c.getRawValue(x[0]))
                } else {
                    var k = h.getPointOn(w, C);
                    k && u.attr({
                        x: k[0] + b,
                        y: k[1] + S
                    });
                    var P = c.getRawValue(x[0])
                      , E = c.getRawValue(x[1]);
                    o && (A = yw(n, d, P, E, T.t))
                }
                a.lastFrameIndex = x[0]
            } else {
                var O = r === 1 || a.lastFrameIndex > 0 ? x[0] : 0
                  , k = md(f, O);
                o && (A = c.getRawValue(O)),
                u.attr({
                    x: k[0] + b,
                    y: k[1] + S
                })
            }
            if (o) {
                var B = Zg(u);
                typeof B.setLabelText == "function" && B.setLabelText(A)
            }
        }
    }
    ,
    e.prototype._doUpdateAnimation = function(r, i, n, a, o, s, l) {
        var u = this._polyline
          , h = this._polygon
          , f = r.hostModel
          , c = lM(this._data, r, this._stackedOnPoints, i, this._coordSys, n, this._valueOrigin)
          , v = c.current
          , d = c.stackedOnCurrent
          , m = c.next
          , p = c.stackedOnNext;
        if (o && (v = ur(c.current, n, o, l),
        d = ur(c.stackedOnCurrent, n, o, l),
        m = ur(c.next, n, o, l),
        p = ur(c.stackedOnNext, n, o, l)),
        pd(v, m) > 3e3 || h && pd(d, p) > 3e3) {
            u.stopAnimation(),
            u.setShape({
                points: m
            }),
            h && (h.stopAnimation(),
            h.setShape({
                points: m,
                stackedOnPoints: p
            }));
            return
        }
        u.shape.__points = c.current,
        u.shape.points = v;
        var g = {
            shape: {
                points: m
            }
        };
        c.current !== v && (g.shape.__points = c.next),
        u.stopAnimation(),
        Sr(u, g, f),
        h && (h.setShape({
            points: v,
            stackedOnPoints: d
        }),
        h.stopAnimation(),
        Sr(h, {
            shape: {
                stackedOnPoints: p
            }
        }, f),
        u.shape.points !== h.shape.points && (h.shape.points = u.shape.points));
        for (var y = [], _ = c.status, w = 0; w < _.length; w++) {
            var b = _[w].cmd;
            if (b === "=") {
                var S = r.getItemGraphicEl(_[w].idx1);
                S && y.push({
                    el: S,
                    ptIdx: w
                })
            }
        }
        u.animators && u.animators.length && u.animators[0].during(function() {
            h && h.dirtyShape();
            for (var C = u.shape.__points, T = 0; T < y.length; T++) {
                var x = y[T].el
                  , D = y[T].ptIdx * 2;
                x.x = C[D],
                x.y = C[D + 1],
                x.markRedraw()
            }
        })
    }
    ,
    e.prototype.remove = function(r) {
        var i = this.group
          , n = this._data;
        this._lineGroup.removeAll(),
        this._symbolDraw.remove(!0),
        n && n.eachItemGraphicEl(function(a, o) {
            a.__temp && (i.remove(a),
            n.setItemGraphicEl(o, null))
        }),
        this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null
    }
    ,
    e.type = "line",
    e
}(_r)
  , xM = CM;
function TM(t, e) {
    return {
        seriesType: t,
        plan: Fm(),
        reset: function(r) {
            var i = r.getData()
              , n = r.coordinateSystem
              , a = r.pipelineContext
              , o = e || a.large;
            if (!!n) {
                var s = ee(n.dimensions, function(v) {
                    return i.mapDimension(v)
                }).slice(0, 2)
                  , l = s.length
                  , u = i.getCalculationInfo("stackResultDimension");
                Xi(i, s[0]) && (s[0] = u),
                Xi(i, s[1]) && (s[1] = u);
                var h = i.getStore()
                  , f = i.getDimensionIndex(s[0])
                  , c = i.getDimensionIndex(s[1]);
                return l && {
                    progress: function(v, d) {
                        for (var m = v.end - v.start, p = o && Ri(m * l), g = [], y = [], _ = v.start, w = 0; _ < v.end; _++) {
                            var b = void 0;
                            if (l === 1) {
                                var S = h.get(f, _);
                                b = n.dataToPoint(S, null, y)
                            } else
                                g[0] = h.get(f, _),
                                g[1] = h.get(c, _),
                                b = n.dataToPoint(g, null, y);
                            o ? (p[w++] = b[0],
                            p[w++] = b[1]) : d.setItemLayout(_, b.slice())
                        }
                        o && d.setLayout("points", p)
                    }
                }
            }
        }
    }
}
var MM = {
    average: function(t) {
        for (var e = 0, r = 0, i = 0; i < t.length; i++)
            isNaN(t[i]) || (e += t[i],
            r++);
        return r === 0 ? NaN : e / r
    },
    sum: function(t) {
        for (var e = 0, r = 0; r < t.length; r++)
            e += t[r] || 0;
        return e
    },
    max: function(t) {
        for (var e = -1 / 0, r = 0; r < t.length; r++)
            t[r] > e && (e = t[r]);
        return isFinite(e) ? e : NaN
    },
    min: function(t) {
        for (var e = 1 / 0, r = 0; r < t.length; r++)
            t[r] < e && (e = t[r]);
        return isFinite(e) ? e : NaN
    },
    minmax: function(t) {
        for (var e = -1 / 0, r = -1 / 0, i = 0; i < t.length; i++) {
            var n = t[i]
              , a = Math.abs(n);
            a > e && (e = a,
            r = n)
        }
        return isFinite(r) ? r : NaN
    },
    nearest: function(t) {
        return t[0]
    }
}
  , DM = function(t) {
    return Math.round(t.length / 2)
};
function AM(t) {
    return {
        seriesType: t,
        reset: function(e, r, i) {
            var n = e.getData()
              , a = e.get("sampling")
              , o = e.coordinateSystem
              , s = n.count();
            if (s > 10 && o.type === "cartesian2d" && a) {
                var l = o.getBaseAxis()
                  , u = o.getOtherAxis(l)
                  , h = l.getExtent()
                  , f = i.getDevicePixelRatio()
                  , c = Math.abs(h[1] - h[0]) * (f || 1)
                  , v = Math.round(s / c);
                if (isFinite(v) && v > 1) {
                    a === "lttb" && e.setData(n.lttbDownSample(n.mapDimension(u.dim), 1 / v));
                    var d = void 0;
                    Q(a) ? d = MM[a] : ne(a) && (d = a),
                    d && e.setData(n.downSample(n.mapDimension(u.dim), 1 / v, d, DM))
                }
            }
        }
    }
}
function IM(t) {
    t.registerChartView(xM),
    t.registerSeriesModel(eM),
    t.registerLayout(TM("line", !0)),
    t.registerVisual({
        seriesType: "line",
        reset: function(e) {
            var r = e.getData()
              , i = e.getModel("lineStyle").getLineStyle();
            i && !i.stroke && (i.stroke = r.getVisual("style").fill),
            r.setVisual("legendLineStyle", i)
        }
    }),
    t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, AM("line"))
}
var kM = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.type = "grid",
    e.dependencies = ["xAxis", "yAxis"],
    e.layoutMode = "box",
    e.defaultOption = {
        show: !1,
        z: 0,
        left: "10%",
        top: 60,
        right: "10%",
        bottom: 70,
        containLabel: !1,
        backgroundColor: "rgba(0,0,0,0)",
        borderWidth: 1,
        borderColor: "#ccc"
    },
    e
}(we)
  , LM = kM
  , Hu = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.getCoordSysModel = function() {
        return this.getReferringComponents("grid", At).models[0]
    }
    ,
    e.type = "cartesian2dAxis",
    e
}(we);
It(Hu, g3);
var j0 = {
    show: !0,
    z: 0,
    inverse: !1,
    name: "",
    nameLocation: "end",
    nameRotate: null,
    nameTruncate: {
        maxWidth: null,
        ellipsis: "...",
        placeholder: "."
    },
    nameTextStyle: {},
    nameGap: 15,
    silent: !1,
    triggerEvent: !1,
    tooltip: {
        show: !1
    },
    axisPointer: {},
    axisLine: {
        show: !0,
        onZero: !0,
        onZeroAxisIndex: null,
        lineStyle: {
            color: "#6E7079",
            width: 1,
            type: "solid"
        },
        symbol: ["none", "none"],
        symbolSize: [10, 15]
    },
    axisTick: {
        show: !0,
        inside: !1,
        length: 5,
        lineStyle: {
            width: 1
        }
    },
    axisLabel: {
        show: !0,
        inside: !1,
        rotate: 0,
        showMinLabel: null,
        showMaxLabel: null,
        margin: 8,
        fontSize: 12
    },
    splitLine: {
        show: !0,
        lineStyle: {
            color: ["#E0E6F1"],
            width: 1,
            type: "solid"
        }
    },
    splitArea: {
        show: !1,
        areaStyle: {
            color: ["rgba(250,250,250,0.2)", "rgba(210,219,238,0.2)"]
        }
    }
}
  , PM = ge({
    boundaryGap: !0,
    deduplication: null,
    splitLine: {
        show: !1
    },
    axisTick: {
        alignWithLabel: !1,
        interval: "auto"
    },
    axisLabel: {
        interval: "auto"
    }
}, j0)
  , rf = ge({
    boundaryGap: [0, 0],
    axisLine: {
        show: "auto"
    },
    axisTick: {
        show: "auto"
    },
    splitNumber: 5,
    minorTick: {
        show: !1,
        splitNumber: 5,
        length: 3,
        lineStyle: {}
    },
    minorSplitLine: {
        show: !1,
        lineStyle: {
            color: "#F4F7FD",
            width: 1
        }
    }
}, j0)
  , EM = ge({
    splitNumber: 6,
    axisLabel: {
        showMinLabel: !1,
        showMaxLabel: !1,
        rich: {
            primary: {
                fontWeight: "bold"
            }
        }
    },
    splitLine: {
        show: !1
    }
}, rf)
  , RM = me({
    logBase: 10
}, rf)
  , OM = {
    category: PM,
    value: rf,
    time: EM,
    log: RM
}
  , BM = {
    value: 1,
    category: 1,
    time: 1,
    log: 1
};
function yd(t, e, r, i) {
    I(BM, function(n, a) {
        var o = ge(ge({}, OM[a], !0), i, !0)
          , s = function(l) {
            X(u, l);
            function u() {
                var h = l !== null && l.apply(this, arguments) || this;
                return h.type = e + "Axis." + a,
                h
            }
            return u.prototype.mergeDefaultAndTheme = function(h, f) {
                var c = ea(this)
                  , v = c ? Oh(h) : {}
                  , d = f.getTheme();
                ge(h, d.get(a + "Axis")),
                ge(h, this.getDefaultOption()),
                h.type = _d(h),
                c && ta(h, v, c)
            }
            ,
            u.prototype.optionUpdated = function() {
                var h = this.option;
                h.type === "category" && (this.__ordinalMeta = Fu.createByAxisModel(this))
            }
            ,
            u.prototype.getCategories = function(h) {
                var f = this.option;
                if (f.type === "category")
                    return h ? f.data : this.__ordinalMeta.categories
            }
            ,
            u.prototype.getOrdinalMeta = function() {
                return this.__ordinalMeta
            }
            ,
            u.type = e + "Axis." + a,
            u.defaultOption = o,
            u
        }(r);
        t.registerComponentModel(s)
    }),
    t.registerSubTypeDefaulter(e + "Axis", _d)
}
function _d(t) {
    return t.type || (t.data ? "category" : "value")
}
var NM = function() {
    function t(e) {
        this.type = "cartesian",
        this._dimList = [],
        this._axes = {},
        this.name = e || ""
    }
    return t.prototype.getAxis = function(e) {
        return this._axes[e]
    }
    ,
    t.prototype.getAxes = function() {
        return ee(this._dimList, function(e) {
            return this._axes[e]
        }, this)
    }
    ,
    t.prototype.getAxesByScale = function(e) {
        return e = e.toLowerCase(),
        Ue(this.getAxes(), function(r) {
            return r.scale.type === e
        })
    }
    ,
    t.prototype.addAxis = function(e) {
        var r = e.dim;
        this._axes[r] = e,
        this._dimList.push(r)
    }
    ,
    t
}()
  , FM = NM
  , Gu = ["x", "y"];
function wd(t) {
    return t.type === "interval" || t.type === "time"
}
var zM = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = "cartesian2d",
        r.dimensions = Gu,
        r
    }
    return e.prototype.calcAffineTransform = function() {
        this._transform = this._invTransform = null;
        var r = this.getAxis("x").scale
          , i = this.getAxis("y").scale;
        if (!(!wd(r) || !wd(i))) {
            var n = r.getExtent()
              , a = i.getExtent()
              , o = this.dataToPoint([n[0], a[0]])
              , s = this.dataToPoint([n[1], a[1]])
              , l = n[1] - n[0]
              , u = a[1] - a[0];
            if (!(!l || !u)) {
                var h = (s[0] - o[0]) / l
                  , f = (s[1] - o[1]) / u
                  , c = o[0] - n[0] * h
                  , v = o[1] - a[0] * f
                  , d = this._transform = [h, 0, 0, f, c, v];
                this._invTransform = ah([], d)
            }
        }
    }
    ,
    e.prototype.getBaseAxis = function() {
        return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x")
    }
    ,
    e.prototype.containPoint = function(r) {
        var i = this.getAxis("x")
          , n = this.getAxis("y");
        return i.contain(i.toLocalCoord(r[0])) && n.contain(n.toLocalCoord(r[1]))
    }
    ,
    e.prototype.containData = function(r) {
        return this.getAxis("x").containData(r[0]) && this.getAxis("y").containData(r[1])
    }
    ,
    e.prototype.containZone = function(r, i) {
        var n = this.dataToPoint(r)
          , a = this.dataToPoint(i)
          , o = this.getArea()
          , s = new ce(n[0],n[1],a[0] - n[0],a[1] - n[1]);
        return o.intersect(s)
    }
    ,
    e.prototype.dataToPoint = function(r, i, n) {
        n = n || [];
        var a = r[0]
          , o = r[1];
        if (this._transform && a != null && isFinite(a) && o != null && isFinite(o))
            return yt(n, r, this._transform);
        var s = this.getAxis("x")
          , l = this.getAxis("y");
        return n[0] = s.toGlobalCoord(s.dataToCoord(a, i)),
        n[1] = l.toGlobalCoord(l.dataToCoord(o, i)),
        n
    }
    ,
    e.prototype.clampData = function(r, i) {
        var n = this.getAxis("x").scale
          , a = this.getAxis("y").scale
          , o = n.getExtent()
          , s = a.getExtent()
          , l = n.parse(r[0])
          , u = a.parse(r[1]);
        return i = i || [],
        i[0] = Math.min(Math.max(Math.min(o[0], o[1]), l), Math.max(o[0], o[1])),
        i[1] = Math.min(Math.max(Math.min(s[0], s[1]), u), Math.max(s[0], s[1])),
        i
    }
    ,
    e.prototype.pointToData = function(r, i) {
        var n = [];
        if (this._invTransform)
            return yt(n, r, this._invTransform);
        var a = this.getAxis("x")
          , o = this.getAxis("y");
        return n[0] = a.coordToData(a.toLocalCoord(r[0]), i),
        n[1] = o.coordToData(o.toLocalCoord(r[1]), i),
        n
    }
    ,
    e.prototype.getOtherAxis = function(r) {
        return this.getAxis(r.dim === "x" ? "y" : "x")
    }
    ,
    e.prototype.getArea = function(r) {
        r = r || 0;
        var i = this.getAxis("x").getGlobalExtent()
          , n = this.getAxis("y").getGlobalExtent()
          , a = Math.min(i[0], i[1]) - r
          , o = Math.min(n[0], n[1]) - r
          , s = Math.max(i[0], i[1]) - a + r
          , l = Math.max(n[0], n[1]) - o + r;
        return new ce(a,o,s,l)
    }
    ,
    e
}(FM)
  , VM = function(t) {
    X(e, t);
    function e(r, i, n, a, o) {
        var s = t.call(this, r, i, n) || this;
        return s.index = 0,
        s.type = a || "value",
        s.position = o || "bottom",
        s
    }
    return e.prototype.isHorizontal = function() {
        var r = this.position;
        return r === "top" || r === "bottom"
    }
    ,
    e.prototype.getGlobalExtent = function(r) {
        var i = this.getExtent();
        return i[0] = this.toGlobalCoord(i[0]),
        i[1] = this.toGlobalCoord(i[1]),
        r && i[0] > i[1] && i.reverse(),
        i
    }
    ,
    e.prototype.pointToData = function(r, i) {
        return this.coordToData(this.toLocalCoord(r[this.dim === "x" ? 0 : 1]), i)
    }
    ,
    e.prototype.setCategorySortInfo = function(r) {
        if (this.type !== "category")
            return !1;
        this.model.option.categorySortInfo = r,
        this.scale.setSortInfo(r)
    }
    ,
    e
}(A3)
  , HM = VM;
function Wu(t, e, r) {
    r = r || {};
    var i = t.coordinateSystem
      , n = e.axis
      , a = {}
      , o = n.getAxesOnZeroOf()[0]
      , s = n.position
      , l = o ? "onZero" : s
      , u = n.dim
      , h = i.getRect()
      , f = [h.x, h.x + h.width, h.y, h.y + h.height]
      , c = {
        left: 0,
        right: 1,
        top: 0,
        bottom: 1,
        onZero: 2
    }
      , v = e.get("offset") || 0
      , d = u === "x" ? [f[2] - v, f[3] + v] : [f[0] - v, f[1] + v];
    if (o) {
        var m = o.toGlobalCoord(o.dataToCoord(0));
        d[c.onZero] = Math.max(Math.min(m, d[1]), d[0])
    }
    a.position = [u === "y" ? d[c[l]] : f[0], u === "x" ? d[c[l]] : f[3]],
    a.rotation = Math.PI / 2 * (u === "x" ? 0 : 1);
    var p = {
        top: -1,
        bottom: 1,
        left: -1,
        right: 1
    };
    a.labelDirection = a.tickDirection = a.nameDirection = p[s],
    a.labelOffset = o ? d[c[s]] - d[c.onZero] : 0,
    e.get(["axisTick", "inside"]) && (a.tickDirection = -a.tickDirection),
    Wi(r.labelInside, e.get(["axisLabel", "inside"])) && (a.labelDirection = -a.labelDirection);
    var g = e.get(["axisLabel", "rotate"]);
    return a.labelRotate = l === "top" ? -g : g,
    a.z2 = 1,
    a
}
function Sd(t) {
    return t.get("coordinateSystem") === "cartesian2d"
}
function bd(t) {
    var e = {
        xAxisModel: null,
        yAxisModel: null
    };
    return I(e, function(r, i) {
        var n = i.replace(/Model$/, "")
          , a = t.getReferringComponents(n, At).models[0];
        e[i] = a
    }),
    e
}
var Rl = Math.log;
function GM(t, e, r) {
    var i = pa.prototype
      , n = i.getTicks.call(r)
      , a = i.getTicks.call(r, !0)
      , o = n.length - 1
      , s = i.getInterval.call(r)
      , l = R0(t, e)
      , u = l.extent
      , h = l.fixMin
      , f = l.fixMax;
    if (t.type === "log") {
        var c = Rl(t.base);
        u = [Rl(u[0]) / c, Rl(u[1]) / c]
    }
    t.setExtent(u[0], u[1]),
    t.calcNiceExtent({
        splitNumber: o,
        fixMin: h,
        fixMax: f
    });
    var v = i.getExtent.call(t);
    h && (u[0] = v[0]),
    f && (u[1] = v[1]);
    var d = i.getInterval.call(t)
      , m = u[0]
      , p = u[1];
    if (h && f)
        d = (p - m) / o;
    else if (h)
        for (p = u[0] + d * o; p < u[1] && isFinite(p) && isFinite(u[1]); )
            d = kl(d),
            p = u[0] + d * o;
    else if (f)
        for (m = u[1] - d * o; m > u[0] && isFinite(m) && isFinite(u[0]); )
            d = kl(d),
            m = u[1] - d * o;
    else {
        var g = t.getTicks().length - 1;
        g > o && (d = kl(d));
        var y = d * o;
        p = Math.ceil(u[1] / d) * d,
        m = Me(p - y),
        m < 0 && u[0] >= 0 ? (m = 0,
        p = Me(y)) : p > 0 && u[1] <= 0 && (p = 0,
        m = -Me(y))
    }
    var _ = (n[0].value - a[0].value) / s
      , w = (n[o].value - a[o].value) / s;
    i.setExtent.call(t, m + d * _, p + d * w),
    i.setInterval.call(t, d),
    (_ || w) && i.setNiceExtent.call(t, m + d, p - d)
}
var WM = function() {
    function t(e, r, i) {
        this.type = "grid",
        this._coordsMap = {},
        this._coordsList = [],
        this._axesMap = {},
        this._axesList = [],
        this.axisPointerEnabled = !0,
        this.dimensions = Gu,
        this._initCartesian(e, r, i),
        this.model = e
    }
    return t.prototype.getRect = function() {
        return this._rect
    }
    ,
    t.prototype.update = function(e, r) {
        var i = this._axesMap;
        this._updateScale(e, this.model);
        function n(o) {
            var s, l = Se(o), u = l.length;
            if (!!u) {
                for (var h = [], f = u - 1; f >= 0; f--) {
                    var c = +l[f]
                      , v = o[c]
                      , d = v.model
                      , m = v.scale;
                    zu(m) && d.get("alignTicks") && d.get("interval") == null ? h.push(v) : (nd(m, d),
                    zu(m) && (s = v))
                }
                h.length && (s || (s = h.pop(),
                nd(s.scale, s.model)),
                I(h, function(p) {
                    GM(p.scale, p.model, s.scale)
                }))
            }
        }
        n(i.x),
        n(i.y);
        var a = {};
        I(i.x, function(o) {
            Cd(i, "y", o, a)
        }),
        I(i.y, function(o) {
            Cd(i, "x", o, a)
        }),
        this.resize(this.model, r)
    }
    ,
    t.prototype.resize = function(e, r, i) {
        var n = e.getBoxLayoutParams()
          , a = !i && e.get("containLabel")
          , o = Rh(n, {
            width: r.getWidth(),
            height: r.getHeight()
        });
        this._rect = o;
        var s = this._axesList;
        l(),
        a && (I(s, function(u) {
            if (!u.model.get(["axisLabel", "inside"])) {
                var h = v3(u);
                if (h) {
                    var f = u.isHorizontal() ? "height" : "width"
                      , c = u.model.get(["axisLabel", "margin"]);
                    o[f] -= h[f] + c,
                    u.position === "top" ? o.y += h.height + c : u.position === "left" && (o.x += h.width + c)
                }
            }
        }),
        l()),
        I(this._coordsList, function(u) {
            u.calcAffineTransform()
        });
        function l() {
            I(s, function(u) {
                var h = u.isHorizontal()
                  , f = h ? [0, o.width] : [0, o.height]
                  , c = u.inverse ? 1 : 0;
                u.setExtent(f[c], f[1 - c]),
                UM(u, h ? o.x : o.y)
            })
        }
    }
    ,
    t.prototype.getAxis = function(e, r) {
        var i = this._axesMap[e];
        if (i != null)
            return i[r || 0]
    }
    ,
    t.prototype.getAxes = function() {
        return this._axesList.slice()
    }
    ,
    t.prototype.getCartesian = function(e, r) {
        if (e != null && r != null) {
            var i = "x" + e + "y" + r;
            return this._coordsMap[i]
        }
        J(e) && (r = e.yAxisIndex,
        e = e.xAxisIndex);
        for (var n = 0, a = this._coordsList; n < a.length; n++)
            if (a[n].getAxis("x").index === e || a[n].getAxis("y").index === r)
                return a[n]
    }
    ,
    t.prototype.getCartesians = function() {
        return this._coordsList.slice()
    }
    ,
    t.prototype.convertToPixel = function(e, r, i) {
        var n = this._findConvertTarget(r);
        return n.cartesian ? n.cartesian.dataToPoint(i) : n.axis ? n.axis.toGlobalCoord(n.axis.dataToCoord(i)) : null
    }
    ,
    t.prototype.convertFromPixel = function(e, r, i) {
        var n = this._findConvertTarget(r);
        return n.cartesian ? n.cartesian.pointToData(i) : n.axis ? n.axis.coordToData(n.axis.toLocalCoord(i)) : null
    }
    ,
    t.prototype._findConvertTarget = function(e) {
        var r = e.seriesModel, i = e.xAxisModel || r && r.getReferringComponents("xAxis", At).models[0], n = e.yAxisModel || r && r.getReferringComponents("yAxis", At).models[0], a = e.gridModel, o = this._coordsList, s, l;
        if (r)
            s = r.coordinateSystem,
            pe(o, s) < 0 && (s = null);
        else if (i && n)
            s = this.getCartesian(i.componentIndex, n.componentIndex);
        else if (i)
            l = this.getAxis("x", i.componentIndex);
        else if (n)
            l = this.getAxis("y", n.componentIndex);
        else if (a) {
            var u = a.coordinateSystem;
            u === this && (s = this._coordsList[0])
        }
        return {
            cartesian: s,
            axis: l
        }
    }
    ,
    t.prototype.containPoint = function(e) {
        var r = this._coordsList[0];
        if (r)
            return r.containPoint(e)
    }
    ,
    t.prototype._initCartesian = function(e, r, i) {
        var n = this
          , a = this
          , o = {
            left: !1,
            right: !1,
            top: !1,
            bottom: !1
        }
          , s = {
            x: {},
            y: {}
        }
          , l = {
            x: 0,
            y: 0
        };
        if (r.eachComponent("xAxis", u("x"), this),
        r.eachComponent("yAxis", u("y"), this),
        !l.x || !l.y) {
            this._axesMap = {},
            this._axesList = [];
            return
        }
        this._axesMap = s,
        I(s.x, function(h, f) {
            I(s.y, function(c, v) {
                var d = "x" + f + "y" + v
                  , m = new zM(d);
                m.master = n,
                m.model = e,
                n._coordsMap[d] = m,
                n._coordsList.push(m),
                m.addAxis(h),
                m.addAxis(c)
            })
        });
        function u(h) {
            return function(f, c) {
                if (!!Ol(f, e)) {
                    var v = f.get("position");
                    h === "x" ? v !== "top" && v !== "bottom" && (v = o.bottom ? "top" : "bottom") : v !== "left" && v !== "right" && (v = o.left ? "right" : "left"),
                    o[v] = !0;
                    var d = new HM(h,f3(f),[0, 0],f.get("type"),v)
                      , m = d.type === "category";
                    d.onBand = m && f.get("boundaryGap"),
                    d.inverse = f.get("inverse"),
                    f.axis = d,
                    d.model = f,
                    d.grid = a,
                    d.index = c,
                    a._axesList.push(d),
                    s[h][c] = d,
                    l[h]++
                }
            }
        }
    }
    ,
    t.prototype._updateScale = function(e, r) {
        I(this._axesList, function(n) {
            if (n.scale.setExtent(1 / 0, -1 / 0),
            n.type === "category") {
                var a = n.model.get("categorySortInfo");
                n.scale.setSortInfo(a)
            }
        }),
        e.eachSeries(function(n) {
            if (Sd(n)) {
                var a = bd(n)
                  , o = a.xAxisModel
                  , s = a.yAxisModel;
                if (!Ol(o, r) || !Ol(s, r))
                    return;
                var l = this.getCartesian(o.componentIndex, s.componentIndex)
                  , u = n.getData()
                  , h = l.getAxis("x")
                  , f = l.getAxis("y");
                i(u, h),
                i(u, f)
            }
        }, this);
        function i(n, a) {
            I(p3(n, a.dim), function(o) {
                a.scale.unionExtentFromData(n, o)
            })
        }
    }
    ,
    t.prototype.getTooltipAxes = function(e) {
        var r = []
          , i = [];
        return I(this.getCartesians(), function(n) {
            var a = e != null && e !== "auto" ? n.getAxis(e) : n.getBaseAxis()
              , o = n.getOtherAxis(a);
            pe(r, a) < 0 && r.push(a),
            pe(i, o) < 0 && i.push(o)
        }),
        {
            baseAxes: r,
            otherAxes: i
        }
    }
    ,
    t.create = function(e, r) {
        var i = [];
        return e.eachComponent("grid", function(n, a) {
            var o = new t(n,e,r);
            o.name = "grid_" + a,
            o.resize(n, r, !0),
            n.coordinateSystem = o,
            i.push(o)
        }),
        e.eachSeries(function(n) {
            if (!!Sd(n)) {
                var a = bd(n)
                  , o = a.xAxisModel
                  , s = a.yAxisModel
                  , l = o.getCoordSysModel()
                  , u = l.coordinateSystem;
                n.coordinateSystem = u.getCartesian(o.componentIndex, s.componentIndex)
            }
        }),
        i
    }
    ,
    t.dimensions = Gu,
    t
}();
function Ol(t, e) {
    return t.getCoordSysModel() === e
}
function Cd(t, e, r, i) {
    r.getAxesOnZeroOf = function() {
        return a ? [a] : []
    }
    ;
    var n = t[e], a, o = r.model, s = o.get(["axisLine", "onZero"]), l = o.get(["axisLine", "onZeroAxisIndex"]);
    if (!s)
        return;
    if (l != null)
        xd(n[l]) && (a = n[l]);
    else
        for (var u in n)
            if (n.hasOwnProperty(u) && xd(n[u]) && !i[h(n[u])]) {
                a = n[u];
                break
            }
    a && (i[h(a)] = !0);
    function h(f) {
        return f.dim + "_" + f.index
    }
}
function xd(t) {
    return t && t.type !== "category" && t.type !== "time" && c3(t)
}
function UM(t, e) {
    var r = t.getExtent()
      , i = r[0] + r[1];
    t.toGlobalCoord = t.dim === "x" ? function(n) {
        return n + e
    }
    : function(n) {
        return i - n + e
    }
    ,
    t.toLocalCoord = t.dim === "x" ? function(n) {
        return n - e
    }
    : function(n) {
        return i - n + e
    }
}
var $M = WM
  , dr = Math.PI
  , ti = function() {
    function t(e, r) {
        this.group = new Xe,
        this.opt = r,
        this.axisModel = e,
        me(r, {
            labelOffset: 0,
            nameDirection: 1,
            tickDirection: 1,
            labelDirection: 1,
            silent: !0,
            handleAutoShown: function() {
                return !0
            }
        });
        var i = new Xe({
            x: r.position[0],
            y: r.position[1],
            rotation: r.rotation
        });
        i.updateTransform(),
        this._transformGroup = i
    }
    return t.prototype.hasBuilder = function(e) {
        return !!Td[e]
    }
    ,
    t.prototype.add = function(e) {
        Td[e](this.opt, this.axisModel, this.group, this._transformGroup)
    }
    ,
    t.prototype.getGroup = function() {
        return this.group
    }
    ,
    t.innerTextLayout = function(e, r, i) {
        var n = Up(r - e), a, o;
        return Po(n) ? (o = i > 0 ? "top" : "bottom",
        a = "center") : Po(n - dr) ? (o = i > 0 ? "bottom" : "top",
        a = "center") : (o = "middle",
        n > 0 && n < dr ? a = i > 0 ? "right" : "left" : a = i > 0 ? "left" : "right"),
        {
            rotation: n,
            textAlign: a,
            textVerticalAlign: o
        }
    }
    ,
    t.makeAxisEventDataBase = function(e) {
        var r = {
            componentType: e.mainType,
            componentIndex: e.componentIndex
        };
        return r[e.mainType + "Index"] = e.componentIndex,
        r
    }
    ,
    t.isLabelSilent = function(e) {
        var r = e.get("tooltip");
        return e.get("silent") || !(e.get("triggerEvent") || r && r.show)
    }
    ,
    t
}()
  , Td = {
    axisLine: function(t, e, r, i) {
        var n = e.get(["axisLine", "show"]);
        if (n === "auto" && t.handleAutoShown && (n = t.handleAutoShown("axisLine")),
        !!n) {
            var a = e.axis.getExtent()
              , o = i.transform
              , s = [a[0], 0]
              , l = [a[1], 0]
              , u = s[0] > l[0];
            o && (yt(s, s, o),
            yt(l, l, o));
            var h = G({
                lineCap: "round"
            }, e.getModel(["axisLine", "lineStyle"]).getLineStyle())
              , f = new wr({
                shape: {
                    x1: s[0],
                    y1: s[1],
                    x2: l[0],
                    y2: l[1]
                },
                style: h,
                strokeContainThreshold: t.strokeContainThreshold || 5,
                silent: !0,
                z2: 1
            });
            Qn(f.shape, f.style.lineWidth),
            f.anid = "line",
            r.add(f);
            var c = e.get(["axisLine", "symbol"]);
            if (c != null) {
                var v = e.get(["axisLine", "symbolSize"]);
                Q(c) && (c = [c, c]),
                (Q(v) || be(v)) && (v = [v, v]);
                var d = ds(e.get(["axisLine", "symbolOffset"]) || 0, v)
                  , m = v[0]
                  , p = v[1];
                I([{
                    rotate: t.rotation + Math.PI / 2,
                    offset: d[0],
                    r: 0
                }, {
                    rotate: t.rotation - Math.PI / 2,
                    offset: d[1],
                    r: Math.sqrt((s[0] - l[0]) * (s[0] - l[0]) + (s[1] - l[1]) * (s[1] - l[1]))
                }], function(g, y) {
                    if (c[y] !== "none" && c[y] != null) {
                        var _ = Yi(c[y], -m / 2, -p / 2, m, p, h.stroke, !0)
                          , w = g.r + g.offset
                          , b = u ? l : s;
                        _.attr({
                            rotation: g.rotate,
                            x: b[0] + w * Math.cos(t.rotation),
                            y: b[1] - w * Math.sin(t.rotation),
                            silent: !0,
                            z2: 11
                        }),
                        r.add(_)
                    }
                })
            }
        }
    },
    axisTickLabel: function(t, e, r, i) {
        var n = qM(r, i, e, t)
          , a = KM(r, i, e, t);
        if (XM(e, a, n),
        ZM(r, i, e, t.tickDirection),
        e.get(["axisLabel", "hideOverlap"])) {
            var o = I3(ee(a, function(s) {
                return {
                    label: s,
                    priority: s.z2,
                    defaultAttr: {
                        ignore: s.ignore
                    }
                }
            }));
            k3(o)
        }
    },
    axisName: function(t, e, r, i) {
        var n = Wi(t.axisName, e.get("name"));
        if (!!n) {
            var a = e.get("nameLocation"), o = t.nameDirection, s = e.getModel("nameTextStyle"), l = e.get("nameGap") || 0, u = e.axis.getExtent(), h = u[0] > u[1] ? -1 : 1, f = [a === "start" ? u[0] - h * l : a === "end" ? u[1] + h * l : (u[0] + u[1]) / 2, Dd(a) ? t.labelOffset + o * l : 0], c, v = e.get("nameRotate");
            v != null && (v = v * dr / 180);
            var d;
            Dd(a) ? c = ti.innerTextLayout(t.rotation, v != null ? v : t.rotation, o) : (c = YM(t.rotation, a, v || 0, u),
            d = t.axisNameAvailableWidth,
            d != null && (d = Math.abs(d / Math.sin(c.rotation)),
            !isFinite(d) && (d = null)));
            var m = s.getFont()
              , p = e.get("nameTruncate", !0) || {}
              , g = p.ellipsis
              , y = Wi(t.nameTruncateMaxWidth, p.maxWidth, d)
              , _ = new _t({
                x: f[0],
                y: f[1],
                rotation: c.rotation,
                silent: ti.isLabelSilent(e),
                style: oi(s, {
                    text: n,
                    font: m,
                    overflow: "truncate",
                    width: y,
                    ellipsis: g,
                    fill: s.getTextColor() || e.get(["axisLine", "lineStyle", "color"]),
                    align: s.get("align") || c.textAlign,
                    verticalAlign: s.get("verticalAlign") || c.textVerticalAlign
                }),
                z2: 1
            });
            if (qg({
                el: _,
                componentModel: e,
                itemName: n
            }),
            _.__fullText = n,
            _.anid = "name",
            e.get("triggerEvent")) {
                var w = ti.makeAxisEventDataBase(e);
                w.targetType = "axisName",
                w.name = n,
                de(_).eventData = w
            }
            i.add(_),
            _.updateTransform(),
            r.add(_),
            _.decomposeTransform()
        }
    }
};
function YM(t, e, r, i) {
    var n = Up(r - t), a, o, s = i[0] > i[1], l = e === "start" && !s || e !== "start" && s;
    return Po(n - dr / 2) ? (o = l ? "bottom" : "top",
    a = "center") : Po(n - dr * 1.5) ? (o = l ? "top" : "bottom",
    a = "center") : (o = "middle",
    n < dr * 1.5 && n > dr / 2 ? a = l ? "left" : "right" : a = l ? "right" : "left"),
    {
        rotation: n,
        textAlign: a,
        textVerticalAlign: o
    }
}
function XM(t, e, r) {
    if (!O0(t.axis)) {
        var i = t.get(["axisLabel", "showMinLabel"])
          , n = t.get(["axisLabel", "showMaxLabel"]);
        e = e || [],
        r = r || [];
        var a = e[0]
          , o = e[1]
          , s = e[e.length - 1]
          , l = e[e.length - 2]
          , u = r[0]
          , h = r[1]
          , f = r[r.length - 1]
          , c = r[r.length - 2];
        i === !1 ? (lt(a),
        lt(u)) : Md(a, o) && (i ? (lt(o),
        lt(h)) : (lt(a),
        lt(u))),
        n === !1 ? (lt(s),
        lt(f)) : Md(l, s) && (n ? (lt(l),
        lt(c)) : (lt(s),
        lt(f)))
    }
}
function lt(t) {
    t && (t.ignore = !0)
}
function Md(t, e) {
    var r = t && t.getBoundingRect().clone()
      , i = e && e.getBoundingRect().clone();
    if (!(!r || !i)) {
        var n = ih([]);
        return nh(n, n, -t.rotation),
        r.applyTransform(Ni([], n, t.getLocalTransform())),
        i.applyTransform(Ni([], n, e.getLocalTransform())),
        r.intersect(i)
    }
}
function Dd(t) {
    return t === "middle" || t === "center"
}
function Q0(t, e, r, i, n) {
    for (var a = [], o = [], s = [], l = 0; l < t.length; l++) {
        var u = t[l].coord;
        o[0] = u,
        o[1] = 0,
        s[0] = u,
        s[1] = r,
        e && (yt(o, o, e),
        yt(s, s, e));
        var h = new wr({
            shape: {
                x1: o[0],
                y1: o[1],
                x2: s[0],
                y2: s[1]
            },
            style: i,
            z2: 2,
            autoBatch: !0,
            silent: !0
        });
        Qn(h.shape, h.style.lineWidth),
        h.anid = n + "_" + t[l].tickValue,
        a.push(h)
    }
    return a
}
function qM(t, e, r, i) {
    var n = r.axis
      , a = r.getModel("axisTick")
      , o = a.get("show");
    if (o === "auto" && i.handleAutoShown && (o = i.handleAutoShown("axisTick")),
    !(!o || n.scale.isBlank())) {
        for (var s = a.getModel("lineStyle"), l = i.tickDirection * a.get("length"), u = n.getTicksCoords(), h = Q0(u, e.transform, l, me(s.getLineStyle(), {
            stroke: r.get(["axisLine", "lineStyle", "color"])
        }), "ticks"), f = 0; f < h.length; f++)
            t.add(h[f]);
        return h
    }
}
function ZM(t, e, r, i) {
    var n = r.axis
      , a = r.getModel("minorTick");
    if (!(!a.get("show") || n.scale.isBlank())) {
        var o = n.getMinorTicksCoords();
        if (!!o.length)
            for (var s = a.getModel("lineStyle"), l = i * a.get("length"), u = me(s.getLineStyle(), me(r.getModel("axisTick").getLineStyle(), {
                stroke: r.get(["axisLine", "lineStyle", "color"])
            })), h = 0; h < o.length; h++)
                for (var f = Q0(o[h], e.transform, l, u, "minorticks_" + h), c = 0; c < f.length; c++)
                    t.add(f[c])
    }
}
function KM(t, e, r, i) {
    var n = r.axis
      , a = Wi(i.axisLabelShow, r.get(["axisLabel", "show"]));
    if (!(!a || n.scale.isBlank())) {
        var o = r.getModel("axisLabel")
          , s = o.get("margin")
          , l = n.getViewLabels()
          , u = (Wi(i.labelRotate, o.get("rotate")) || 0) * dr / 180
          , h = ti.innerTextLayout(i.rotation, u, i.labelDirection)
          , f = r.getCategories && r.getCategories(!0)
          , c = []
          , v = ti.isLabelSilent(r)
          , d = r.get("triggerEvent");
        return I(l, function(m, p) {
            var g = n.scale.type === "ordinal" ? n.scale.getRawOrdinalNumber(m.tickValue) : m.tickValue
              , y = m.formattedLabel
              , _ = m.rawLabel
              , w = o;
            if (f && f[g]) {
                var b = f[g];
                J(b) && b.textStyle && (w = new $e(b.textStyle,o,r.ecModel))
            }
            var S = w.getTextColor() || r.get(["axisLine", "lineStyle", "color"])
              , C = n.dataToCoord(g)
              , T = w.getShallow("align", !0) || h.textAlign
              , x = oe(w.getShallow("alignMinLabel", !0), T)
              , D = oe(w.getShallow("alignMaxLabel", !0), T)
              , A = w.getShallow("verticalAlign", !0) || w.getShallow("baseline", !0) || h.textVerticalAlign
              , k = oe(w.getShallow("verticalAlignMinLabel", !0), A)
              , P = oe(w.getShallow("verticalAlignMaxLabel", !0), A)
              , E = new _t({
                x: C,
                y: i.labelOffset + i.labelDirection * s,
                rotation: h.rotation,
                silent: v,
                z2: 10 + (m.level || 0),
                style: oi(w, {
                    text: y,
                    align: p === 0 ? x : p === l.length - 1 ? D : T,
                    verticalAlign: p === 0 ? k : p === l.length - 1 ? P : A,
                    fill: ne(S) ? S(n.type === "category" ? _ : n.type === "value" ? g + "" : g, p) : S
                })
            });
            if (E.anid = "label_" + g,
            d) {
                var O = ti.makeAxisEventDataBase(r);
                O.targetType = "axisLabel",
                O.value = _,
                O.tickIndex = p,
                n.type === "category" && (O.dataIndex = g),
                de(E).eventData = O
            }
            e.add(E),
            E.updateTransform(),
            c.push(E),
            t.add(E),
            E.decomposeTransform()
        }),
        c
    }
}
var J0 = ti;
function jM(t, e) {
    var r = {
        axesInfo: {},
        seriesInvolved: !1,
        coordSysAxesInfo: {},
        coordSysMap: {}
    };
    return QM(r, t, e),
    r.seriesInvolved && eD(r, t),
    r
}
function QM(t, e, r) {
    var i = e.getComponent("tooltip")
      , n = e.getComponent("axisPointer")
      , a = n.get("link", !0) || []
      , o = [];
    I(r.getCoordinateSystems(), function(s) {
        if (!s.axisPointerEnabled)
            return;
        var l = la(s.model)
          , u = t.coordSysAxesInfo[l] = {};
        t.coordSysMap[l] = s;
        var h = s.model
          , f = h.getModel("tooltip", i);
        if (I(s.getAxes(), Ee(m, !1, null)),
        s.getTooltipAxes && i && f.get("show")) {
            var c = f.get("trigger") === "axis"
              , v = f.get(["axisPointer", "type"]) === "cross"
              , d = s.getTooltipAxes(f.get(["axisPointer", "axis"]));
            (c || v) && I(d.baseAxes, Ee(m, v ? "cross" : !0, c)),
            v && I(d.otherAxes, Ee(m, "cross", !1))
        }
        function m(p, g, y) {
            var _ = y.model.getModel("axisPointer", n)
              , w = _.get("show");
            if (!(!w || w === "auto" && !p && !Uu(_))) {
                g == null && (g = _.get("triggerTooltip")),
                _ = p ? JM(y, f, n, e, p, g) : _;
                var b = _.get("snap")
                  , S = _.get("triggerEmphasis")
                  , C = la(y.model)
                  , T = g || b || y.type === "category"
                  , x = t.axesInfo[C] = {
                    key: C,
                    axis: y,
                    coordSys: s,
                    axisPointerModel: _,
                    triggerTooltip: g,
                    triggerEmphasis: S,
                    involveSeries: T,
                    snap: b,
                    useHandle: Uu(_),
                    seriesModels: [],
                    linkGroup: null
                };
                u[C] = x,
                t.seriesInvolved = t.seriesInvolved || T;
                var D = tD(a, y);
                if (D != null) {
                    var A = o[D] || (o[D] = {
                        axesInfo: {}
                    });
                    A.axesInfo[C] = x,
                    A.mapper = a[D].mapper,
                    x.linkGroup = A
                }
            }
        }
    })
}
function JM(t, e, r, i, n, a) {
    var o = e.getModel("axisPointer")
      , s = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"]
      , l = {};
    I(s, function(c) {
        l[c] = ue(o.get(c))
    }),
    l.snap = t.type !== "category" && !!a,
    o.get("type") === "cross" && (l.type = "line");
    var u = l.label || (l.label = {});
    if (u.show == null && (u.show = !1),
    n === "cross") {
        var h = o.get(["label", "show"]);
        if (u.show = h != null ? h : !0,
        !a) {
            var f = l.lineStyle = o.get("crossStyle");
            f && me(u, f.textStyle)
        }
    }
    return t.model.getModel("axisPointer", new $e(l,r,i))
}
function eD(t, e) {
    e.eachSeries(function(r) {
        var i = r.coordinateSystem
          , n = r.get(["tooltip", "trigger"], !0)
          , a = r.get(["tooltip", "show"], !0);
        !i || n === "none" || n === !1 || n === "item" || a === !1 || r.get(["axisPointer", "show"], !0) === !1 || I(t.coordSysAxesInfo[la(i.model)], function(o) {
            var s = o.axis;
            i.getAxis(s.dim) === s && (o.seriesModels.push(r),
            o.seriesDataCount == null && (o.seriesDataCount = 0),
            o.seriesDataCount += r.getData().count())
        })
    })
}
function tD(t, e) {
    for (var r = e.model, i = e.dim, n = 0; n < t.length; n++) {
        var a = t[n] || {};
        if (Bl(a[i + "AxisId"], r.id) || Bl(a[i + "AxisIndex"], r.componentIndex) || Bl(a[i + "AxisName"], r.name))
            return n
    }
}
function Bl(t, e) {
    return t === "all" || Y(t) && pe(t, e) >= 0 || t === e
}
function rD(t) {
    var e = nf(t);
    if (!!e) {
        var r = e.axisPointerModel
          , i = e.axis.scale
          , n = r.option
          , a = r.get("status")
          , o = r.get("value");
        o != null && (o = i.parse(o));
        var s = Uu(r);
        a == null && (n.status = s ? "show" : "hide");
        var l = i.getExtent().slice();
        l[0] > l[1] && l.reverse(),
        (o == null || o > l[1]) && (o = l[1]),
        o < l[0] && (o = l[0]),
        n.value = o,
        s && (n.status = e.axis.scale.isBlank() ? "hide" : "show")
    }
}
function nf(t) {
    var e = (t.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
    return e && e.axesInfo[la(t)]
}
function iD(t) {
    var e = nf(t);
    return e && e.axisPointerModel
}
function Uu(t) {
    return !!t.get(["handle", "show"])
}
function la(t) {
    return t.type + "||" + t.id
}
var Ad = {}
  , nD = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.render = function(r, i, n, a) {
        this.axisPointerClass && rD(r),
        t.prototype.render.apply(this, arguments),
        this._doUpdateAxisPointerClass(r, n, !0)
    }
    ,
    e.prototype.updateAxisPointer = function(r, i, n, a) {
        this._doUpdateAxisPointerClass(r, n, !1)
    }
    ,
    e.prototype.remove = function(r, i) {
        var n = this._axisPointer;
        n && n.remove(i)
    }
    ,
    e.prototype.dispose = function(r, i) {
        this._disposeAxisPointer(i),
        t.prototype.dispose.apply(this, arguments)
    }
    ,
    e.prototype._doUpdateAxisPointerClass = function(r, i, n) {
        var a = e.getAxisPointerClass(this.axisPointerClass);
        if (!!a) {
            var o = iD(r);
            o ? (this._axisPointer || (this._axisPointer = new a)).render(r, o, i, n) : this._disposeAxisPointer(i)
        }
    }
    ,
    e.prototype._disposeAxisPointer = function(r) {
        this._axisPointer && this._axisPointer.dispose(r),
        this._axisPointer = null
    }
    ,
    e.registerAxisPointerClass = function(r, i) {
        Ad[r] = i
    }
    ,
    e.getAxisPointerClass = function(r) {
        return r && Ad[r]
    }
    ,
    e.type = "axis",
    e
}(Kt)
  , ey = nD
  , $u = xe();
function aD(t, e, r, i) {
    var n = r.axis;
    if (!n.scale.isBlank()) {
        var a = r.getModel("splitArea")
          , o = a.getModel("areaStyle")
          , s = o.get("color")
          , l = i.coordinateSystem.getRect()
          , u = n.getTicksCoords({
            tickModel: a,
            clamp: !0
        });
        if (!!u.length) {
            var h = s.length
              , f = $u(t).splitAreaColors
              , c = le()
              , v = 0;
            if (f)
                for (var d = 0; d < u.length; d++) {
                    var m = f.get(u[d].tickValue);
                    if (m != null) {
                        v = (m + (h - 1) * d) % h;
                        break
                    }
                }
            var p = n.toGlobalCoord(u[0].coord)
              , g = o.getAreaStyle();
            s = Y(s) ? s : [s];
            for (var d = 1; d < u.length; d++) {
                var y = n.toGlobalCoord(u[d].coord)
                  , _ = void 0
                  , w = void 0
                  , b = void 0
                  , S = void 0;
                n.isHorizontal() ? (_ = p,
                w = l.y,
                b = y - _,
                S = l.height,
                p = _ + b) : (_ = l.x,
                w = p,
                b = l.width,
                S = y - w,
                p = w + S);
                var C = u[d - 1].tickValue;
                C != null && c.set(C, v),
                e.add(new Je({
                    anid: C != null ? "area_" + C : null,
                    shape: {
                        x: _,
                        y: w,
                        width: b,
                        height: S
                    },
                    style: me({
                        fill: s[v]
                    }, g),
                    autoBatch: !0,
                    silent: !0
                })),
                v = (v + 1) % h
            }
            $u(t).splitAreaColors = c
        }
    }
}
function oD(t) {
    $u(t).splitAreaColors = null
}
var sD = ["axisLine", "axisTickLabel", "axisName"]
  , lD = ["splitArea", "splitLine", "minorSplitLine"]
  , ty = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r.axisPointerClass = "CartesianAxisPointer",
        r
    }
    return e.prototype.render = function(r, i, n, a) {
        this.group.removeAll();
        var o = this._axisGroup;
        if (this._axisGroup = new Xe,
        this.group.add(this._axisGroup),
        !!r.get("show")) {
            var s = r.getCoordSysModel()
              , l = Wu(s, r)
              , u = new J0(r,G({
                handleAutoShown: function(f) {
                    for (var c = s.coordinateSystem.getCartesians(), v = 0; v < c.length; v++)
                        if (zu(c[v].getOtherAxis(r.axis).scale))
                            return !0;
                    return !1
                }
            }, l));
            I(sD, u.add, u),
            this._axisGroup.add(u.getGroup()),
            I(lD, function(f) {
                r.get([f, "show"]) && uD[f](this, this._axisGroup, r, s)
            }, this);
            var h = a && a.type === "changeAxisOrder" && a.isInitSort;
            h || $g(o, this._axisGroup, r),
            t.prototype.render.call(this, r, i, n, a)
        }
    }
    ,
    e.prototype.remove = function() {
        oD(this)
    }
    ,
    e.type = "cartesianAxis",
    e
}(ey)
  , uD = {
    splitLine: function(t, e, r, i) {
        var n = r.axis;
        if (!n.scale.isBlank()) {
            var a = r.getModel("splitLine")
              , o = a.getModel("lineStyle")
              , s = o.get("color");
            s = Y(s) ? s : [s];
            for (var l = i.coordinateSystem.getRect(), u = n.isHorizontal(), h = 0, f = n.getTicksCoords({
                tickModel: a
            }), c = [], v = [], d = o.getLineStyle(), m = 0; m < f.length; m++) {
                var p = n.toGlobalCoord(f[m].coord);
                u ? (c[0] = p,
                c[1] = l.y,
                v[0] = p,
                v[1] = l.y + l.height) : (c[0] = l.x,
                c[1] = p,
                v[0] = l.x + l.width,
                v[1] = p);
                var g = h++ % s.length
                  , y = f[m].tickValue
                  , _ = new wr({
                    anid: y != null ? "line_" + f[m].tickValue : null,
                    autoBatch: !0,
                    shape: {
                        x1: c[0],
                        y1: c[1],
                        x2: v[0],
                        y2: v[1]
                    },
                    style: me({
                        stroke: s[g]
                    }, d),
                    silent: !0
                });
                Qn(_.shape, d.lineWidth),
                e.add(_)
            }
        }
    },
    minorSplitLine: function(t, e, r, i) {
        var n = r.axis
          , a = r.getModel("minorSplitLine")
          , o = a.getModel("lineStyle")
          , s = i.coordinateSystem.getRect()
          , l = n.isHorizontal()
          , u = n.getMinorTicksCoords();
        if (!!u.length)
            for (var h = [], f = [], c = o.getLineStyle(), v = 0; v < u.length; v++)
                for (var d = 0; d < u[v].length; d++) {
                    var m = n.toGlobalCoord(u[v][d].coord);
                    l ? (h[0] = m,
                    h[1] = s.y,
                    f[0] = m,
                    f[1] = s.y + s.height) : (h[0] = s.x,
                    h[1] = m,
                    f[0] = s.x + s.width,
                    f[1] = m);
                    var p = new wr({
                        anid: "minor_line_" + u[v][d].tickValue,
                        autoBatch: !0,
                        shape: {
                            x1: h[0],
                            y1: h[1],
                            x2: f[0],
                            y2: f[1]
                        },
                        style: c,
                        silent: !0
                    });
                    Qn(p.shape, c.lineWidth),
                    e.add(p)
                }
    },
    splitArea: function(t, e, r, i) {
        aD(t, e, r, i)
    }
}
  , ry = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.type = "xAxis",
    e
}(ty)
  , hD = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = ry.type,
        r
    }
    return e.type = "yAxis",
    e
}(ty)
  , fD = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = "grid",
        r
    }
    return e.prototype.render = function(r, i) {
        this.group.removeAll(),
        r.get("show") && this.group.add(new Je({
            shape: r.coordinateSystem.getRect(),
            style: me({
                fill: r.get("backgroundColor")
            }, r.getItemStyle()),
            silent: !0,
            z2: -1
        }))
    }
    ,
    e.type = "grid",
    e
}(Kt)
  , Id = {
    offset: 0
};
function cD(t) {
    t.registerComponentView(fD),
    t.registerComponentModel(LM),
    t.registerCoordinateSystem("cartesian2d", $M),
    yd(t, "x", Hu, Id),
    yd(t, "y", Hu, Id),
    t.registerComponentView(ry),
    t.registerComponentView(hD),
    t.registerPreprocessor(function(e) {
        e.xAxis && e.yAxis && !e.grid && (e.grid = {})
    })
}
var kd = wr.prototype
  , Nl = bh.prototype
  , iy = function() {
    function t() {
        this.x1 = 0,
        this.y1 = 0,
        this.x2 = 0,
        this.y2 = 0,
        this.percent = 1
    }
    return t
}();
(function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e
}
)(iy);
function Fl(t) {
    return isNaN(+t.cpx1) || isNaN(+t.cpy1)
}
var vD = function(t) {
    X(e, t);
    function e(r) {
        var i = t.call(this, r) || this;
        return i.type = "ec-line",
        i
    }
    return e.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        }
    }
    ,
    e.prototype.getDefaultShape = function() {
        return new iy
    }
    ,
    e.prototype.buildPath = function(r, i) {
        Fl(i) ? kd.buildPath.call(this, r, i) : Nl.buildPath.call(this, r, i)
    }
    ,
    e.prototype.pointAt = function(r) {
        return Fl(this.shape) ? kd.pointAt.call(this, r) : Nl.pointAt.call(this, r)
    }
    ,
    e.prototype.tangentAt = function(r) {
        var i = this.shape
          , n = Fl(i) ? [i.x2 - i.x1, i.y2 - i.y1] : Nl.tangentAt.call(this, r);
        return th(n, n)
    }
    ,
    e
}(ye)
  , dD = vD
  , zl = ["fromSymbol", "toSymbol"];
function Ld(t) {
    return "_" + t + "Type"
}
function Pd(t, e, r) {
    var i = e.getItemVisual(r, t);
    if (!i || i === "none")
        return i;
    var n = e.getItemVisual(r, t + "Size")
      , a = e.getItemVisual(r, t + "Rotate")
      , o = e.getItemVisual(r, t + "Offset")
      , s = e.getItemVisual(r, t + "KeepAspect")
      , l = Yh(n)
      , u = ds(o || 0, l);
    return i + l + u + (a || "") + (s || "")
}
function Ed(t, e, r) {
    var i = e.getItemVisual(r, t);
    if (!(!i || i === "none")) {
        var n = e.getItemVisual(r, t + "Size")
          , a = e.getItemVisual(r, t + "Rotate")
          , o = e.getItemVisual(r, t + "Offset")
          , s = e.getItemVisual(r, t + "KeepAspect")
          , l = Yh(n)
          , u = ds(o || 0, l)
          , h = Yi(i, -l[0] / 2 + u[0], -l[1] / 2 + u[1], l[0], l[1], null, s);
        return h.__specifiedRotation = a == null || isNaN(a) ? void 0 : +a * Math.PI / 180 || 0,
        h.name = t,
        h
    }
}
function pD(t) {
    var e = new dD({
        name: "line",
        subPixelOptimize: !0
    });
    return Yu(e.shape, t),
    e
}
function Yu(t, e) {
    t.x1 = e[0][0],
    t.y1 = e[0][1],
    t.x2 = e[1][0],
    t.y2 = e[1][1],
    t.percent = 1;
    var r = e[2];
    r ? (t.cpx1 = r[0],
    t.cpy1 = r[1]) : (t.cpx1 = NaN,
    t.cpy1 = NaN)
}
var gD = function(t) {
    X(e, t);
    function e(r, i, n) {
        var a = t.call(this) || this;
        return a._createLine(r, i, n),
        a
    }
    return e.prototype._createLine = function(r, i, n) {
        var a = r.hostModel
          , o = r.getItemLayout(i)
          , s = pD(o);
        s.shape.percent = 0,
        Ki(s, {
            shape: {
                percent: 1
            }
        }, a, i),
        this.add(s),
        I(zl, function(l) {
            var u = Ed(l, r, i);
            this.add(u),
            this[Ld(l)] = Pd(l, r, i)
        }, this),
        this._updateCommonStl(r, i, n)
    }
    ,
    e.prototype.updateData = function(r, i, n) {
        var a = r.hostModel
          , o = this.childOfName("line")
          , s = r.getItemLayout(i)
          , l = {
            shape: {}
        };
        Yu(l.shape, s),
        Sr(o, l, a, i),
        I(zl, function(u) {
            var h = Pd(u, r, i)
              , f = Ld(u);
            if (this[f] !== h) {
                this.remove(this.childOfName(u));
                var c = Ed(u, r, i);
                this.add(c)
            }
            this[f] = h
        }, this),
        this._updateCommonStl(r, i, n)
    }
    ,
    e.prototype.getLinePath = function() {
        return this.childAt(0)
    }
    ,
    e.prototype._updateCommonStl = function(r, i, n) {
        var a = r.hostModel
          , o = this.childOfName("line")
          , s = n && n.emphasisLineStyle
          , l = n && n.blurLineStyle
          , u = n && n.selectLineStyle
          , h = n && n.labelStatesModels
          , f = n && n.emphasisDisabled
          , c = n && n.focus
          , v = n && n.blurScope;
        if (!n || r.hasItemOption) {
            var d = r.getItemModel(i)
              , m = d.getModel("emphasis");
            s = m.getModel("lineStyle").getLineStyle(),
            l = d.getModel(["blur", "lineStyle"]).getLineStyle(),
            u = d.getModel(["select", "lineStyle"]).getLineStyle(),
            f = m.get("disabled"),
            c = m.get("focus"),
            v = m.get("blurScope"),
            h = da(d)
        }
        var p = r.getItemVisual(i, "style")
          , g = p.stroke;
        o.useStyle(p),
        o.style.fill = null,
        o.style.strokeNoScale = !0,
        o.ensureState("emphasis").style = s,
        o.ensureState("blur").style = l,
        o.ensureState("select").style = u,
        I(zl, function(S) {
            var C = this.childOfName(S);
            if (C) {
                C.setColor(g),
                C.style.opacity = p.opacity;
                for (var T = 0; T < wt.length; T++) {
                    var x = wt[T]
                      , D = o.getState(x);
                    if (D) {
                        var A = D.style || {}
                          , k = C.ensureState(x)
                          , P = k.style || (k.style = {});
                        A.stroke != null && (P[C.__isEmptyBrush ? "stroke" : "fill"] = A.stroke),
                        A.opacity != null && (P.opacity = A.opacity)
                    }
                }
                C.markRedraw()
            }
        }, this);
        var y = a.getRawValue(i);
        Dh(this, h, {
            labelDataIndex: i,
            labelFetcher: {
                getFormattedLabel: function(S, C) {
                    return a.getFormattedLabel(S, C, r.dataType)
                }
            },
            inheritColor: g || "#000",
            defaultOpacity: p.opacity,
            defaultText: (y == null ? r.getName(i) : isFinite(y) ? Me(y) : y) + ""
        });
        var _ = this.getTextContent();
        if (_) {
            var w = h.normal;
            _.__align = _.style.align,
            _.__verticalAlign = _.style.verticalAlign,
            _.__position = w.get("position") || "middle";
            var b = w.get("distance");
            Y(b) || (b = [b, b]),
            _.__labelDistance = b
        }
        this.setTextConfig({
            position: null,
            local: !0,
            inside: !1
        }),
        Ro(this, c, v, f)
    }
    ,
    e.prototype.highlight = function() {
        Kn(this)
    }
    ,
    e.prototype.downplay = function() {
        jn(this)
    }
    ,
    e.prototype.updateLayout = function(r, i) {
        this.setLinePoints(r.getItemLayout(i))
    }
    ,
    e.prototype.setLinePoints = function(r) {
        var i = this.childOfName("line");
        Yu(i.shape, r),
        i.dirty()
    }
    ,
    e.prototype.beforeUpdate = function() {
        var r = this
          , i = r.childOfName("fromSymbol")
          , n = r.childOfName("toSymbol")
          , a = r.getTextContent();
        if (!i && !n && (!a || a.ignore))
            return;
        for (var o = 1, s = this.parent; s; )
            s.scaleX && (o /= s.scaleX),
            s = s.parent;
        var l = r.childOfName("line");
        if (!this.__dirty && !l.__dirty)
            return;
        var u = l.shape.percent
          , h = l.pointAt(0)
          , f = l.pointAt(u)
          , c = _p([], f, h);
        th(c, c);
        function v(D, A) {
            var k = D.__specifiedRotation;
            if (k == null) {
                var P = l.tangentAt(A);
                D.attr("rotation", (A === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(P[1], P[0]))
            } else
                D.attr("rotation", k)
        }
        if (i && (i.setPosition(h),
        v(i, 0),
        i.scaleX = i.scaleY = o * u,
        i.markRedraw()),
        n && (n.setPosition(f),
        v(n, 1),
        n.scaleX = n.scaleY = o * u,
        n.markRedraw()),
        a && !a.ignore) {
            a.x = a.y = 0,
            a.originX = a.originY = 0;
            var d = void 0
              , m = void 0
              , p = a.__labelDistance
              , g = p[0] * o
              , y = p[1] * o
              , _ = u / 2
              , w = l.tangentAt(_)
              , b = [w[1], -w[0]]
              , S = l.pointAt(_);
            b[1] > 0 && (b[0] = -b[0],
            b[1] = -b[1]);
            var C = w[0] < 0 ? -1 : 1;
            if (a.__position !== "start" && a.__position !== "end") {
                var T = -Math.atan2(w[1], w[0]);
                f[0] < h[0] && (T = Math.PI + T),
                a.rotation = T
            }
            var x = void 0;
            switch (a.__position) {
            case "insideStartTop":
            case "insideMiddleTop":
            case "insideEndTop":
            case "middle":
                x = -y,
                m = "bottom";
                break;
            case "insideStartBottom":
            case "insideMiddleBottom":
            case "insideEndBottom":
                x = y,
                m = "top";
                break;
            default:
                x = 0,
                m = "middle"
            }
            switch (a.__position) {
            case "end":
                a.x = c[0] * g + f[0],
                a.y = c[1] * y + f[1],
                d = c[0] > .8 ? "left" : c[0] < -.8 ? "right" : "center",
                m = c[1] > .8 ? "top" : c[1] < -.8 ? "bottom" : "middle";
                break;
            case "start":
                a.x = -c[0] * g + h[0],
                a.y = -c[1] * y + h[1],
                d = c[0] > .8 ? "right" : c[0] < -.8 ? "left" : "center",
                m = c[1] > .8 ? "bottom" : c[1] < -.8 ? "top" : "middle";
                break;
            case "insideStartTop":
            case "insideStart":
            case "insideStartBottom":
                a.x = g * C + h[0],
                a.y = h[1] + x,
                d = w[0] < 0 ? "right" : "left",
                a.originX = -g * C,
                a.originY = -x;
                break;
            case "insideMiddleTop":
            case "insideMiddle":
            case "insideMiddleBottom":
            case "middle":
                a.x = S[0],
                a.y = S[1] + x,
                d = "center",
                a.originY = -x;
                break;
            case "insideEndTop":
            case "insideEnd":
            case "insideEndBottom":
                a.x = -g * C + f[0],
                a.y = f[1] + x,
                d = w[0] >= 0 ? "right" : "left",
                a.originX = g * C,
                a.originY = -x;
                break
            }
            a.scaleX = a.scaleY = o,
            a.setStyle({
                verticalAlign: a.__verticalAlign || m,
                align: a.__align || d
            })
        }
    }
    ,
    e
}(Xe)
  , mD = gD
  , yD = function() {
    function t(e) {
        this.group = new Xe,
        this._LineCtor = e || mD
    }
    return t.prototype.updateData = function(e) {
        var r = this;
        this._progressiveEls = null;
        var i = this
          , n = i.group
          , a = i._lineData;
        i._lineData = e,
        a || n.removeAll();
        var o = Rd(e);
        e.diff(a).add(function(s) {
            r._doAdd(e, s, o)
        }).update(function(s, l) {
            r._doUpdate(a, e, l, s, o)
        }).remove(function(s) {
            n.remove(a.getItemGraphicEl(s))
        }).execute()
    }
    ,
    t.prototype.updateLayout = function() {
        var e = this._lineData;
        !e || e.eachItemGraphicEl(function(r, i) {
            r.updateLayout(e, i)
        }, this)
    }
    ,
    t.prototype.incrementalPrepareUpdate = function(e) {
        this._seriesScope = Rd(e),
        this._lineData = null,
        this.group.removeAll()
    }
    ,
    t.prototype.incrementalUpdate = function(e, r) {
        this._progressiveEls = [];
        function i(s) {
            !s.isGroup && !_D(s) && (s.incremental = !0,
            s.ensureState("emphasis").hoverLayer = !0)
        }
        for (var n = e.start; n < e.end; n++) {
            var a = r.getItemLayout(n);
            if (Vl(a)) {
                var o = new this._LineCtor(r,n,this._seriesScope);
                o.traverse(i),
                this.group.add(o),
                r.setItemGraphicEl(n, o),
                this._progressiveEls.push(o)
            }
        }
    }
    ,
    t.prototype.remove = function() {
        this.group.removeAll()
    }
    ,
    t.prototype.eachRendered = function(e) {
        is(this._progressiveEls || this.group, e)
    }
    ,
    t.prototype._doAdd = function(e, r, i) {
        var n = e.getItemLayout(r);
        if (!!Vl(n)) {
            var a = new this._LineCtor(e,r,i);
            e.setItemGraphicEl(r, a),
            this.group.add(a)
        }
    }
    ,
    t.prototype._doUpdate = function(e, r, i, n, a) {
        var o = e.getItemGraphicEl(i);
        if (!Vl(r.getItemLayout(n))) {
            this.group.remove(o);
            return
        }
        o ? o.updateData(r, n, a) : o = new this._LineCtor(r,n,a),
        r.setItemGraphicEl(n, o),
        this.group.add(o)
    }
    ,
    t
}();
function _D(t) {
    return t.animators && t.animators.length > 0
}
function Rd(t) {
    var e = t.hostModel
      , r = e.getModel("emphasis");
    return {
        lineStyle: e.getModel("lineStyle").getLineStyle(),
        emphasisLineStyle: r.getModel(["lineStyle"]).getLineStyle(),
        blurLineStyle: e.getModel(["blur", "lineStyle"]).getLineStyle(),
        selectLineStyle: e.getModel(["select", "lineStyle"]).getLineStyle(),
        emphasisDisabled: r.get("disabled"),
        blurScope: r.get("blurScope"),
        focus: r.get("focus"),
        labelStatesModels: da(e)
    }
}
function Od(t) {
    return isNaN(t[0]) || isNaN(t[1])
}
function Vl(t) {
    return t && !Od(t[0]) && !Od(t[1])
}
var wD = yD
  , qr = xe()
  , Bd = ue
  , Hl = Ce
  , SD = function() {
    function t() {
        this._dragging = !1,
        this.animationThreshold = 15
    }
    return t.prototype.render = function(e, r, i, n) {
        var a = r.get("value")
          , o = r.get("status");
        if (this._axisModel = e,
        this._axisPointerModel = r,
        this._api = i,
        !(!n && this._lastValue === a && this._lastStatus === o)) {
            this._lastValue = a,
            this._lastStatus = o;
            var s = this._group
              , l = this._handle;
            if (!o || o === "hide") {
                s && s.hide(),
                l && l.hide();
                return
            }
            s && s.show(),
            l && l.show();
            var u = {};
            this.makeElOption(u, a, e, r, i);
            var h = u.graphicKey;
            h !== this._lastGraphicKey && this.clear(i),
            this._lastGraphicKey = h;
            var f = this._moveAnimation = this.determineAnimation(e, r);
            if (!s)
                s = this._group = new Xe,
                this.createPointerEl(s, u, e, r),
                this.createLabelEl(s, u, e, r),
                i.getZr().add(s);
            else {
                var c = Ee(Nd, r, f);
                this.updatePointerEl(s, u, c),
                this.updateLabelEl(s, u, c, r)
            }
            zd(s, r, !0),
            this._renderHandle(a)
        }
    }
    ,
    t.prototype.remove = function(e) {
        this.clear(e)
    }
    ,
    t.prototype.dispose = function(e) {
        this.clear(e)
    }
    ,
    t.prototype.determineAnimation = function(e, r) {
        var i = r.get("animation")
          , n = e.axis
          , a = n.type === "category"
          , o = r.get("snap");
        if (!o && !a)
            return !1;
        if (i === "auto" || i == null) {
            var s = this.animationThreshold;
            if (a && n.getBandWidth() > s)
                return !0;
            if (o) {
                var l = nf(e).seriesDataCount
                  , u = n.getExtent();
                return Math.abs(u[0] - u[1]) / l > s
            }
            return !1
        }
        return i === !0
    }
    ,
    t.prototype.makeElOption = function(e, r, i, n, a) {}
    ,
    t.prototype.createPointerEl = function(e, r, i, n) {
        var a = r.pointer;
        if (a) {
            var o = qr(e).pointerEl = new zb[a.type](Bd(r.pointer));
            e.add(o)
        }
    }
    ,
    t.prototype.createLabelEl = function(e, r, i, n) {
        if (r.label) {
            var a = qr(e).labelEl = new _t(Bd(r.label));
            e.add(a),
            Fd(a, n)
        }
    }
    ,
    t.prototype.updatePointerEl = function(e, r, i) {
        var n = qr(e).pointerEl;
        n && r.pointer && (n.setStyle(r.pointer.style),
        i(n, {
            shape: r.pointer.shape
        }))
    }
    ,
    t.prototype.updateLabelEl = function(e, r, i, n) {
        var a = qr(e).labelEl;
        a && (a.setStyle(r.label.style),
        i(a, {
            x: r.label.x,
            y: r.label.y
        }),
        Fd(a, n))
    }
    ,
    t.prototype._renderHandle = function(e) {
        if (!(this._dragging || !this.updateHandleTransform)) {
            var r = this._axisPointerModel
              , i = this._api.getZr()
              , n = this._handle
              , a = r.getModel("handle")
              , o = r.get("status");
            if (!a.get("show") || !o || o === "hide") {
                n && i.remove(n),
                this._handle = null;
                return
            }
            var s;
            this._handle || (s = !0,
            n = this._handle = Yg(a.get("icon"), {
                cursor: "move",
                draggable: !0,
                onmousemove: function(u) {
                    Sp(u.event)
                },
                onmousedown: Hl(this._onHandleDragMove, this, 0, 0),
                drift: Hl(this._onHandleDragMove, this),
                ondragend: Hl(this._onHandleDragEnd, this)
            }),
            i.add(n)),
            zd(n, r, !1),
            n.setStyle(a.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
            var l = a.get("size");
            Y(l) || (l = [l, l]),
            n.scaleX = l[0] / 2,
            n.scaleY = l[1] / 2,
            Vm(this, "_doDispatchAxisPointer", a.get("throttle") || 0, "fixRate"),
            this._moveHandleToValue(e, s)
        }
    }
    ,
    t.prototype._moveHandleToValue = function(e, r) {
        Nd(this._axisPointerModel, !r && this._moveAnimation, this._handle, Gl(this.getHandleTransform(e, this._axisModel, this._axisPointerModel)))
    }
    ,
    t.prototype._onHandleDragMove = function(e, r) {
        var i = this._handle;
        if (!!i) {
            this._dragging = !0;
            var n = this.updateHandleTransform(Gl(i), [e, r], this._axisModel, this._axisPointerModel);
            this._payloadInfo = n,
            i.stopAnimation(),
            i.attr(Gl(n)),
            qr(i).lastProp = null,
            this._doDispatchAxisPointer()
        }
    }
    ,
    t.prototype._doDispatchAxisPointer = function() {
        var e = this._handle;
        if (!!e) {
            var r = this._payloadInfo
              , i = this._axisModel;
            this._api.dispatchAction({
                type: "updateAxisPointer",
                x: r.cursorPoint[0],
                y: r.cursorPoint[1],
                tooltipOption: r.tooltipOption,
                axesInfo: [{
                    axisDim: i.axis.dim,
                    axisIndex: i.componentIndex
                }]
            })
        }
    }
    ,
    t.prototype._onHandleDragEnd = function() {
        this._dragging = !1;
        var e = this._handle;
        if (!!e) {
            var r = this._axisPointerModel.get("value");
            this._moveHandleToValue(r),
            this._api.dispatchAction({
                type: "hideTip"
            })
        }
    }
    ,
    t.prototype.clear = function(e) {
        this._lastValue = null,
        this._lastStatus = null;
        var r = e.getZr()
          , i = this._group
          , n = this._handle;
        r && i && (this._lastGraphicKey = null,
        i && r.remove(i),
        n && r.remove(n),
        this._group = null,
        this._handle = null,
        this._payloadInfo = null),
        ku(this, "_doDispatchAxisPointer")
    }
    ,
    t.prototype.doClear = function() {}
    ,
    t.prototype.buildLabel = function(e, r, i) {
        return i = i || 0,
        {
            x: e[i],
            y: e[1 - i],
            width: r[i],
            height: r[1 - i]
        }
    }
    ,
    t
}();
function Nd(t, e, r, i) {
    ny(qr(r).lastProp, i) || (qr(r).lastProp = i,
    e ? Sr(r, i, t) : (r.stopAnimation(),
    r.attr(i)))
}
function ny(t, e) {
    if (J(t) && J(e)) {
        var r = !0;
        return I(e, function(i, n) {
            r = r && ny(t[n], i)
        }),
        !!r
    } else
        return t === e
}
function Fd(t, e) {
    t[e.get(["label", "show"]) ? "show" : "hide"]()
}
function Gl(t) {
    return {
        x: t.x || 0,
        y: t.y || 0,
        rotation: t.rotation || 0
    }
}
function zd(t, e, r) {
    var i = e.get("z")
      , n = e.get("zlevel");
    t && t.traverse(function(a) {
        a.type !== "group" && (i != null && (a.z = i),
        n != null && (a.zlevel = n),
        a.silent = r)
    })
}
var bD = SD;
function CD(t) {
    var e = t.get("type"), r = t.getModel(e + "Style"), i;
    return e === "line" ? (i = r.getLineStyle(),
    i.fill = null) : e === "shadow" && (i = r.getAreaStyle(),
    i.stroke = null),
    i
}
function xD(t, e, r, i, n) {
    var a = r.get("value")
      , o = ay(a, e.axis, e.ecModel, r.get("seriesDataIndices"), {
        precision: r.get(["label", "precision"]),
        formatter: r.get(["label", "formatter"])
    })
      , s = r.getModel("label")
      , l = Eh(s.get("padding") || 0)
      , u = s.getFont()
      , h = uh(o, u)
      , f = n.position
      , c = h.width + l[1] + l[3]
      , v = h.height + l[0] + l[2]
      , d = n.align;
    d === "right" && (f[0] -= c),
    d === "center" && (f[0] -= c / 2);
    var m = n.verticalAlign;
    m === "bottom" && (f[1] -= v),
    m === "middle" && (f[1] -= v / 2),
    TD(f, c, v, i);
    var p = s.get("backgroundColor");
    (!p || p === "auto") && (p = e.get(["axisLine", "lineStyle", "color"])),
    t.label = {
        x: f[0],
        y: f[1],
        style: oi(s, {
            text: o,
            font: u,
            fill: s.getTextColor(),
            padding: l,
            backgroundColor: p
        }),
        z2: 10
    }
}
function TD(t, e, r, i) {
    var n = i.getWidth()
      , a = i.getHeight();
    t[0] = Math.min(t[0] + e, n) - e,
    t[1] = Math.min(t[1] + r, a) - r,
    t[0] = Math.max(t[0], 0),
    t[1] = Math.max(t[1], 0)
}
function ay(t, e, r, i, n) {
    t = e.scale.parse(t);
    var a = e.scale.getLabel({
        value: t
    }, {
        precision: n.precision
    })
      , o = n.formatter;
    if (o) {
        var s = {
            value: Jh(e, {
                value: t
            }),
            axisDimension: e.dim,
            axisIndex: e.index,
            seriesData: []
        };
        I(i, function(l) {
            var u = r.getSeriesByIndex(l.seriesIndex)
              , h = l.dataIndexInside
              , f = u && u.getDataParams(h);
            f && s.seriesData.push(f)
        }),
        Q(o) ? a = o.replace("{value}", a) : ne(o) && (a = o(s))
    }
    return a
}
function oy(t, e, r) {
    var i = Bi();
    return nh(i, i, r.rotation),
    tu(i, i, r.position),
    Mh([t.dataToCoord(e), (r.labelOffset || 0) + (r.labelDirection || 1) * (r.labelMargin || 0)], i)
}
function MD(t, e, r, i, n, a) {
    var o = J0.innerTextLayout(r.rotation, 0, r.labelDirection);
    r.labelMargin = n.get(["label", "margin"]),
    xD(e, i, n, a, {
        position: oy(i.axis, t, r),
        align: o.textAlign,
        verticalAlign: o.textVerticalAlign
    })
}
function DD(t, e, r) {
    return r = r || 0,
    {
        x1: t[r],
        y1: t[1 - r],
        x2: e[r],
        y2: e[1 - r]
    }
}
function AD(t, e, r) {
    return r = r || 0,
    {
        x: t[r],
        y: t[1 - r],
        width: e[r],
        height: e[1 - r]
    }
}
var ID = function(t) {
    X(e, t);
    function e() {
        return t !== null && t.apply(this, arguments) || this
    }
    return e.prototype.makeElOption = function(r, i, n, a, o) {
        var s = n.axis
          , l = s.grid
          , u = a.get("type")
          , h = Vd(l, s).getOtherAxis(s).getGlobalExtent()
          , f = s.toGlobalCoord(s.dataToCoord(i, !0));
        if (u && u !== "none") {
            var c = CD(a)
              , v = kD[u](s, f, h);
            v.style = c,
            r.graphicKey = v.type,
            r.pointer = v
        }
        var d = Wu(l.model, n);
        MD(i, r, d, n, a, o)
    }
    ,
    e.prototype.getHandleTransform = function(r, i, n) {
        var a = Wu(i.axis.grid.model, i, {
            labelInside: !1
        });
        a.labelMargin = n.get(["handle", "margin"]);
        var o = oy(i.axis, r, a);
        return {
            x: o[0],
            y: o[1],
            rotation: a.rotation + (a.labelDirection < 0 ? Math.PI : 0)
        }
    }
    ,
    e.prototype.updateHandleTransform = function(r, i, n, a) {
        var o = n.axis
          , s = o.grid
          , l = o.getGlobalExtent(!0)
          , u = Vd(s, o).getOtherAxis(o).getGlobalExtent()
          , h = o.dim === "x" ? 0 : 1
          , f = [r.x, r.y];
        f[h] += i[h],
        f[h] = Math.min(l[1], f[h]),
        f[h] = Math.max(l[0], f[h]);
        var c = (u[1] + u[0]) / 2
          , v = [c, c];
        v[h] = f[h];
        var d = [{
            verticalAlign: "middle"
        }, {
            align: "center"
        }];
        return {
            x: f[0],
            y: f[1],
            rotation: r.rotation,
            cursorPoint: v,
            tooltipOption: d[h]
        }
    }
    ,
    e
}(bD);
function Vd(t, e) {
    var r = {};
    return r[e.dim + "AxisIndex"] = e.index,
    t.getCartesian(r)
}
var kD = {
    line: function(t, e, r) {
        var i = DD([e, r[0]], [e, r[1]], Hd(t));
        return {
            type: "Line",
            subPixelOptimize: !0,
            shape: i
        }
    },
    shadow: function(t, e, r) {
        var i = Math.max(1, t.getBandWidth())
          , n = r[1] - r[0];
        return {
            type: "Rect",
            shape: AD([e - i / 2, r[0]], [i, n], Hd(t))
        }
    }
};
function Hd(t) {
    return t.dim === "x" ? 0 : 1
}
var LD = ID
  , PD = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.type = "axisPointer",
    e.defaultOption = {
        show: "auto",
        z: 50,
        type: "line",
        snap: !1,
        triggerTooltip: !0,
        triggerEmphasis: !0,
        value: null,
        status: null,
        link: [],
        animation: null,
        animationDurationUpdate: 200,
        lineStyle: {
            color: "#B9BEC9",
            width: 1,
            type: "dashed"
        },
        shadowStyle: {
            color: "rgba(210,219,238,0.2)"
        },
        label: {
            show: !0,
            formatter: null,
            precision: "auto",
            margin: 3,
            color: "#fff",
            padding: [5, 7, 5, 7],
            backgroundColor: "auto",
            borderColor: null,
            borderWidth: 0,
            borderRadius: 3
        },
        handle: {
            show: !1,
            icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
            size: 45,
            margin: 50,
            color: "#333",
            shadowBlur: 3,
            shadowColor: "#aaa",
            shadowOffsetX: 0,
            shadowOffsetY: 2,
            throttle: 40
        }
    },
    e
}(we)
  , ED = PD
  , Yt = xe()
  , RD = I;
function sy(t, e, r) {
    if (!ae.node) {
        var i = e.getZr();
        Yt(i).records || (Yt(i).records = {}),
        OD(i, e);
        var n = Yt(i).records[t] || (Yt(i).records[t] = {});
        n.handler = r
    }
}
function OD(t, e) {
    if (Yt(t).initialized)
        return;
    Yt(t).initialized = !0,
    r("click", Ee(Gd, "click")),
    r("mousemove", Ee(Gd, "mousemove")),
    r("globalout", ND);
    function r(i, n) {
        t.on(i, function(a) {
            var o = FD(e);
            RD(Yt(t).records, function(s) {
                s && n(s, a, o.dispatchAction)
            }),
            BD(o.pendings, e)
        })
    }
}
function BD(t, e) {
    var r = t.showTip.length, i = t.hideTip.length, n;
    r ? n = t.showTip[r - 1] : i && (n = t.hideTip[i - 1]),
    n && (n.dispatchAction = null,
    e.dispatchAction(n))
}
function ND(t, e, r) {
    t.handler("leave", null, r)
}
function Gd(t, e, r, i) {
    e.handler(t, r, i)
}
function FD(t) {
    var e = {
        showTip: [],
        hideTip: []
    }
      , r = function(i) {
        var n = e[i.type];
        n ? n.push(i) : (i.dispatchAction = r,
        t.dispatchAction(i))
    };
    return {
        dispatchAction: r,
        pendings: e
    }
}
function Xu(t, e) {
    if (!ae.node) {
        var r = e.getZr()
          , i = (Yt(r).records || {})[t];
        i && (Yt(r).records[t] = null)
    }
}
var zD = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.render = function(r, i, n) {
        var a = i.getComponent("tooltip")
          , o = r.get("triggerOn") || a && a.get("triggerOn") || "mousemove|click";
        sy("axisPointer", n, function(s, l, u) {
            o !== "none" && (s === "leave" || o.indexOf(s) >= 0) && u({
                type: "updateAxisPointer",
                currTrigger: s,
                x: l && l.offsetX,
                y: l && l.offsetY
            })
        })
    }
    ,
    e.prototype.remove = function(r, i) {
        Xu("axisPointer", i)
    }
    ,
    e.prototype.dispose = function(r, i) {
        Xu("axisPointer", i)
    }
    ,
    e.type = "axisPointer",
    e
}(Kt)
  , VD = zD;
function ly(t, e) {
    var r = [], i = t.seriesIndex, n;
    if (i == null || !(n = e.getSeriesByIndex(i)))
        return {
            point: []
        };
    var a = n.getData()
      , o = ni(a, t);
    if (o == null || o < 0 || Y(o))
        return {
            point: []
        };
    var s = a.getItemGraphicEl(o)
      , l = n.coordinateSystem;
    if (n.getTooltipPosition)
        r = n.getTooltipPosition(o) || [];
    else if (l && l.dataToPoint)
        if (t.isStacked) {
            var u = l.getBaseAxis()
              , h = l.getOtherAxis(u)
              , f = h.dim
              , c = u.dim
              , v = f === "x" || f === "radius" ? 1 : 0
              , d = a.mapDimension(c)
              , m = [];
            m[v] = a.get(d, o),
            m[1 - v] = a.get(a.getCalculationInfo("stackResultDimension"), o),
            r = l.dataToPoint(m) || []
        } else
            r = l.dataToPoint(a.getValues(ee(l.dimensions, function(g) {
                return a.mapDimension(g)
            }), o)) || [];
    else if (s) {
        var p = s.getBoundingRect().clone();
        p.applyTransform(s.transform),
        r = [p.x + p.width / 2, p.y + p.height / 2]
    }
    return {
        point: r,
        el: s
    }
}
var Wd = xe();
function HD(t, e, r) {
    var i = t.currTrigger
      , n = [t.x, t.y]
      , a = t
      , o = t.dispatchAction || Ce(r.dispatchAction, r)
      , s = e.getComponent("axisPointer").coordSysAxesInfo;
    if (!!s) {
        xo(n) && (n = ly({
            seriesIndex: a.seriesIndex,
            dataIndex: a.dataIndex
        }, e).point);
        var l = xo(n)
          , u = a.axesInfo
          , h = s.axesInfo
          , f = i === "leave" || xo(n)
          , c = {}
          , v = {}
          , d = {
            list: [],
            map: {}
        }
          , m = {
            showPointer: Ee(WD, v),
            showTooltip: Ee(UD, d)
        };
        I(s.coordSysMap, function(g, y) {
            var _ = l || g.containPoint(n);
            I(s.coordSysAxesInfo[y], function(w, b) {
                var S = w.axis
                  , C = qD(u, w);
                if (!f && _ && (!u || C)) {
                    var T = C && C.value;
                    T == null && !l && (T = S.pointToData(n)),
                    T != null && Ud(w, T, m, !1, c)
                }
            })
        });
        var p = {};
        return I(h, function(g, y) {
            var _ = g.linkGroup;
            _ && !v[y] && I(_.axesInfo, function(w, b) {
                var S = v[b];
                if (w !== g && S) {
                    var C = S.value;
                    _.mapper && (C = g.axis.scale.parse(_.mapper(C, $d(w), $d(g)))),
                    p[g.key] = C
                }
            })
        }),
        I(p, function(g, y) {
            Ud(h[y], g, m, !0, c)
        }),
        $D(v, h, c),
        YD(d, n, t, o),
        XD(h, o, r),
        c
    }
}
function Ud(t, e, r, i, n) {
    var a = t.axis;
    if (!(a.scale.isBlank() || !a.containData(e))) {
        if (!t.involveSeries) {
            r.showPointer(t, e);
            return
        }
        var o = GD(e, t)
          , s = o.payloadBatch
          , l = o.snapToValue;
        s[0] && n.seriesIndex == null && G(n, s[0]),
        !i && t.snap && a.containData(l) && l != null && (e = l),
        r.showPointer(t, e, s),
        r.showTooltip(t, o, l)
    }
}
function GD(t, e) {
    var r = e.axis
      , i = r.dim
      , n = t
      , a = []
      , o = Number.MAX_VALUE
      , s = -1;
    return I(e.seriesModels, function(l, u) {
        var h = l.getData().mapDimensionsAll(i), f, c;
        if (l.getAxisTooltipData) {
            var v = l.getAxisTooltipData(h, t, r);
            c = v.dataIndices,
            f = v.nestestValue
        } else {
            if (c = l.getData().indicesOfNearest(h[0], t, r.type === "category" ? .5 : null),
            !c.length)
                return;
            f = l.getData().get(h[0], c[0])
        }
        if (!(f == null || !isFinite(f))) {
            var d = t - f
              , m = Math.abs(d);
            m <= o && ((m < o || d >= 0 && s < 0) && (o = m,
            s = d,
            n = f,
            a.length = 0),
            I(c, function(p) {
                a.push({
                    seriesIndex: l.seriesIndex,
                    dataIndexInside: p,
                    dataIndex: l.getData().getRawIndex(p)
                })
            }))
        }
    }),
    {
        payloadBatch: a,
        snapToValue: n
    }
}
function WD(t, e, r, i) {
    t[e.key] = {
        value: r,
        payloadBatch: i
    }
}
function UD(t, e, r, i) {
    var n = r.payloadBatch
      , a = e.axis
      , o = a.model
      , s = e.axisPointerModel;
    if (!(!e.triggerTooltip || !n.length)) {
        var l = e.coordSys.model
          , u = la(l)
          , h = t.map[u];
        h || (h = t.map[u] = {
            coordSysId: l.id,
            coordSysIndex: l.componentIndex,
            coordSysType: l.type,
            coordSysMainType: l.mainType,
            dataByAxis: []
        },
        t.list.push(h)),
        h.dataByAxis.push({
            axisDim: a.dim,
            axisIndex: o.componentIndex,
            axisType: o.type,
            axisId: o.id,
            value: i,
            valueLabelOpt: {
                precision: s.get(["label", "precision"]),
                formatter: s.get(["label", "formatter"])
            },
            seriesDataIndices: n.slice()
        })
    }
}
function $D(t, e, r) {
    var i = r.axesInfo = [];
    I(e, function(n, a) {
        var o = n.axisPointerModel.option
          , s = t[a];
        s ? (!n.useHandle && (o.status = "show"),
        o.value = s.value,
        o.seriesDataIndices = (s.payloadBatch || []).slice()) : !n.useHandle && (o.status = "hide"),
        o.status === "show" && i.push({
            axisDim: n.axis.dim,
            axisIndex: n.axis.model.componentIndex,
            value: o.value
        })
    })
}
function YD(t, e, r, i) {
    if (xo(e) || !t.list.length) {
        i({
            type: "hideTip"
        });
        return
    }
    var n = ((t.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
    i({
        type: "showTip",
        escapeConnect: !0,
        x: e[0],
        y: e[1],
        tooltipOption: r.tooltipOption,
        position: r.position,
        dataIndexInside: n.dataIndexInside,
        dataIndex: n.dataIndex,
        seriesIndex: n.seriesIndex,
        dataByCoordSys: t.list
    })
}
function XD(t, e, r) {
    var i = r.getZr()
      , n = "axisPointerLastHighlights"
      , a = Wd(i)[n] || {}
      , o = Wd(i)[n] = {};
    I(t, function(u, h) {
        var f = u.axisPointerModel.option;
        f.status === "show" && u.triggerEmphasis && I(f.seriesDataIndices, function(c) {
            var v = c.seriesIndex + " | " + c.dataIndex;
            o[v] = c
        })
    });
    var s = []
      , l = [];
    I(a, function(u, h) {
        !o[h] && l.push(u)
    }),
    I(o, function(u, h) {
        !a[h] && s.push(u)
    }),
    l.length && r.dispatchAction({
        type: "downplay",
        escapeConnect: !0,
        notBlur: !0,
        batch: l
    }),
    s.length && r.dispatchAction({
        type: "highlight",
        escapeConnect: !0,
        notBlur: !0,
        batch: s
    })
}
function qD(t, e) {
    for (var r = 0; r < (t || []).length; r++) {
        var i = t[r];
        if (e.axis.dim === i.axisDim && e.axis.model.componentIndex === i.axisIndex)
            return i
    }
}
function $d(t) {
    var e = t.axis.model
      , r = {}
      , i = r.axisDim = t.axis.dim;
    return r.axisIndex = r[i + "AxisIndex"] = e.componentIndex,
    r.axisName = r[i + "AxisName"] = e.name,
    r.axisId = r[i + "AxisId"] = e.id,
    r
}
function xo(t) {
    return !t || t[0] == null || isNaN(t[0]) || t[1] == null || isNaN(t[1])
}
function uy(t) {
    ey.registerAxisPointerClass("CartesianAxisPointer", LD),
    t.registerComponentModel(ED),
    t.registerComponentView(VD),
    t.registerPreprocessor(function(e) {
        if (e) {
            (!e.axisPointer || e.axisPointer.length === 0) && (e.axisPointer = {});
            var r = e.axisPointer.link;
            r && !Y(r) && (e.axisPointer.link = [r])
        }
    }),
    t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, function(e, r) {
        e.getComponent("axisPointer").coordSysAxesInfo = jM(e, r)
    }),
    t.registerAction({
        type: "updateAxisPointer",
        event: "updateAxisPointer",
        update: ":updateAxisPointer"
    }, HD)
}
function ZD(t) {
    oa(cD),
    oa(uy)
}
var KD = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.type = "tooltip",
    e.dependencies = ["axisPointer"],
    e.defaultOption = {
        z: 60,
        show: !0,
        showContent: !0,
        trigger: "item",
        triggerOn: "mousemove|click",
        alwaysShowContent: !1,
        displayMode: "single",
        renderMode: "auto",
        confine: null,
        showDelay: 0,
        hideDelay: 100,
        transitionDuration: .4,
        enterable: !1,
        backgroundColor: "#fff",
        shadowBlur: 10,
        shadowColor: "rgba(0, 0, 0, .2)",
        shadowOffsetX: 1,
        shadowOffsetY: 2,
        borderRadius: 4,
        borderWidth: 1,
        padding: null,
        extraCssText: "",
        axisPointer: {
            type: "line",
            axis: "auto",
            animation: "auto",
            animationDurationUpdate: 200,
            animationEasingUpdate: "exponentialOut",
            crossStyle: {
                color: "#999",
                width: 1,
                type: "dashed",
                textStyle: {}
            }
        },
        textStyle: {
            color: "#666",
            fontSize: 14
        }
    },
    e
}(we)
  , jD = KD;
function hy(t) {
    var e = t.get("confine");
    return e != null ? !!e : t.get("renderMode") === "richText"
}
function fy(t) {
    if (!!ae.domSupported) {
        for (var e = document.documentElement.style, r = 0, i = t.length; r < i; r++)
            if (t[r]in e)
                return t[r]
    }
}
var cy = fy(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"])
  , QD = fy(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]);
function vy(t, e) {
    if (!t)
        return e;
    e = um(e, !0);
    var r = t.indexOf(e);
    return t = r === -1 ? e : "-" + t.slice(0, r) + "-" + e,
    t.toLowerCase()
}
function JD(t, e) {
    var r = t.currentStyle || document.defaultView && document.defaultView.getComputedStyle(t);
    return r ? e ? r[e] : r : null
}
var e4 = vy(QD, "transition")
  , af = vy(cy, "transform")
  , t4 = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (ae.transform3dSupported ? "will-change:transform;" : "");
function r4(t) {
    return t = t === "left" ? "right" : t === "right" ? "left" : t === "top" ? "bottom" : "top",
    t
}
function i4(t, e, r) {
    if (!Q(r) || r === "inside")
        return "";
    var i = t.get("backgroundColor")
      , n = t.get("borderWidth");
    e = si(e);
    var a = r4(r), o = Math.max(Math.round(n) * 1.5, 6), s = "", l = af + ":", u;
    pe(["left", "right"], a) > -1 ? (s += "top:50%",
    l += "translateY(-50%) rotate(" + (u = a === "left" ? -225 : -45) + "deg)") : (s += "left:50%",
    l += "translateX(-50%) rotate(" + (u = a === "top" ? 225 : 45) + "deg)");
    var h = u * Math.PI / 180
      , f = o + n
      , c = f * Math.abs(Math.cos(h)) + f * Math.abs(Math.sin(h))
      , v = Math.round(((c - Math.SQRT2 * n) / 2 + Math.SQRT2 * n - (c - f) / 2) * 100) / 100;
    s += ";" + a + ":-" + v + "px";
    var d = e + " solid " + n + "px;"
      , m = ["position:absolute;width:" + o + "px;height:" + o + "px;z-index:-1;", s + ";" + l + ";", "border-bottom:" + d, "border-right:" + d, "background-color:" + i + ";"];
    return '<div style="' + m.join("") + '"></div>'
}
function n4(t, e) {
    var r = "cubic-bezier(0.23,1,0.32,1)"
      , i = " " + t / 2 + "s " + r
      , n = "opacity" + i + ",visibility" + i;
    return e || (i = " " + t + "s " + r,
    n += ae.transformSupported ? "," + af + i : ",left" + i + ",top" + i),
    e4 + ":" + n
}
function Yd(t, e, r) {
    var i = t.toFixed(0) + "px"
      , n = e.toFixed(0) + "px";
    if (!ae.transformSupported)
        return r ? "top:" + n + ";left:" + i + ";" : [["top", n], ["left", i]];
    var a = ae.transform3dSupported
      , o = "translate" + (a ? "3d" : "") + "(" + i + "," + n + (a ? ",0" : "") + ")";
    return r ? "top:0;left:0;" + af + ":" + o + ";" : [["top", 0], ["left", 0], [cy, o]]
}
function a4(t) {
    var e = []
      , r = t.get("fontSize")
      , i = t.getTextColor();
    i && e.push("color:" + i),
    e.push("font:" + t.getFont()),
    r && e.push("line-height:" + Math.round(r * 3 / 2) + "px");
    var n = t.get("textShadowColor")
      , a = t.get("textShadowBlur") || 0
      , o = t.get("textShadowOffsetX") || 0
      , s = t.get("textShadowOffsetY") || 0;
    return n && a && e.push("text-shadow:" + o + "px " + s + "px " + a + "px " + n),
    I(["decoration", "align"], function(l) {
        var u = t.get(l);
        u && e.push("text-" + l + ":" + u)
    }),
    e.join(";")
}
function o4(t, e, r) {
    var i = []
      , n = t.get("transitionDuration")
      , a = t.get("backgroundColor")
      , o = t.get("shadowBlur")
      , s = t.get("shadowColor")
      , l = t.get("shadowOffsetX")
      , u = t.get("shadowOffsetY")
      , h = t.getModel("textStyle")
      , f = Nm(t, "html")
      , c = l + "px " + u + "px " + o + "px " + s;
    return i.push("box-shadow:" + c),
    e && n && i.push(n4(n, r)),
    a && i.push("background-color:" + a),
    I(["width", "color", "radius"], function(v) {
        var d = "border-" + v
          , m = um(d)
          , p = t.get(m);
        p != null && i.push(d + ":" + p + (v === "color" ? "" : "px"))
    }),
    i.push(a4(h)),
    f != null && i.push("padding:" + Eh(f).join("px ") + "px"),
    i.join(";") + ";"
}
function Xd(t, e, r, i, n) {
    var a = e && e.painter;
    if (r) {
        var o = a && a.getViewportRoot();
        o && N_(t, o, r, i, n)
    } else {
        t[0] = i,
        t[1] = n;
        var s = a && a.getViewportRootOffset();
        s && (t[0] += s.offsetLeft,
        t[1] += s.offsetTop)
    }
    t[2] = t[0] / e.getWidth(),
    t[3] = t[1] / e.getHeight()
}
var s4 = function() {
    function t(e, r) {
        if (this._show = !1,
        this._styleCoord = [0, 0, 0, 0],
        this._enterable = !0,
        this._alwaysShowContent = !1,
        this._firstShow = !0,
        this._longHide = !0,
        ae.wxa)
            return null;
        var i = document.createElement("div");
        i.domBelongToZr = !0,
        this.el = i;
        var n = this._zr = e.getZr()
          , a = r.appendTo
          , o = a && (Q(a) ? document.querySelector(a) : Yn(a) ? a : ne(a) && a(e.getDom()));
        Xd(this._styleCoord, n, o, e.getWidth() / 2, e.getHeight() / 2),
        (o || e.getDom()).appendChild(i),
        this._api = e,
        this._container = o;
        var s = this;
        i.onmouseenter = function() {
            s._enterable && (clearTimeout(s._hideTimeout),
            s._show = !0),
            s._inContent = !0
        }
        ,
        i.onmousemove = function(l) {
            if (l = l || window.event,
            !s._enterable) {
                var u = n.handler
                  , h = n.painter.getViewportRoot();
                ft(h, l, !0),
                u.dispatch("mousemove", l)
            }
        }
        ,
        i.onmouseleave = function() {
            s._inContent = !1,
            s._enterable && s._show && s.hideLater(s._hideDelay)
        }
    }
    return t.prototype.update = function(e) {
        if (!this._container) {
            var r = this._api.getDom()
              , i = JD(r, "position")
              , n = r.style;
            n.position !== "absolute" && i !== "absolute" && (n.position = "relative")
        }
        var a = e.get("alwaysShowContent");
        a && this._moveIfResized(),
        this._alwaysShowContent = a,
        this.el.className = e.get("className") || ""
    }
    ,
    t.prototype.show = function(e, r) {
        clearTimeout(this._hideTimeout),
        clearTimeout(this._longHideTimeout);
        var i = this.el
          , n = i.style
          , a = this._styleCoord;
        i.innerHTML ? n.cssText = t4 + o4(e, !this._firstShow, this._longHide) + Yd(a[0], a[1], !0) + ("border-color:" + si(r) + ";") + (e.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none")) : n.display = "none",
        this._show = !0,
        this._firstShow = !1,
        this._longHide = !1
    }
    ,
    t.prototype.setContent = function(e, r, i, n, a) {
        var o = this.el;
        if (e == null) {
            o.innerHTML = "";
            return
        }
        var s = "";
        if (Q(a) && i.get("trigger") === "item" && !hy(i) && (s = i4(i, n, a)),
        Q(e))
            o.innerHTML = e + s;
        else if (e) {
            o.innerHTML = "",
            Y(e) || (e = [e]);
            for (var l = 0; l < e.length; l++)
                Yn(e[l]) && e[l].parentNode !== o && o.appendChild(e[l]);
            if (s && o.childNodes.length) {
                var u = document.createElement("div");
                u.innerHTML = s,
                o.appendChild(u)
            }
        }
    }
    ,
    t.prototype.setEnterable = function(e) {
        this._enterable = e
    }
    ,
    t.prototype.getSize = function() {
        var e = this.el;
        return [e.offsetWidth, e.offsetHeight]
    }
    ,
    t.prototype.moveTo = function(e, r) {
        var i = this._styleCoord;
        if (Xd(i, this._zr, this._container, e, r),
        i[0] != null && i[1] != null) {
            var n = this.el.style
              , a = Yd(i[0], i[1]);
            I(a, function(o) {
                n[o[0]] = o[1]
            })
        }
    }
    ,
    t.prototype._moveIfResized = function() {
        var e = this._styleCoord[2]
          , r = this._styleCoord[3];
        this.moveTo(e * this._zr.getWidth(), r * this._zr.getHeight())
    }
    ,
    t.prototype.hide = function() {
        var e = this
          , r = this.el.style;
        r.visibility = "hidden",
        r.opacity = "0",
        ae.transform3dSupported && (r.willChange = ""),
        this._show = !1,
        this._longHideTimeout = setTimeout(function() {
            return e._longHide = !0
        }, 500)
    }
    ,
    t.prototype.hideLater = function(e) {
        this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (e ? (this._hideDelay = e,
        this._show = !1,
        this._hideTimeout = setTimeout(Ce(this.hide, this), e)) : this.hide())
    }
    ,
    t.prototype.isShow = function() {
        return this._show
    }
    ,
    t.prototype.dispose = function() {
        clearTimeout(this._hideTimeout),
        clearTimeout(this._longHideTimeout);
        var e = this.el.parentNode;
        e && e.removeChild(this.el),
        this.el = this._container = null
    }
    ,
    t
}()
  , l4 = s4
  , u4 = function() {
    function t(e) {
        this._show = !1,
        this._styleCoord = [0, 0, 0, 0],
        this._alwaysShowContent = !1,
        this._enterable = !0,
        this._zr = e.getZr(),
        Zd(this._styleCoord, this._zr, e.getWidth() / 2, e.getHeight() / 2)
    }
    return t.prototype.update = function(e) {
        var r = e.get("alwaysShowContent");
        r && this._moveIfResized(),
        this._alwaysShowContent = r
    }
    ,
    t.prototype.show = function() {
        this._hideTimeout && clearTimeout(this._hideTimeout),
        this.el.show(),
        this._show = !0
    }
    ,
    t.prototype.setContent = function(e, r, i, n, a) {
        var o = this;
        J(e) && Ke(""),
        this.el && this._zr.remove(this.el);
        var s = i.getModel("textStyle");
        this.el = new _t({
            style: {
                rich: r.richTextStyles,
                text: e,
                lineHeight: 22,
                borderWidth: 1,
                borderColor: n,
                textShadowColor: s.get("textShadowColor"),
                fill: i.get(["textStyle", "color"]),
                padding: Nm(i, "richText"),
                verticalAlign: "top",
                align: "left"
            },
            z: i.get("z")
        }),
        I(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function(u) {
            o.el.style[u] = i.get(u)
        }),
        I(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function(u) {
            o.el.style[u] = s.get(u) || 0
        }),
        this._zr.add(this.el);
        var l = this;
        this.el.on("mouseover", function() {
            l._enterable && (clearTimeout(l._hideTimeout),
            l._show = !0),
            l._inContent = !0
        }),
        this.el.on("mouseout", function() {
            l._enterable && l._show && l.hideLater(l._hideDelay),
            l._inContent = !1
        })
    }
    ,
    t.prototype.setEnterable = function(e) {
        this._enterable = e
    }
    ,
    t.prototype.getSize = function() {
        var e = this.el
          , r = this.el.getBoundingRect()
          , i = qd(e.style);
        return [r.width + i.left + i.right, r.height + i.top + i.bottom]
    }
    ,
    t.prototype.moveTo = function(e, r) {
        var i = this.el;
        if (i) {
            var n = this._styleCoord;
            Zd(n, this._zr, e, r),
            e = n[0],
            r = n[1];
            var a = i.style
              , o = cr(a.borderWidth || 0)
              , s = qd(a);
            i.x = e + o + s.left,
            i.y = r + o + s.top,
            i.markRedraw()
        }
    }
    ,
    t.prototype._moveIfResized = function() {
        var e = this._styleCoord[2]
          , r = this._styleCoord[3];
        this.moveTo(e * this._zr.getWidth(), r * this._zr.getHeight())
    }
    ,
    t.prototype.hide = function() {
        this.el && this.el.hide(),
        this._show = !1
    }
    ,
    t.prototype.hideLater = function(e) {
        this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (e ? (this._hideDelay = e,
        this._show = !1,
        this._hideTimeout = setTimeout(Ce(this.hide, this), e)) : this.hide())
    }
    ,
    t.prototype.isShow = function() {
        return this._show
    }
    ,
    t.prototype.dispose = function() {
        this._zr.remove(this.el)
    }
    ,
    t
}();
function cr(t) {
    return Math.max(0, t)
}
function qd(t) {
    var e = cr(t.shadowBlur || 0)
      , r = cr(t.shadowOffsetX || 0)
      , i = cr(t.shadowOffsetY || 0);
    return {
        left: cr(e - r),
        right: cr(e + r),
        top: cr(e - i),
        bottom: cr(e + i)
    }
}
function Zd(t, e, r, i) {
    t[0] = r,
    t[1] = i,
    t[2] = t[0] / e.getWidth(),
    t[3] = t[1] / e.getHeight()
}
var h4 = u4
  , f4 = new Je({
    shape: {
        x: -1,
        y: -1,
        width: 2,
        height: 2
    }
})
  , c4 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.init = function(r, i) {
        if (!(ae.node || !i.getDom())) {
            var n = r.getComponent("tooltip")
              , a = this._renderMode = mw(n.get("renderMode"));
            this._tooltipContent = a === "richText" ? new h4(i) : new l4(i,{
                appendTo: n.get("appendToBody", !0) ? "body" : n.get("appendTo", !0)
            })
        }
    }
    ,
    e.prototype.render = function(r, i, n) {
        if (!(ae.node || !n.getDom())) {
            this.group.removeAll(),
            this._tooltipModel = r,
            this._ecModel = i,
            this._api = n;
            var a = this._tooltipContent;
            a.update(r),
            a.setEnterable(r.get("enterable")),
            this._initGlobalListener(),
            this._keepShow(),
            this._renderMode !== "richText" && r.get("transitionDuration") ? Vm(this, "_updatePosition", 50, "fixRate") : ku(this, "_updatePosition")
        }
    }
    ,
    e.prototype._initGlobalListener = function() {
        var r = this._tooltipModel
          , i = r.get("triggerOn");
        sy("itemTooltip", this._api, Ce(function(n, a, o) {
            i !== "none" && (i.indexOf(n) >= 0 ? this._tryShow(a, o) : n === "leave" && this._hide(o))
        }, this))
    }
    ,
    e.prototype._keepShow = function() {
        var r = this._tooltipModel
          , i = this._ecModel
          , n = this._api
          , a = r.get("triggerOn");
        if (this._lastX != null && this._lastY != null && a !== "none" && a !== "click") {
            var o = this;
            clearTimeout(this._refreshUpdateTimeout),
            this._refreshUpdateTimeout = setTimeout(function() {
                !n.isDisposed() && o.manuallyShowTip(r, i, n, {
                    x: o._lastX,
                    y: o._lastY,
                    dataByCoordSys: o._lastDataByCoordSys
                })
            })
        }
    }
    ,
    e.prototype.manuallyShowTip = function(r, i, n, a) {
        if (!(a.from === this.uid || ae.node || !n.getDom())) {
            var o = Kd(a, n);
            this._ticket = "";
            var s = a.dataByCoordSys
              , l = g4(a, i, n);
            if (l) {
                var u = l.el.getBoundingRect().clone();
                u.applyTransform(l.el.transform),
                this._tryShow({
                    offsetX: u.x + u.width / 2,
                    offsetY: u.y + u.height / 2,
                    target: l.el,
                    position: a.position,
                    positionDefault: "bottom"
                }, o)
            } else if (a.tooltip && a.x != null && a.y != null) {
                var h = f4;
                h.x = a.x,
                h.y = a.y,
                h.update(),
                de(h).tooltipConfig = {
                    name: null,
                    option: a.tooltip
                },
                this._tryShow({
                    offsetX: a.x,
                    offsetY: a.y,
                    target: h
                }, o)
            } else if (s)
                this._tryShow({
                    offsetX: a.x,
                    offsetY: a.y,
                    position: a.position,
                    dataByCoordSys: s,
                    tooltipOption: a.tooltipOption
                }, o);
            else if (a.seriesIndex != null) {
                if (this._manuallyAxisShowTip(r, i, n, a))
                    return;
                var f = ly(a, i)
                  , c = f.point[0]
                  , v = f.point[1];
                c != null && v != null && this._tryShow({
                    offsetX: c,
                    offsetY: v,
                    target: f.el,
                    position: a.position,
                    positionDefault: "bottom"
                }, o)
            } else
                a.x != null && a.y != null && (n.dispatchAction({
                    type: "updateAxisPointer",
                    x: a.x,
                    y: a.y
                }),
                this._tryShow({
                    offsetX: a.x,
                    offsetY: a.y,
                    position: a.position,
                    target: n.getZr().findHover(a.x, a.y).target
                }, o))
        }
    }
    ,
    e.prototype.manuallyHideTip = function(r, i, n, a) {
        var o = this._tooltipContent;
        this._tooltipModel && o.hideLater(this._tooltipModel.get("hideDelay")),
        this._lastX = this._lastY = this._lastDataByCoordSys = null,
        a.from !== this.uid && this._hide(Kd(a, n))
    }
    ,
    e.prototype._manuallyAxisShowTip = function(r, i, n, a) {
        var o = a.seriesIndex
          , s = a.dataIndex
          , l = i.getComponent("axisPointer").coordSysAxesInfo;
        if (!(o == null || s == null || l == null)) {
            var u = i.getSeriesByIndex(o);
            if (!!u) {
                var h = u.getData()
                  , f = xn([h.getItemModel(s), u, (u.coordinateSystem || {}).model], this._tooltipModel);
                if (f.get("trigger") === "axis")
                    return n.dispatchAction({
                        type: "updateAxisPointer",
                        seriesIndex: o,
                        dataIndex: s,
                        position: a.position
                    }),
                    !0
            }
        }
    }
    ,
    e.prototype._tryShow = function(r, i) {
        var n = r.target
          , a = this._tooltipModel;
        if (!!a) {
            this._lastX = r.offsetX,
            this._lastY = r.offsetY;
            var o = r.dataByCoordSys;
            if (o && o.length)
                this._showAxisTooltip(o, r);
            else if (n) {
                var s = de(n);
                if (s.ssrType === "legend")
                    return;
                this._lastDataByCoordSys = null;
                var l, u;
                En(n, function(h) {
                    if (de(h).dataIndex != null)
                        return l = h,
                        !0;
                    if (de(h).tooltipConfig != null)
                        return u = h,
                        !0
                }, !0),
                l ? this._showSeriesItemTooltip(r, l, i) : u ? this._showComponentItemTooltip(r, u, i) : this._hide(i)
            } else
                this._lastDataByCoordSys = null,
                this._hide(i)
        }
    }
    ,
    e.prototype._showOrMove = function(r, i) {
        var n = r.get("showDelay");
        i = Ce(i, this),
        clearTimeout(this._showTimout),
        n > 0 ? this._showTimout = setTimeout(i, n) : i()
    }
    ,
    e.prototype._showAxisTooltip = function(r, i) {
        var n = this._ecModel
          , a = this._tooltipModel
          , o = [i.offsetX, i.offsetY]
          , s = xn([i.tooltipOption], a)
          , l = this._renderMode
          , u = []
          , h = li("section", {
            blocks: [],
            noHeader: !0
        })
          , f = []
          , c = new yl;
        I(r, function(y) {
            I(y.dataByAxis, function(_) {
                var w = n.getComponent(_.axisDim + "Axis", _.axisIndex)
                  , b = _.value;
                if (!(!w || b == null)) {
                    var S = ay(b, w.axis, n, _.seriesDataIndices, _.valueLabelOpt)
                      , C = li("section", {
                        header: S,
                        noHeader: !Nt(S),
                        sortBlocks: !0,
                        blocks: []
                    });
                    h.blocks.push(C),
                    I(_.seriesDataIndices, function(T) {
                        var x = n.getSeriesByIndex(T.seriesIndex)
                          , D = T.dataIndexInside
                          , A = x.getDataParams(D);
                        if (!(A.dataIndex < 0)) {
                            A.axisDim = _.axisDim,
                            A.axisIndex = _.axisIndex,
                            A.axisType = _.axisType,
                            A.axisId = _.axisId,
                            A.axisValue = Jh(w.axis, {
                                value: b
                            }),
                            A.axisValueLabel = S,
                            A.marker = c.makeTooltipMarker("item", si(A.color), l);
                            var k = cv(x.formatTooltip(D, !0, null))
                              , P = k.frag;
                            if (P) {
                                var E = xn([x], a).get("valueFormatter");
                                C.blocks.push(E ? G({
                                    valueFormatter: E
                                }, P) : P)
                            }
                            k.text && f.push(k.text),
                            u.push(A)
                        }
                    })
                }
            })
        }),
        h.blocks.reverse(),
        f.reverse();
        var v = i.position
          , d = s.get("order")
          , m = mv(h, c, l, d, n.get("useUTC"), s.get("textStyle"));
        m && f.unshift(m);
        var p = l === "richText" ? `

` : "<br/>"
          , g = f.join(p);
        this._showOrMove(s, function() {
            this._updateContentNotChangedOnAxis(r, u) ? this._updatePosition(s, v, o[0], o[1], this._tooltipContent, u) : this._showTooltipContent(s, g, u, Math.random() + "", o[0], o[1], v, null, c)
        })
    }
    ,
    e.prototype._showSeriesItemTooltip = function(r, i, n) {
        var a = this._ecModel
          , o = de(i)
          , s = o.seriesIndex
          , l = a.getSeriesByIndex(s)
          , u = o.dataModel || l
          , h = o.dataIndex
          , f = o.dataType
          , c = u.getData(f)
          , v = this._renderMode
          , d = r.positionDefault
          , m = xn([c.getItemModel(h), u, l && (l.coordinateSystem || {}).model], this._tooltipModel, d ? {
            position: d
        } : null)
          , p = m.get("trigger");
        if (!(p != null && p !== "item")) {
            var g = u.getDataParams(h, f)
              , y = new yl;
            g.marker = y.makeTooltipMarker("item", si(g.color), v);
            var _ = cv(u.formatTooltip(h, !1, f))
              , w = m.get("order")
              , b = m.get("valueFormatter")
              , S = _.frag
              , C = S ? mv(b ? G({
                valueFormatter: b
            }, S) : S, y, v, w, a.get("useUTC"), m.get("textStyle")) : _.text
              , T = "item_" + u.name + "_" + h;
            this._showOrMove(m, function() {
                this._showTooltipContent(m, C, g, T, r.offsetX, r.offsetY, r.position, r.target, y)
            }),
            n({
                type: "showTip",
                dataIndexInside: h,
                dataIndex: c.getRawIndex(h),
                seriesIndex: s,
                from: this.uid
            })
        }
    }
    ,
    e.prototype._showComponentItemTooltip = function(r, i, n) {
        var a = this._renderMode === "html"
          , o = de(i)
          , s = o.tooltipConfig
          , l = s.option || {}
          , u = l.encodeHTMLContent;
        if (Q(l)) {
            var h = l;
            l = {
                content: h,
                formatter: h
            },
            u = !0
        }
        u && a && l.content && (l = ue(l),
        l.content = nt(l.content));
        var f = [l]
          , c = this._ecModel.getComponent(o.componentMainType, o.componentIndex);
        c && f.push(c),
        f.push({
            formatter: l.content
        });
        var v = r.positionDefault
          , d = xn(f, this._tooltipModel, v ? {
            position: v
        } : null)
          , m = d.get("content")
          , p = Math.random() + ""
          , g = new yl;
        this._showOrMove(d, function() {
            var y = ue(d.get("formatterParams") || {});
            this._showTooltipContent(d, m, y, p, r.offsetX, r.offsetY, r.position, i, g)
        }),
        n({
            type: "showTip",
            from: this.uid
        })
    }
    ,
    e.prototype._showTooltipContent = function(r, i, n, a, o, s, l, u, h) {
        if (this._ticket = "",
        !(!r.get("showContent") || !r.get("show"))) {
            var f = this._tooltipContent;
            f.setEnterable(r.get("enterable"));
            var c = r.get("formatter");
            l = l || r.get("position");
            var v = i
              , d = this._getNearestPoint([o, s], n, r.get("trigger"), r.get("borderColor"))
              , m = d.color;
            if (c)
                if (Q(c)) {
                    var p = r.ecModel.get("useUTC")
                      , g = Y(n) ? n[0] : n
                      , y = g && g.axisType && g.axisType.indexOf("time") >= 0;
                    v = c,
                    y && (v = os(g.axisValue, v, p)),
                    v = hm(v, n, !0)
                } else if (ne(c)) {
                    var _ = Ce(function(w, b) {
                        w === this._ticket && (f.setContent(b, h, r, m, l),
                        this._updatePosition(r, l, o, s, f, n, u))
                    }, this);
                    this._ticket = a,
                    v = c(n, a, _)
                } else
                    v = c;
            f.setContent(v, h, r, m, l),
            f.show(r, m),
            this._updatePosition(r, l, o, s, f, n, u)
        }
    }
    ,
    e.prototype._getNearestPoint = function(r, i, n, a) {
        if (n === "axis" || Y(i))
            return {
                color: a || (this._renderMode === "html" ? "#fff" : "none")
            };
        if (!Y(i))
            return {
                color: a || i.color || i.borderColor
            }
    }
    ,
    e.prototype._updatePosition = function(r, i, n, a, o, s, l) {
        var u = this._api.getWidth()
          , h = this._api.getHeight();
        i = i || r.get("position");
        var f = o.getSize()
          , c = r.get("align")
          , v = r.get("verticalAlign")
          , d = l && l.getBoundingRect().clone();
        if (l && d.applyTransform(l.transform),
        ne(i) && (i = i([n, a], s, o.el, d, {
            viewSize: [u, h],
            contentSize: f.slice()
        })),
        Y(i))
            n = Oe(i[0], u),
            a = Oe(i[1], h);
        else if (J(i)) {
            var m = i;
            m.width = f[0],
            m.height = f[1];
            var p = Rh(m, {
                width: u,
                height: h
            });
            n = p.x,
            a = p.y,
            c = null,
            v = null
        } else if (Q(i) && l) {
            var g = p4(i, d, f, r.get("borderWidth"));
            n = g[0],
            a = g[1]
        } else {
            var g = v4(n, a, o, u, h, c ? null : 20, v ? null : 20);
            n = g[0],
            a = g[1]
        }
        if (c && (n -= jd(c) ? f[0] / 2 : c === "right" ? f[0] : 0),
        v && (a -= jd(v) ? f[1] / 2 : v === "bottom" ? f[1] : 0),
        hy(r)) {
            var g = d4(n, a, o, u, h);
            n = g[0],
            a = g[1]
        }
        o.moveTo(n, a)
    }
    ,
    e.prototype._updateContentNotChangedOnAxis = function(r, i) {
        var n = this._lastDataByCoordSys
          , a = this._cbParamsList
          , o = !!n && n.length === r.length;
        return o && I(n, function(s, l) {
            var u = s.dataByAxis || []
              , h = r[l] || {}
              , f = h.dataByAxis || [];
            o = o && u.length === f.length,
            o && I(u, function(c, v) {
                var d = f[v] || {}
                  , m = c.seriesDataIndices || []
                  , p = d.seriesDataIndices || [];
                o = o && c.value === d.value && c.axisType === d.axisType && c.axisId === d.axisId && m.length === p.length,
                o && I(m, function(g, y) {
                    var _ = p[y];
                    o = o && g.seriesIndex === _.seriesIndex && g.dataIndex === _.dataIndex
                }),
                a && I(c.seriesDataIndices, function(g) {
                    var y = g.seriesIndex
                      , _ = i[y]
                      , w = a[y];
                    _ && w && w.data !== _.data && (o = !1)
                })
            })
        }),
        this._lastDataByCoordSys = r,
        this._cbParamsList = i,
        !!o
    }
    ,
    e.prototype._hide = function(r) {
        this._lastDataByCoordSys = null,
        r({
            type: "hideTip",
            from: this.uid
        })
    }
    ,
    e.prototype.dispose = function(r, i) {
        ae.node || !i.getDom() || (ku(this, "_updatePosition"),
        this._tooltipContent.dispose(),
        Xu("itemTooltip", i))
    }
    ,
    e.type = "tooltip",
    e
}(Kt);
function xn(t, e, r) {
    var i = e.ecModel, n;
    r ? (n = new $e(r,i,i),
    n = new $e(e.option,n,i)) : n = e;
    for (var a = t.length - 1; a >= 0; a--) {
        var o = t[a];
        o && (o instanceof $e && (o = o.get("tooltip", !0)),
        Q(o) && (o = {
            formatter: o
        }),
        o && (n = new $e(o,n,i)))
    }
    return n
}
function Kd(t, e) {
    return t.dispatchAction || Ce(e.dispatchAction, e)
}
function v4(t, e, r, i, n, a, o) {
    var s = r.getSize()
      , l = s[0]
      , u = s[1];
    return a != null && (t + l + a + 2 > i ? t -= l + a : t += a),
    o != null && (e + u + o > n ? e -= u + o : e += o),
    [t, e]
}
function d4(t, e, r, i, n) {
    var a = r.getSize()
      , o = a[0]
      , s = a[1];
    return t = Math.min(t + o, i) - o,
    e = Math.min(e + s, n) - s,
    t = Math.max(t, 0),
    e = Math.max(e, 0),
    [t, e]
}
function p4(t, e, r, i) {
    var n = r[0]
      , a = r[1]
      , o = Math.ceil(Math.SQRT2 * i) + 8
      , s = 0
      , l = 0
      , u = e.width
      , h = e.height;
    switch (t) {
    case "inside":
        s = e.x + u / 2 - n / 2,
        l = e.y + h / 2 - a / 2;
        break;
    case "top":
        s = e.x + u / 2 - n / 2,
        l = e.y - a - o;
        break;
    case "bottom":
        s = e.x + u / 2 - n / 2,
        l = e.y + h + o;
        break;
    case "left":
        s = e.x - n - o,
        l = e.y + h / 2 - a / 2;
        break;
    case "right":
        s = e.x + u + o,
        l = e.y + h / 2 - a / 2
    }
    return [s, l]
}
function jd(t) {
    return t === "center" || t === "middle"
}
function g4(t, e, r) {
    var i = vh(t).queryOptionMap
      , n = i.keys()[0];
    if (!(!n || n === "series")) {
        var a = ca(e, n, i.get(n), {
            useDefault: !1,
            enableAll: !1,
            enableNone: !1
        })
          , o = a.models[0];
        if (!!o) {
            var s = r.getViewOfComponentModel(o), l;
            if (s.group.traverse(function(u) {
                var h = de(u).tooltipConfig;
                if (h && h.name === t.name)
                    return l = u,
                    !0
            }),
            l)
                return {
                    componentMainType: n,
                    componentIndex: o.componentIndex,
                    el: l
                }
        }
    }
}
var m4 = c4;
function y4(t) {
    oa(uy),
    t.registerComponentModel(jD),
    t.registerComponentView(m4),
    t.registerAction({
        type: "showTip",
        event: "showTip",
        update: "tooltip:manuallyShowTip"
    }, Qe),
    t.registerAction({
        type: "hideTip",
        event: "hideTip",
        update: "tooltip:manuallyHideTip"
    }, Qe)
}
var _4 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r.layoutMode = {
            type: "box",
            ignoreSize: !0
        },
        r
    }
    return e.type = "title",
    e.defaultOption = {
        z: 6,
        show: !0,
        text: "",
        target: "blank",
        subtext: "",
        subtarget: "blank",
        left: 0,
        top: 0,
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "#ccc",
        borderWidth: 0,
        padding: 5,
        itemGap: 10,
        textStyle: {
            fontSize: 18,
            fontWeight: "bold",
            color: "#464646"
        },
        subtextStyle: {
            fontSize: 12,
            color: "#6E7079"
        }
    },
    e
}(we)
  , w4 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.render = function(r, i, n) {
        if (this.group.removeAll(),
        !!r.get("show")) {
            var a = this.group
              , o = r.getModel("textStyle")
              , s = r.getModel("subtextStyle")
              , l = r.get("textAlign")
              , u = oe(r.get("textBaseline"), r.get("textVerticalAlign"))
              , h = new _t({
                style: oi(o, {
                    text: r.get("text"),
                    fill: o.getTextColor()
                }, {
                    disableBox: !0
                }),
                z2: 10
            })
              , f = h.getBoundingRect()
              , c = r.get("subtext")
              , v = new _t({
                style: oi(s, {
                    text: c,
                    fill: s.getTextColor(),
                    y: f.height + r.get("itemGap"),
                    verticalAlign: "top"
                }, {
                    disableBox: !0
                }),
                z2: 10
            })
              , d = r.get("link")
              , m = r.get("sublink")
              , p = r.get("triggerEvent", !0);
            h.silent = !d && !p,
            v.silent = !m && !p,
            d && h.on("click", function() {
                qc(d, "_" + r.get("target"))
            }),
            m && v.on("click", function() {
                qc(m, "_" + r.get("subtarget"))
            }),
            de(h).eventData = de(v).eventData = p ? {
                componentType: "title",
                componentIndex: r.componentIndex
            } : null,
            a.add(h),
            c && a.add(v);
            var g = a.getBoundingRect()
              , y = r.getBoxLayoutParams();
            y.width = g.width,
            y.height = g.height;
            var _ = Rh(y, {
                width: n.getWidth(),
                height: n.getHeight()
            }, r.get("padding"));
            l || (l = r.get("left") || r.get("right"),
            l === "middle" && (l = "center"),
            l === "right" ? _.x += _.width : l === "center" && (_.x += _.width / 2)),
            u || (u = r.get("top") || r.get("bottom"),
            u === "center" && (u = "middle"),
            u === "bottom" ? _.y += _.height : u === "middle" && (_.y += _.height / 2),
            u = u || "top"),
            a.x = _.x,
            a.y = _.y,
            a.markRedraw();
            var w = {
                align: l,
                verticalAlign: u
            };
            h.setStyle(w),
            v.setStyle(w),
            g = a.getBoundingRect();
            var b = _.margin
              , S = r.getItemStyle(["color", "opacity"]);
            S.fill = r.get("backgroundColor");
            var C = new Je({
                shape: {
                    x: g.x - b[3],
                    y: g.y - b[0],
                    width: g.width + b[1] + b[3],
                    height: g.height + b[0] + b[2],
                    r: r.get("borderRadius")
                },
                style: S,
                subPixelOptimize: !0,
                silent: !0
            });
            a.add(C)
        }
    }
    ,
    e.type = "title",
    e
}(Kt);
function S4(t) {
    t.registerComponentModel(_4),
    t.registerComponentView(w4)
}
function b4(t, e) {
    if (!t)
        return !1;
    for (var r = Y(t) ? t : [t], i = 0; i < r.length; i++)
        if (r[i] && r[i][e])
            return !0;
    return !1
}
function ro(t) {
    vu(t, "label", ["show"])
}
var io = xe()
  , dy = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r.createdBySelf = !1,
        r
    }
    return e.prototype.init = function(r, i, n) {
        this.mergeDefaultAndTheme(r, n),
        this._mergeOption(r, n, !1, !0)
    }
    ,
    e.prototype.isAnimationEnabled = function() {
        if (ae.node)
            return !1;
        var r = this.__hostSeries;
        return this.getShallow("animation") && r && r.isAnimationEnabled()
    }
    ,
    e.prototype.mergeOption = function(r, i) {
        this._mergeOption(r, i, !1, !1)
    }
    ,
    e.prototype._mergeOption = function(r, i, n, a) {
        var o = this.mainType;
        n || i.eachSeries(function(s) {
            var l = s.get(this.mainType, !0)
              , u = io(s)[o];
            if (!l || !l.data) {
                io(s)[o] = null;
                return
            }
            u ? u._mergeOption(l, i, !0) : (a && ro(l),
            I(l.data, function(h) {
                h instanceof Array ? (ro(h[0]),
                ro(h[1])) : ro(h)
            }),
            u = this.createMarkerModelFromSeries(l, this, i),
            G(u, {
                mainType: this.mainType,
                seriesIndex: s.seriesIndex,
                name: s.name,
                createdBySelf: !0
            }),
            u.__hostSeries = s),
            io(s)[o] = u
        }, this)
    }
    ,
    e.prototype.formatTooltip = function(r, i, n) {
        var a = this.getData()
          , o = this.getRawValue(r)
          , s = a.getName(r);
        return li("section", {
            header: this.name,
            blocks: [li("nameValue", {
                name: s,
                value: o,
                noName: !s,
                noValue: o == null
            })]
        })
    }
    ,
    e.prototype.getData = function() {
        return this._data
    }
    ,
    e.prototype.setData = function(r) {
        this._data = r
    }
    ,
    e.prototype.getDataParams = function(r, i) {
        var n = Hh.prototype.getDataParams.call(this, r, i)
          , a = this.__hostSeries;
        return a && (n.seriesId = a.id,
        n.seriesName = a.name,
        n.seriesType = a.subType),
        n
    }
    ,
    e.getMarkerModelFromSeries = function(r, i) {
        return io(r)[i]
    }
    ,
    e.type = "marker",
    e.dependencies = ["series", "grid", "polar", "geo"],
    e
}(we);
It(dy, Hh.prototype);
var Yo = dy;
function C4(t) {
    return !(isNaN(parseFloat(t.x)) && isNaN(parseFloat(t.y)))
}
function x4(t) {
    return !isNaN(parseFloat(t.x)) && !isNaN(parseFloat(t.y))
}
function no(t, e, r, i, n, a) {
    var o = []
      , s = Xi(e, i)
      , l = s ? e.getCalculationInfo("stackResultDimension") : i
      , u = of(e, l, t)
      , h = e.indicesOfNearest(l, u)[0];
    o[n] = e.get(r, h),
    o[a] = e.get(l, h);
    var f = e.get(i, h)
      , c = Ft(e.get(i, h));
    return c = Math.min(c, 20),
    c >= 0 && (o[a] = +o[a].toFixed(c)),
    [o, f]
}
var Wl = {
    min: Ee(no, "min"),
    max: Ee(no, "max"),
    average: Ee(no, "average"),
    median: Ee(no, "median")
};
function Qd(t, e) {
    if (!!e) {
        var r = t.getData()
          , i = t.coordinateSystem
          , n = i && i.dimensions;
        if (!x4(e) && !Y(e.coord) && Y(n)) {
            var a = py(e, r, i, t);
            if (e = ue(e),
            e.type && Wl[e.type] && a.baseAxis && a.valueAxis) {
                var o = pe(n, a.baseAxis.dim)
                  , s = pe(n, a.valueAxis.dim)
                  , l = Wl[e.type](r, a.baseDataDim, a.valueDataDim, o, s);
                e.coord = l[0],
                e.value = l[1]
            } else
                e.coord = [e.xAxis != null ? e.xAxis : e.radiusAxis, e.yAxis != null ? e.yAxis : e.angleAxis]
        }
        if (e.coord == null || !Y(n))
            e.coord = [];
        else
            for (var u = e.coord, h = 0; h < 2; h++)
                Wl[u[h]] && (u[h] = of(r, r.mapDimension(n[h]), u[h]));
        return e
    }
}
function py(t, e, r, i) {
    var n = {};
    return t.valueIndex != null || t.valueDim != null ? (n.valueDataDim = t.valueIndex != null ? e.getDimension(t.valueIndex) : t.valueDim,
    n.valueAxis = r.getAxis(T4(i, n.valueDataDim)),
    n.baseAxis = r.getOtherAxis(n.valueAxis),
    n.baseDataDim = e.mapDimension(n.baseAxis.dim)) : (n.baseAxis = i.getBaseAxis(),
    n.valueAxis = r.getOtherAxis(n.baseAxis),
    n.baseDataDim = e.mapDimension(n.baseAxis.dim),
    n.valueDataDim = e.mapDimension(n.valueAxis.dim)),
    n
}
function T4(t, e) {
    var r = t.getData().getDimensionInfo(e);
    return r && r.coordDim
}
function Jd(t, e) {
    return t && t.containData && e.coord && !C4(e) ? t.containData(e.coord) : !0
}
function M4(t, e) {
    return t ? function(r, i, n, a) {
        var o = a < 2 ? r.coord && r.coord[a] : r.value;
        return Gi(o, e[a])
    }
    : function(r, i, n, a) {
        return Gi(r.value, e[a])
    }
}
function of(t, e, r) {
    if (r === "average") {
        var i = 0
          , n = 0;
        return t.each(e, function(a, o) {
            isNaN(a) || (i += a,
            n++)
        }),
        i / n
    } else
        return r === "median" ? t.getMedian(e) : t.getDataExtent(e)[r === "max" ? 1 : 0]
}
var Ul = xe()
  , D4 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.init = function() {
        this.markerGroupMap = le()
    }
    ,
    e.prototype.render = function(r, i, n) {
        var a = this
          , o = this.markerGroupMap;
        o.each(function(s) {
            Ul(s).keep = !1
        }),
        i.eachSeries(function(s) {
            var l = Yo.getMarkerModelFromSeries(s, a.type);
            l && a.renderSeries(s, l, i, n)
        }),
        o.each(function(s) {
            !Ul(s).keep && a.group.remove(s.group)
        })
    }
    ,
    e.prototype.markKeep = function(r) {
        Ul(r).keep = !0
    }
    ,
    e.prototype.toggleBlurSeries = function(r, i) {
        var n = this;
        I(r, function(a) {
            var o = Yo.getMarkerModelFromSeries(a, n.type);
            if (o) {
                var s = o.getData();
                s.eachItemGraphicEl(function(l) {
                    l && (i ? gg(l) : yh(l))
                })
            }
        })
    }
    ,
    e.type = "marker",
    e
}(Kt)
  , A4 = D4
  , I4 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.createMarkerModelFromSeries = function(r, i, n) {
        return new e(r,i,n)
    }
    ,
    e.type = "markLine",
    e.defaultOption = {
        z: 5,
        symbol: ["circle", "arrow"],
        symbolSize: [8, 16],
        symbolOffset: 0,
        precision: 2,
        tooltip: {
            trigger: "item"
        },
        label: {
            show: !0,
            position: "end",
            distance: 5
        },
        lineStyle: {
            type: "dashed"
        },
        emphasis: {
            label: {
                show: !0
            },
            lineStyle: {
                width: 3
            }
        },
        animationEasing: "linear"
    },
    e
}(Yo)
  , k4 = I4
  , ao = xe()
  , L4 = function(t, e, r, i) {
    var n = t.getData(), a;
    if (Y(i))
        a = i;
    else {
        var o = i.type;
        if (o === "min" || o === "max" || o === "average" || o === "median" || i.xAxis != null || i.yAxis != null) {
            var s = void 0
              , l = void 0;
            if (i.yAxis != null || i.xAxis != null)
                s = e.getAxis(i.yAxis != null ? "y" : "x"),
                l = Wi(i.yAxis, i.xAxis);
            else {
                var u = py(i, n, e, t);
                s = u.valueAxis;
                var h = C0(n, u.valueDataDim);
                l = of(n, h, o)
            }
            var f = s.dim === "x" ? 0 : 1
              , c = 1 - f
              , v = ue(i)
              , d = {
                coord: []
            };
            v.type = null,
            v.coord = [],
            v.coord[c] = -1 / 0,
            d.coord[c] = 1 / 0;
            var m = r.get("precision");
            m >= 0 && be(l) && (l = +l.toFixed(Math.min(m, 20))),
            v.coord[f] = d.coord[f] = l,
            a = [v, d, {
                type: o,
                valueIndex: i.valueIndex,
                value: l
            }]
        } else
            a = []
    }
    var p = [Qd(t, a[0]), Qd(t, a[1]), G({}, a[2])];
    return p[2].type = p[2].type || null,
    ge(p[2], p[0]),
    ge(p[2], p[1]),
    p
};
function Xo(t) {
    return !isNaN(t) && !isFinite(t)
}
function ep(t, e, r, i) {
    var n = 1 - t
      , a = i.dimensions[t];
    return Xo(e[n]) && Xo(r[n]) && e[t] === r[t] && i.getAxis(a).containData(e[t])
}
function P4(t, e) {
    if (t.type === "cartesian2d") {
        var r = e[0].coord
          , i = e[1].coord;
        if (r && i && (ep(1, r, i, t) || ep(0, r, i, t)))
            return !0
    }
    return Jd(t, e[0]) && Jd(t, e[1])
}
function $l(t, e, r, i, n) {
    var a = i.coordinateSystem, o = t.getItemModel(e), s, l = Oe(o.get("x"), n.getWidth()), u = Oe(o.get("y"), n.getHeight());
    if (!isNaN(l) && !isNaN(u))
        s = [l, u];
    else {
        if (i.getMarkerPosition)
            s = i.getMarkerPosition(t.getValues(t.dimensions, e));
        else {
            var h = a.dimensions
              , f = t.get(h[0], e)
              , c = t.get(h[1], e);
            s = a.dataToPoint([f, c])
        }
        if (Z0(a, "cartesian2d")) {
            var v = a.getAxis("x")
              , d = a.getAxis("y")
              , h = a.dimensions;
            Xo(t.get(h[0], e)) ? s[0] = v.toGlobalCoord(v.getExtent()[r ? 0 : 1]) : Xo(t.get(h[1], e)) && (s[1] = d.toGlobalCoord(d.getExtent()[r ? 0 : 1]))
        }
        isNaN(l) || (s[0] = l),
        isNaN(u) || (s[1] = u)
    }
    t.setItemLayout(e, s)
}
var E4 = function(t) {
    X(e, t);
    function e() {
        var r = t !== null && t.apply(this, arguments) || this;
        return r.type = e.type,
        r
    }
    return e.prototype.updateTransform = function(r, i, n) {
        i.eachSeries(function(a) {
            var o = Yo.getMarkerModelFromSeries(a, "markLine");
            if (o) {
                var s = o.getData()
                  , l = ao(o).from
                  , u = ao(o).to;
                l.each(function(h) {
                    $l(l, h, !0, a, n),
                    $l(u, h, !1, a, n)
                }),
                s.each(function(h) {
                    s.setItemLayout(h, [l.getItemLayout(h), u.getItemLayout(h)])
                }),
                this.markerGroupMap.get(a.id).updateLayout()
            }
        }, this)
    }
    ,
    e.prototype.renderSeries = function(r, i, n, a) {
        var o = r.coordinateSystem
          , s = r.id
          , l = r.getData()
          , u = this.markerGroupMap
          , h = u.get(s) || u.set(s, new wD);
        this.group.add(h.group);
        var f = R4(o, r, i)
          , c = f.from
          , v = f.to
          , d = f.line;
        ao(i).from = c,
        ao(i).to = v,
        i.setData(d);
        var m = i.get("symbol")
          , p = i.get("symbolSize")
          , g = i.get("symbolRotate")
          , y = i.get("symbolOffset");
        Y(m) || (m = [m, m]),
        Y(p) || (p = [p, p]),
        Y(g) || (g = [g, g]),
        Y(y) || (y = [y, y]),
        f.from.each(function(w) {
            _(c, w, !0),
            _(v, w, !1)
        }),
        d.each(function(w) {
            var b = d.getItemModel(w).getModel("lineStyle").getLineStyle();
            d.setItemLayout(w, [c.getItemLayout(w), v.getItemLayout(w)]),
            b.stroke == null && (b.stroke = c.getItemVisual(w, "style").fill),
            d.setItemVisual(w, {
                fromSymbolKeepAspect: c.getItemVisual(w, "symbolKeepAspect"),
                fromSymbolOffset: c.getItemVisual(w, "symbolOffset"),
                fromSymbolRotate: c.getItemVisual(w, "symbolRotate"),
                fromSymbolSize: c.getItemVisual(w, "symbolSize"),
                fromSymbol: c.getItemVisual(w, "symbol"),
                toSymbolKeepAspect: v.getItemVisual(w, "symbolKeepAspect"),
                toSymbolOffset: v.getItemVisual(w, "symbolOffset"),
                toSymbolRotate: v.getItemVisual(w, "symbolRotate"),
                toSymbolSize: v.getItemVisual(w, "symbolSize"),
                toSymbol: v.getItemVisual(w, "symbol"),
                style: b
            })
        }),
        h.updateData(d),
        f.line.eachItemGraphicEl(function(w) {
            de(w).dataModel = i,
            w.traverse(function(b) {
                de(b).dataModel = i
            })
        });
        function _(w, b, S) {
            var C = w.getItemModel(b);
            $l(w, b, S, r, a);
            var T = C.getModel("itemStyle").getItemStyle();
            T.fill == null && (T.fill = qm(l, "color")),
            w.setItemVisual(b, {
                symbolKeepAspect: C.get("symbolKeepAspect"),
                symbolOffset: oe(C.get("symbolOffset", !0), y[S ? 0 : 1]),
                symbolRotate: oe(C.get("symbolRotate", !0), g[S ? 0 : 1]),
                symbolSize: oe(C.get("symbolSize"), p[S ? 0 : 1]),
                symbol: oe(C.get("symbol", !0), m[S ? 0 : 1]),
                style: T
            })
        }
        this.markKeep(h),
        h.group.silent = i.get("silent") || r.get("silent")
    }
    ,
    e.type = "markLine",
    e
}(A4);
function R4(t, e, r) {
    var i;
    t ? i = ee(t && t.dimensions, function(u) {
        var h = e.getData().getDimensionInfo(e.getData().mapDimension(u)) || {};
        return G(G({}, h), {
            name: u,
            ordinalMeta: null
        })
    }) : i = [{
        name: "value",
        type: "float"
    }];
    var n = new bo(i,r)
      , a = new bo(i,r)
      , o = new bo([],r)
      , s = ee(r.get("data"), Ee(L4, e, t, r));
    t && (s = Ue(s, Ee(P4, t)));
    var l = M4(!!t, i);
    return n.initData(ee(s, function(u) {
        return u[0]
    }), null, l),
    a.initData(ee(s, function(u) {
        return u[1]
    }), null, l),
    o.initData(ee(s, function(u) {
        return u[2]
    })),
    o.hasItemOption = !0,
    {
        from: n,
        to: a,
        line: o
    }
}
var O4 = E4;
function B4(t) {
    t.registerComponentModel(k4),
    t.registerComponentView(O4),
    t.registerPreprocessor(function(e) {
        b4(e.series, "markLine") && (e.markLine = e.markLine || {})
    })
}
oa([Q3, IM, y4, ZD, S4, B4]);
const N4 = {
    name: "ScoreGraph",
    components: {
        VChart: $3
    },
    props: {
        moveList: {
            type: Array,
            required: !0
        },
        currentMoveId: {
            type: [String, Number],
            required: !0
        },
        perspective: {
            type: String,
            default: "w",
            validator: t=>["w", "b"].includes(t)
        },
        debug: {
            type: Boolean,
            default: !1
        }
    },
    emits: ["moveSelected"],
    data() {
        return {
            chartOption: {},
            echartsInstance: null
        }
    },
    watch: {
        moveList: {
            handler: "updateChartThrottled",
            deep: !0
        },
        currentMoveId: "updateChart",
        perspective: "updateChart",
        debug: "updateChart"
    },
    mounted() {
        this.updateChart(),
        this.echartsInstance = this.$refs.echarts
    },
    beforeUnmount() {
        this.updateChartThrottled.cancel && this.updateChartThrottled.cancel()
    },
    methods: {
        adjustScore(t) {
            let e = t.scoreInfo ? t.scoreInfo.score : null;
            if (e)
                e.mate !== void 0 ? e = e.mate > 0 ? 3e4 - e.mate : -3e4 - e.mate : e.cp !== void 0 && (e = e.cp),
                e = Math.max(-2e3, Math.min(2e3, e));
            else if (this.debug)
                e = Math.floor(Math.random() * 2001) - 1e3;
            else
                return null;
            return e = t.side === this.perspective ? -e : e,
            e
        },
        getProcessedData() {
            let t = 0;
            return this.moveList.map(e=>{
                const r = this.adjustScore(e);
                return r !== null ? (t = r,
                {
                    moveId: e.moveId,
                    index: e.index,
                    score: r,
                    rawScore: e.scoreInfo,
                    side: e.side,
                    analyzed: !0
                }) : {
                    moveId: e.moveId,
                    index: e.index,
                    score: t,
                    rawScore: null,
                    side: e.side,
                    analyzed: !1
                }
            }
            ).filter(e=>e !== null)
        },
        getScoreExtent(t) {
            if (t.length === 0)
                return [-400, 400];
            const e = t.map(a=>a.score);
            let r = Math.max(...e)
              , i = Math.min(...e);
            return r = Math.min(r + 50, 2e3),
            i = Math.max(i - 50, -2e3),
            r = Math.ceil(r / 100) * 100,
            i = Math.floor(i / 100) * 100,
            r === i && (r = Math.min(r + 200, 2e3),
            i = Math.max(i - 200, -2e3)),
            Math.max(Math.abs(r), Math.abs(i)) < 200 && (r = 200,
            i = -200),
            [i, r]
        },
        getLineData(t) {
            return t.map(e=>({
                value: e.score,
                rawScore: e.rawScore,
                side: e.side,
                moveId: e.moveId,
                index: e.index,
                analyzed: e.analyzed
            }))
        },
        getMoveLabels(t) {
            return t.map(e=>`${e.index}`)
        },
        getCurrentIndex(t) {
            return t.findIndex(e=>e.moveId === this.currentMoveId)
        },
        getScoreString(t, e) {
            const {score: r} = t;
            let i = r.mate !== void 0 ? r.mate : r.cp || 0;
            e === this.perspective && (i = -i);
            const n = this.perspective === "w" ? "\u7EA2" : "\u9ED1";
            let a = "";
            return r.mate !== void 0 ? a = i > 0 ? `${n}\u7EDD\u6740 ${i} \u6B65` : `${n}\u88AB\u7EDD\u6740 ${-i} \u6B65` : r.cp !== void 0 && (a = `${n}\u5206: ${i}`),
            a
        },
        updateChartThrottled: up(function() {
            this.updateChart()
        }, 300),
        updateChart() {
            const t = this.getProcessedData()
              , e = this.getScoreExtent(t)
              , r = this.getLineData(t)
              , i = this.getMoveLabels(t)
              , n = this.getCurrentIndex(t);
            this.chartOption = {
                tooltip: {
                    trigger: "axis",
                    formatter: a=>{
                        const {dataIndex: o} = a[0]
                          , s = this.moveList.find(c=>c.moveId === t[o].moveId);
                        if (!s)
                            return "";
                        const {chn_move_name: l, scoreInfo: u, side: h} = s;
                        if (!u)
                            return l;
                        const f = this.getScoreString(u, h);
                        return `${l}<br/>${f}`
                    }
                },
                grid: {
                    left: "40px",
                    right: "25px",
                    bottom: "10px",
                    top: "30px"
                },
                xAxis: {
                    type: "category",
                    data: i,
                    axisLabel: {
                        formatter: function(a, o) {
                            return o % 2 === 0 ? Math.ceil((o + 1) / 2) : ""
                        }
                    },
                    axisTick: {
                        show: !1
                    },
                    axisLine: {
                        show: !0,
                        lineStyle: {
                            color: "#ccc"
                        }
                    }
                },
                yAxis: {
                    type: "value",
                    min: e[0],
                    max: e[1],
                    splitLine: {
                        lineStyle: {
                            type: "dashed"
                        }
                    },
                    axisLabel: {
                        formatter: "{value}"
                    }
                },
                series: [{
                    name: "\u8BC4\u5206",
                    type: "line",
                    data: r,
                    smooth: !1,
                    showSymbol: !0,
                    lineStyle: {
                        color: "#505050"
                    },
                    markLine: {
                        symbol: "none",
                        data: n !== -1 ? [{
                            xAxis: i[n],
                            label: {
                                formatter: a=>r[n].analyzed ? this.getScoreString(r[n].rawScore, r[n].side) : "\u5C1A\u672A\u5206\u6790",
                                distance: [0, 10],
                                position: "end",
                                color: "#383838"
                            }
                        }] : [],
                        lineStyle: {
                            color: "#4b98ff",
                            width: 1.5,
                            type: "dashed"
                        },
                        silent: !0,
                        animation: !1
                    },
                    symbol: "circle",
                    symbolSize: (a,o)=>r.length > 20 ? o.dataIndex === n ? 6 : 0 : 6,
                    itemStyle: {
                        opacity: .7,
                        color: a=>a.data.side === "w" ? "#ff0000" : "#000000"
                    }
                }]
            },
            this.echartsInstance && this.echartsInstance.setOption(this.chartOption, !0)
        },
        onChartClick(t) {
            if (this.echartsInstance == null)
                return;
            let e = [t.offsetX, t.offsetY];
            if (this.echartsInstance.containPixel("grid", e)) {
                let r = this.echartsInstance.convertFromPixel({
                    seriesIndex: 0
                }, e)[0]
                  , i = this.moveList[r].moveId;
                this.$emit("moveSelected", i)
            }
        }
    }
}
  , F4 = {
    class: "score-graph-container"
};
function z4(t, e, r, i, n, a) {
    const o = se("v-chart");
    return H(),
    U("div", F4, [L(o, {
        option: n.chartOption,
        style: {
            width: "100%",
            height: "100%"
        },
        "onZr:click": a.onChartClick,
        ref: "echarts",
        autoresize: ""
    }, null, 8, ["option", "onZr:click"])])
}
var V4 = qu(N4, [["render", z4], ["__scopeId", "data-v-438dc686"]]);
async function H4(t, e=1920, r=1080, i=.8) {
    return new Promise(n=>{
        const a = new Image
          , o = URL.createObjectURL(t);
        a.src = o,
        a.onload = ()=>{
            const s = document.createElement("canvas")
              , l = s.getContext("2d");
            let {width: u, height: h} = a;
            if (u > e || h > r) {
                const f = u / h;
                u > h ? (u = e,
                h = Math.round(e / f)) : (h = r,
                u = Math.round(r * f))
            }
            s.width = u,
            s.height = h,
            l.drawImage(a, 0, 0, u, h),
            s.toBlob(f=>{
                if (URL.revokeObjectURL(o),
                !f) {
                    n(t);
                    return
                }
                n(new File([f],t.name.replace(/\.[^/.]+$/, ".jpg"),{
                    type: "image/jpeg"
                }))
            }
            , "image/jpeg", i)
        }
        ,
        a.onerror = ()=>{
            URL.revokeObjectURL(o),
            n(t)
        }
    }
    )
}
(function() {
    if (typeof window == "undefined")
        return;
    var t, e = "ontouchstart"in window;
    document.createTouch || (document.createTouch = function(h, f, c, v, d, m, p) {
        return new r(f,c,{
            pageX: v,
            pageY: d,
            screenX: m,
            screenY: p,
            clientX: v - window.pageXOffset,
            clientY: d - window.pageYOffset
        },0,0)
    }
    ),
    document.createTouchList || (document.createTouchList = function() {
        for (var h = i(), f = 0; f < arguments.length; f++)
            h[f] = arguments[f];
        return h.length = arguments.length,
        h
    }
    ),
    Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector),
    Element.prototype.closest || (Element.prototype.closest = function(h) {
        var f = this;
        do {
            if (f.matches(h))
                return f;
            f = f.parentElement || f.parentNode
        } while (f !== null && f.nodeType === 1);
        return null
    }
    );
    var r = function(f, c, v, d, m) {
        d = d || 0,
        m = m || 0,
        this.identifier = c,
        this.target = f,
        this.clientX = v.clientX + d,
        this.clientY = v.clientY + m,
        this.screenX = v.screenX + d,
        this.screenY = v.screenY + m,
        this.pageX = v.pageX + d,
        this.pageY = v.pageY + m
    };
    function i() {
        var h = [];
        return h.item = function(f) {
            return this[f] || null
        }
        ,
        h.identifiedTouch = function(f) {
            return this[f + 1] || null
        }
        ,
        h
    }
    var n = !1;
    function a(h) {
        return function(f) {
            f.type === "mousedown" && (n = !0),
            f.type === "mouseup" && (n = !1),
            !(f.type === "mousemove" && !n) && ((f.type === "mousedown" || !t || t && !t.dispatchEvent) && (t = f.target),
            t.closest("[data-no-touch-simulate]") == null && o(h, f),
            f.type === "mouseup" && (t = null))
        }
    }
    function o(h, f) {
        var c = document.createEvent("Event");
        c.initEvent(h, !0, !0),
        c.altKey = f.altKey,
        c.ctrlKey = f.ctrlKey,
        c.metaKey = f.metaKey,
        c.shiftKey = f.shiftKey,
        c.touches = l(f),
        c.targetTouches = l(f),
        c.changedTouches = s(f),
        t.dispatchEvent(c)
    }
    function s(h) {
        var f = i();
        return f.push(new r(t,1,h,0,0)),
        f
    }
    function l(h) {
        return h.type === "mouseup" ? i() : s(h)
    }
    function u() {
        window.addEventListener("mousedown", a("touchstart"), !0),
        window.addEventListener("mousemove", a("touchmove"), !0),
        window.addEventListener("mouseup", a("touchend"), !0)
    }
    u.multiTouchOffset = 75,
    e || new u
}
)();
const G4 = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , W4 = R("path", {
    d: "m384 512 347.733-309.333C748.8 187.733 750.933 160 736 142.933c-14.933-17.066-42.667-19.2-59.733-4.266L292.267 480c-10.667 8.533-14.934 19.2-14.934 32s4.267 23.467 14.934 32l384 341.333C684.8 891.733 695.467 896 704 896c12.8 0 23.467-4.267 32-14.933 14.933-17.067 14.933-44.8-4.267-59.734z"
}, null, -1)
  , U4 = [W4];
function $4(t, e) {
    return H(),
    U("svg", G4, U4)
}
var Y4 = {
    render: $4
};
const X4 = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , q4 = R("path", {
    d: "m731.733 480-384-341.333c-17.066-14.934-44.8-14.934-59.733 4.266-14.933 17.067-14.933 44.8 4.267 59.734L640 512 292.267 821.333C275.2 836.267 273.067 864 288 881.067 296.533 889.6 307.2 896 320 896c10.667 0 19.2-4.267 27.733-10.667l384-341.333c8.534-8.533 14.934-19.2 14.934-32s-4.267-23.467-14.934-32"
}, null, -1)
  , Z4 = [q4];
function K4(t, e) {
    return H(),
    U("svg", X4, Z4)
}
var j4 = {
    render: K4
};
const Q4 = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , J4 = R("path", {
    fill: "#515151",
    d: "M842.667 864c-8.534 0-14.934-2.133-21.334-8.533L480 546.133c-6.4-6.4-10.667-14.933-10.667-23.466S473.6 505.6 480 499.2l341.333-309.333c12.8-12.8 34.134-10.667 44.8 2.133 12.8 12.8 10.667 34.133-2.133 44.8L548.267 522.667 864 808.533c12.8 10.667 14.933 32 2.133 44.8-6.4 6.4-14.933 10.667-23.466 10.667"
}, null, -1)
  , eA = R("path", {
    fill: "#515151",
    d: "M512 864c-8.533 0-14.933-2.133-21.333-8.533L149.333 546.133c-6.4-6.4-10.666-14.933-10.666-23.466s4.266-17.067 10.666-23.467l341.334-309.333c12.8-12.8 34.133-10.667 44.8 2.133 12.8 12.8 10.666 34.133-2.134 44.8L217.6 522.667l315.733 285.866c12.8 12.8 14.934 32 2.134 44.8-6.4 6.4-14.934 10.667-23.467 10.667"
}, null, -1)
  , tA = [J4, eA];
function rA(t, e) {
    return H(),
    U("svg", Q4, tA)
}
var iA = {
    render: rA
};
const nA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , aA = R("path", {
    fill: "#515151",
    d: "M544 522.667c0-8.534-4.267-17.067-10.667-23.467L192 189.867c-12.8-12.8-34.133-10.667-44.8 2.133-12.8 12.8-10.667 34.133 2.133 44.8l315.734 285.867-315.734 285.866c-12.8 12.8-14.933 32-2.133 44.8 6.4 6.4 14.933 10.667 23.467 10.667s14.933-2.133 21.333-8.533l341.333-309.334c6.4-6.4 10.667-14.933 10.667-23.466"
}, null, -1)
  , oA = R("path", {
    fill: "#515151",
    d: "M864 499.2 522.667 189.867c-12.8-12.8-34.134-10.667-44.8 2.133-12.8 12.8-10.667 34.133 2.133 44.8l315.733 285.867L480 808.533c-12.8 12.8-14.933 32-2.133 44.8 6.4 6.4 14.933 10.667 23.466 10.667s14.934-2.133 21.334-8.533L864 546.133c6.4-6.4 10.667-14.933 10.667-23.466S870.4 505.6 864 499.2"
}, null, -1)
  , sA = [aA, oA];
function lA(t, e) {
    return H(),
    U("svg", nA, sA)
}
var uA = {
    render: lA
};
const hA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , fA = R("path", {
    fill: "#515151",
    d: "M618 958.5H202c-44.8 0-81.3-34.1-81.3-76v-740c0-41.9 36.5-76 81.3-76h610.5c44.8 0 81.3 34.1 81.3 76v521.9c0 12.8-10.4 23.1-23.1 23.1s-23.1-10.4-23.1-23.1V142.5c0-16.4-15.7-29.7-35-29.7H202c-19.3 0-35 13.3-35 29.7v740c0 16.4 15.7 29.7 35 29.7h416c12.8 0 23.1 10.4 23.1 23.1.1 12.8-10.3 23.2-23.1 23.2"
}, null, -1)
  , cA = R("path", {
    fill: "#515151",
    d: "M738.4 360.5H276c-12.8 0-23.1-10.4-23.1-23.1 0-12.8 10.4-23.1 23.1-23.1h462.5c12.8 0 23.1 10.4 23.1 23.1 0 12.8-10.4 23.1-23.2 23.1M584.3 595.1H276c-12.8 0-23.1-10.4-23.1-23.1 0-12.8 10.4-23.1 23.1-23.1h308.3c12.8 0 23.1 10.4 23.1 23.1s-10.3 23.1-23.1 23.1m294.5 231.2H614.6c-12.8 0-23.1-10.4-23.1-23.1 0-12.8 10.4-23.1 23.1-23.1h264.3c12.8 0 23.1 10.4 23.1 23.1 0 12.8-10.4 23.1-23.2 23.1"
}, null, -1)
  , vA = R("path", {
    fill: "#515151",
    d: "M746.7 958.5c-12.8 0-23.1-10.4-23.1-23.1V671.1c0-12.8 10.4-23.1 23.1-23.1 12.8 0 23.1 10.4 23.1 23.1v264.3c0 12.7-10.3 23.1-23.1 23.1"
}, null, -1)
  , dA = [fA, cA, vA];
function pA(t, e) {
    return H(),
    U("svg", hA, dA)
}
var gA = {
    render: pA
};
const mA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , yA = R("path", {
    fill: "#ba3423",
    d: "M881.92 812.8H138.24c-71.68 0-129.28-57.6-129.28-129.28v-512c0-71.68 57.6-129.28 129.28-129.28h743.68c71.68 0 129.28 58.88 129.28 129.28v510.72c0 71.68-57.6 130.56-129.28 130.56M138.24 107.52c-35.84 0-65.28 29.44-65.28 65.28v510.72c0 35.84 29.44 65.28 65.28 65.28h743.68c35.84 0 65.28-29.44 65.28-65.28v-512c0-35.84-29.44-65.28-65.28-65.28H138.24zm709.12 892.16H179.2c-28.16 0-44.8-29.44-32-53.76l32-62.72c6.4-11.52 19.2-19.2 32-19.2h602.88c14.08 0 25.6 7.68 32 19.2l33.28 62.72c12.8 24.32-5.12 53.76-32 53.76"
}, null, -1)
  , _A = R("path", {
    fill: "#ba3423",
    d: "M409.6 785.92h200.96V940.8H409.6z"
}, null, -1)
  , wA = [yA, _A];
function SA(t, e) {
    return H(),
    U("svg", mA, wA)
}
var bA = {
    render: SA
};
const CA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , xA = R("path", {
    fill: "#515151",
    d: "M881.92 812.8H138.24c-71.68 0-129.28-57.6-129.28-129.28v-512c0-71.68 57.6-129.28 129.28-129.28h743.68c71.68 0 129.28 58.88 129.28 129.28v510.72c0 71.68-57.6 130.56-129.28 130.56M138.24 107.52c-35.84 0-65.28 29.44-65.28 65.28v510.72c0 35.84 29.44 65.28 65.28 65.28h743.68c35.84 0 65.28-29.44 65.28-65.28v-512c0-35.84-29.44-65.28-65.28-65.28H138.24zm709.12 892.16H179.2c-28.16 0-44.8-29.44-32-53.76l32-62.72c6.4-11.52 19.2-19.2 32-19.2h602.88c14.08 0 25.6 7.68 32 19.2l33.28 62.72c12.8 24.32-5.12 53.76-32 53.76"
}, null, -1)
  , TA = R("path", {
    fill: "#515151",
    d: "M409.6 785.92h200.96V940.8H409.6z"
}, null, -1)
  , MA = [xA, TA];
function DA(t, e) {
    return H(),
    U("svg", CA, MA)
}
var AA = {
    render: DA
};
const IA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , kA = R("path", {
    fill: "#515151",
    d: "M870.088 151.617C813.123 94.637 737.353 63.27 656.787 63.27c-80.567 0-156.309 31.367-213.274 88.346-56.992 56.965-88.36 132.72-88.36 213.3 0 57.133 15.79 111.836 45.29 159.144-2.986 1.862-52.264 50.482-52.264 50.482-18.128-6.928-40.085-3.339-54.18 10.775L77.76 801.573c-9.513 9.471-14.727 22.076-14.727 35.5 0 13.41 5.214 26.014 14.7 35.47L149.174 944c9.458 9.47 22.076 14.685 35.471 14.685 13.368 0 25.987-5.213 35.472-14.699l216.268-216.268c9.485-9.485 14.699-22.076 14.699-35.484a50.1 50.1 0 0 0-3.693-18.938s48.439-49.012 50.359-51.97c47.282 29.457 101.943 45.225 159.037 45.225 80.566 0 156.335-31.366 213.3-88.346 56.993-56.964 88.36-132.72 88.36-213.286 0-80.58-31.368-156.336-88.36-213.302M427.566 575.474l18.665 18.65-36.221 36.25-18.665-18.665zm-242.92 323.68-62.067-62.082 206.894-206.907 62.068 62.067zM829.93 538.048c-46.26 46.245-107.746 71.705-173.142 71.705s-126.882-25.46-173.115-71.705c-46.26-46.246-71.72-107.733-71.72-173.13 0-65.409 25.46-126.895 71.72-173.141 46.233-46.246 107.718-71.706 173.115-71.706s126.882 25.46 173.142 71.706 71.72 107.732 71.72 173.142c0 65.396-25.46 126.883-71.72 173.129"
}, null, -1)
  , LA = [kA];
function PA(t, e) {
    return H(),
    U("svg", IA, LA)
}
var EA = {
    render: PA
};
const RA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "128",
    height: "128",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , OA = R("path", {
    fill: "#515151",
    d: "M753.152 479.437H613.376c-12.595 0-22.22-11.367-20.173-23.757l49.767-304.845c3.276-19.968-21.402-32.051-35.226-17.305L255.898 510.054c-12.186 13.108-2.97 34.51 14.95 34.51h139.776c12.595 0 22.22 11.366 20.173 23.756L381.03 873.165c-3.276 19.968 21.402 32.051 35.226 17.305l351.846-376.524c12.288-13.108 2.97-34.51-14.95-34.51"
}, null, -1)
  , BA = [OA];
function NA(t, e) {
    return H(),
    U("svg", RA, BA)
}
var FA = {
    render: NA
};
const zA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "128",
    height: "128",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , VA = R("path", {
    d: "M512 208.581c-35.309 0-69.075 5.77-101.383 17.304a297.5 297.5 0 0 0-87.947 49.033l426.392 426.466c21.23-26.37 37.593-55.623 49.098-87.97 11.529-32.24 17.283-66.135 17.254-101.365 0-41.098-8.01-80.45-24.092-117.841-16.067-37.5-37.607-69.738-64.635-96.83-27.038-26.994-59.317-48.623-96.781-64.592-37.504-16.067-76.778-24.1-117.857-24.1zm189.37 540.501L274.981 322.616c-21.095 26.573-37.4 55.935-48.993 88.277-11.619 32.348-17.403 66.03-17.403 101.156 0 41 8.024 80.353 24.101 117.847 16.058 37.395 37.598 69.738 64.636 96.726 27.038 27.093 59.307 48.623 96.8 64.69 37.485 16.068 76.75 24.107 117.837 24.107 35.3 0 69.07-5.77 101.374-17.304 32.293-11.435 61.625-27.814 87.941-49.142l.1.11zM512 141.212c50.398 0 98.481 9.788 144.202 29.356 45.716 19.469 85.123 45.84 118.237 79.013 33.104 33.064 59.435 72.516 79.003 118.256 19.592 45.731 29.347 93.736 29.347 144.114 0 50.476-9.755 98.476-29.347 144.212-19.568 45.74-45.899 85.192-79.003 118.256-33.114 33.174-72.526 59.44-118.237 79.013C610.482 873 562.398 882.789 512 882.789s-98.462-9.79-144.172-29.357c-45.746-19.578-85.143-45.84-118.267-79.013-33.084-33.064-59.415-72.516-78.993-118.256-19.578-45.731-29.357-93.736-29.357-144.212 0-50.378 9.774-98.383 29.357-144.114 19.578-45.74 45.909-85.192 78.993-118.256 33.124-33.174 72.526-59.544 118.267-79.013C413.538 151 461.602 141.211 512 141.211"
}, null, -1)
  , HA = [VA];
function GA(t, e) {
    return H(),
    U("svg", zA, HA)
}
var WA = {
    render: GA
};
const UA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , $A = R("path", {
    fill: "#515151",
    d: "M213.333 554.667H128v-85.334h85.333zm632.662-384a42.67 42.67 0 0 1-18.219 34.986L536.448 409.557a42.67 42.67 0 0 1-48.896 0L196.224 205.611A42.667 42.667 0 0 1 220.672 128h582.656a42.667 42.667 0 0 1 42.667 42.667m0 682.666a42.667 42.667 0 0 1-37.718 42.368l-4.949.299H220.672a42.667 42.667 0 0 1-28.63-74.24l4.182-3.413 291.328-203.904a42.67 42.67 0 0 1 43.861-3.03l5.035 3.03 291.328 203.946a42.67 42.67 0 0 1 18.219 34.944M384 554.667h-85.333v-85.334H384zm320.896-358.4H307.2L512 335.957l192.896-139.605zm-150.23 358.4h-85.333v-85.334h85.334zm170.667 0H640v-85.334h85.333zm170.667 0h-85.333v-85.334H896z"
}, null, -1)
  , YA = [$A];
function XA(t, e) {
    return H(),
    U("svg", UA, YA)
}
var qA = {
    render: XA
};
const ZA = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , KA = R("path", {
    fill: "#515151",
    d: "M631.156 221.154h-95.679v-47.84c0-26.314-21.535-47.84-47.84-47.84H391.96c-26.303 0-47.84 21.526-47.84 47.84v47.84h-95.68v108.982h382.716zm-143.517 0h-95.68v-47.747l.095-.093h95.515c.024.024.07.047.094.093zm239.196 185.73v-161.81c0-13.152-10.766-23.92-23.92-23.92h-47.839v47.84h23.92v137.89h-273.99V778.6H200.6V268.993h23.92v-47.84h-47.84c-13.151 0-23.92 10.77-23.92 23.92V802.52c0 13.151 10.769 23.92 23.92 23.92h228.325v64.468h326.179L870.355 758.9V406.884zm5.117 416.376v-62.568h70.754zm90.563-110.408H684.112v130.216H452.845V454.724h369.67z"
}, null, -1)
  , jA = R("path", {
    fill: "#515151",
    d: "M515.267 557.31H760.86v48.095H515.267zM515.267 692.386h124.528v48.096H515.267z"
}, null, -1)
  , QA = [KA, jA];
function JA(t, e) {
    return H(),
    U("svg", ZA, QA)
}
var eI = {
    render: JA
};
const tI = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , rI = R("path", {
    fill: "#515151",
    d: "M779.636 954.182H244.364A174.78 174.78 0 0 1 69.818 779.636V244.364A174.78 174.78 0 0 1 244.364 69.818H512a34.91 34.91 0 0 1 0 69.818H244.364a104.96 104.96 0 0 0-104.728 104.728v535.272a104.96 104.96 0 0 0 104.728 104.728h535.272a104.96 104.96 0 0 0 104.728-104.728V512a34.91 34.91 0 0 1 69.818 0v267.636a174.78 174.78 0 0 1-174.546 174.546"
}, null, -1)
  , iI = R("path", {
    fill: "#515151",
    d: "M500.364 558.545a35.14 35.14 0 0 1-24.67-10.24 34.676 34.676 0 0 1 0-49.338l418.91-418.909a34.91 34.91 0 0 1 49.338 49.338l-418.91 418.91a35.14 35.14 0 0 1-24.668 10.24"
}, null, -1)
  , nI = R("path", {
    fill: "#515151",
    d: "M919.273 139.636H733.09a34.91 34.91 0 0 1 0-69.818h186.182a34.91 34.91 0 0 1 0 69.818"
}, null, -1)
  , aI = R("path", {
    fill: "#515151",
    d: "M919.273 325.818a34.91 34.91 0 0 1-34.91-34.909V104.727a34.91 34.91 0 0 1 69.819 0V290.91a34.91 34.91 0 0 1-34.91 34.91"
}, null, -1)
  , oI = [rI, iI, nI, aI];
function sI(t, e) {
    return H(),
    U("svg", tI, oI)
}
var lI = {
    render: sI
};
const uI = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , hI = R("path", {
    fill: "#515151",
    d: "M358.166 554.625c-.533.68-1.066 1.391-1.304 2.251l-41.104 150.7c-2.4 8.773.06 18.226 6.55 24.893 4.86 4.742 11.262 7.35 18.078 7.35 2.252 0 4.505-.266 6.727-.86l149.631-40.808c.238 0 .357.207.534.207 1.718 0 3.409-.622 4.684-1.928l400.114-400.054c11.883-11.898 18.404-28.11 18.404-45.743 0-19.989-8.476-39.963-23.324-54.767l-37.787-37.845c-14.816-14.848-34.822-23.339-54.797-23.339-17.632 0-33.843 6.521-45.758 18.39l-400.056 400.16c-.413.384-.295.948-.592 1.393m504.759-297.427-39.742 39.713-64.429-65.451 39.18-39.18c6.194-6.222 18.195-5.318 25.31 1.823l37.812 37.846c3.944 3.941 6.195 9.186 6.195 14.372-.027 4.254-1.54 8.107-4.326 10.877m-433.603 303.71 288.713-288.729 64.46 65.496-288.18 288.164zM376.718 677.97l20.864-76.58 55.656 55.658z"
}, null, -1)
  , fI = R("path", {
    fill: "#515151",
    d: "M888.265 415.736c-15.145 0-27.563 12.313-27.62 27.665v372.982c0 19.56-15.886 35.445-35.476 35.445H194.221c-19.56 0-35.505-15.884-35.505-35.445v-608.78c0-19.577 15.945-35.476 35.505-35.476h406.367c15.232 0 27.593-12.372 27.593-27.606 0-15.203-12.361-27.59-27.593-27.59H190.013c-47.684 0-86.493 38.778-86.493 86.492v617.17c0 47.713 38.81 86.477 86.493 86.477h639.334c47.716 0 86.51-38.764 86.51-86.478v-377.37c-.063-15.173-12.448-27.486-27.592-27.486"
}, null, -1)
  , cI = [hI, fI];
function vI(t, e) {
    return H(),
    U("svg", uI, cI)
}
var dI = {
    render: vI
};
const pI = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , gI = R("path", {
    fill: "#515151",
    d: "M545.784 962.54h-65.943c-29.342 0-54.625-25.283-54.625-54.617v-39.46c0-9.624-7.826-20.912-16.69-23.68l-1.566-.613-55.725-23.104-.88-.494c-8.154-4.41-22.018-2.376-28.553 4.187l-28.175 28.124c-9.93 9.977-23.239 15.495-37.432 15.495-14.195 0-27.508-5.518-37.488-15.542l-46.682-46.63c-20.604-20.604-20.632-54.234-.07-74.975l28.15-28.106c6.638-6.575 8.677-20.6 4.254-28.91l-.832-1.768-23.164-56.128-.27-.683c-2.803-9.034-14.279-17.394-23.611-17.394H116.85c-29.391 0-52.862-24.065-52.862-53.193v-65.944c0-28.77 23-51.755 52.92-51.755h39.575c9.082 0 20.804-8.83 23.666-18.057l.568-1.477 23.163-57.088.506-.914c4.404-8.22 2.32-22.224-4.29-28.83l-28.041-28.088c-9.965-9.922-15.487-23.217-15.502-37.397-.016-14.201 5.492-27.537 15.507-37.552l46.655-46.615c9.942-9.985 23.249-15.503 37.433-15.503s27.491 5.519 37.47 15.541l28.04 28.05c6.557 6.527 20.5 8.598 28.656 4.232l.893-.479 57.376-23.65c8.836-2.73 16.634-14.037 16.634-23.718v-39.633c0-28.968 24.778-52.096 54.625-52.096h65.942c29.162 0 52.371 22.637 52.371 52.096v39.633c0 9.127 8.71 20.854 17.768 23.674l1.516.577 56.64 23.113.923.51c8.203 4.425 22.185 2.353 28.79-4.255l28.163-27.913c9.895-9.941 23.18-15.34 37.352-15.34h.06c14.189 0 27.51 5.376 37.517 15.385l46.71 46.555c10.005 9.96 15.525 23.254 15.525 37.475 0 14.188-5.499 27.507-15.48 37.533L825.47 321.27c-6.58 6.61-8.64 20.771-4.204 29.108l.479.896 23.654 57.957c2.902 9.256 14.636 18.115 23.687 18.115h39.132v-.573c27.63 0 52.189 22.984 52.189 52.328V545.1c0 29.59-22.986 53.138-51.747 53.138h-39.63c-9.338 0-20.85 8.373-23.687 17.424l-.58 1.516-23.087 56.241-.469.861c-4.42 8.304-2.393 22.32 4.17 28.855l28.136 28.02c10.032 10.03 15.54 23.351 15.538 37.541-.004 14.186-5.515 27.506-15.518 37.506l-46.748 46.682c-9.921 9.965-23.22 15.506-37.407 15.506h-.06c-14.193 0-27.515-5.515-37.519-15.517l-28.04-28.096c-6.49-6.491-20.808-8.576-28.888-4.207l-.951.515-57.938 23.68c-9.088 2.859-17.824 14.594-17.824 23.691v39.461c-.003 29.847-23.698 54.622-52.374 54.622M421.867 806.891c25.193 8.37 44.283 34.65 44.283 61.57v39.461c0 7.114 6.57 13.684 13.692 13.684h65.942c6.497 0 12.462-6.044 12.462-13.684v-39.46c0-26.274 19.517-53.132 44.902-61.58l53.86-22.063c23.628-12.117 56.342-7.1 75.118 11.674l28.01 28.154c2.433 2.43 5.679 3.837 9.18 3.837h.015c3.482 0 6.726-1.399 9.135-3.82l46.78-46.738c2.437-2.437 3.783-5.725 3.786-9.225 0-3.495-1.345-6.774-3.788-9.216l-28.106-28c-18.694-18.609-23.762-51.349-11.773-75.036l22.084-53.604c8.375-25.167 35.224-44.514 61.578-44.514h39.631c7.745 0 10.814-7.086 10.814-13.23v-65.997c0-6.862-5.116-12.074-11.256-12.302v1.48h-39.132c-26.237 0-53.1-20.15-61.586-45.736l-22.084-54.262c-11.96-23.655-6.913-56.503 11.728-75.229l28.169-28.192c2.43-2.441 3.788-5.764 3.788-9.295 0-3.499-1.334-6.762-3.76-9.174l-46.741-46.578c-2.462-2.462-5.737-3.734-9.234-3.734h-.014c-3.466 0-6.7 1.255-9.105 3.671l-28.198 28.038c-18.704 18.71-51.417 23.735-75 11.69L603.18 217.41c-25.404-8.388-44.935-35.256-44.935-61.605v-39.633c0-7.253-5.517-12.187-12.462-12.187h-65.943c-7.518 0-13.692 5.519-13.692 12.187v39.633c0 27.027-19.107 53.336-44.326 61.643l-53.501 21.997c-23.835 12.169-55.857 7.235-74.879-11.696l-28.13-28.115c-2.442-2.452-5.691-3.788-9.153-3.788s-6.705 1.335-9.118 3.76l-46.69 46.645c-2.438 2.439-3.784 5.71-3.781 9.208.004 3.474 1.34 6.717 3.763 9.13l28.068 28.12c18.699 18.691 23.783 51.39 11.809 74.974l-22.125 54.814c-8.414 25.616-35.282 45.783-61.603 45.783h-39.575c-6.63 0-13.01 3.412-13.01 10.823v65.944c0 6.942 5.752 13.284 12.952 13.284h39.632c26.38 0 53.195 19.35 61.524 44.538l22.182 53.629c12.028 23.731 6.919 56.45-11.863 75.056l-28.022 27.95c-5.021 5.066-5.049 13.348.01 18.41l46.714 46.653c2.453 2.464 5.696 3.794 9.169 3.794 3.472 0 6.712-1.336 9.125-3.76l28.182-28.122c18.641-18.73 51.44-23.753 75.011-11.642z"
}, null, -1)
  , mI = R("path", {
    fill: "#515151",
    d: "M513.735 731.88c-120.64 0-218.787-98.146-218.787-218.786s98.147-218.787 218.787-218.787S732.52 392.454 732.52 513.094 634.375 731.88 513.735 731.88m0-397.556c-98.574 0-178.77 80.196-178.77 178.77s80.195 178.77 178.77 178.77 178.769-80.196 178.769-178.77-80.195-178.77-178.77-178.77"
}, null, -1)
  , yI = [gI, mI];
function _I(t, e) {
    return H(),
    U("svg", pI, yI)
}
var wI = {
    render: _I
};
const SI = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , bI = R("path", {
    fill: "#515151",
    d: "M536 880H164a20 20 0 0 1-20-20V164a20 20 0 0 1 20-20h372a40 40 0 0 0 40-40 40 40 0 0 0-40-40H104a40 40 0 0 0-40 40v816a40 40 0 0 0 40 40h432a40 40 0 0 0 40-40 40 40 0 0 0-40-40"
}, null, -1)
  , CI = R("path", {
    fill: "#515151",
    d: "m959.78 508-.06-.48c0-.39-.08-.78-.14-1.16 0-.13 0-.26-.05-.39a2 2 0 0 1 0-.23 39.85 39.85 0 0 0-11.24-22.13l-152-151.92a40 40 0 0 0-56.57 0 40 40 0 0 0 0 56.57L823.5 472H296a40 40 0 0 0-40 40 40 40 0 0 0 40 40h527.35l-84 83.72a40 40 0 0 0 0 56.57 40 40 0 0 0 56.56 0l152.37-151.88a39.91 39.91 0 0 0 11.5-32.41"
}, null, -1)
  , xI = [bI, CI];
function TI(t, e) {
    return H(),
    U("svg", SI, xI)
}
var MI = {
    render: TI
};
const DI = {
    xmlns: "http://www.w3.org/2000/svg",
    width: "200",
    height: "200",
    class: "icon",
    viewBox: "0 0 1024 1024"
}
  , AI = R("path", {
    fill: "#515151",
    d: "m901.3 504.8-76.3-150c-13.4-26.3-40-42.6-69.5-42.6H639c-1.1 0-2-.9-2-2V120.6c0-31.1-25.3-56.3-56.3-56.3h-90c-31.1 0-56.3 25.3-56.3 56.3v189.6c0 1.1-.9 2-2 2H315.8c-29.5 0-56.1 16.3-69.5 42.6l-76.3 150c-9.2 18.1-8.4 39.3 2.2 56.6 10.3 16.8 27.9 27 47.4 27.6-4.8 101-38.3 205.9-90.2 279.5-12.5 17.8-14.1 40.8-4.1 60.1s29.7 31.3 51.5 31.3h601.5c35 0 66-23.6 75.2-57.4 15.5-56.5 28.4-107.9 29.4-164.9C884 685 874 636 852.9 589c19-1.1 36.1-11.2 46.2-27.6 10.6-17.3 11.4-38.5 2.2-56.6m-681.4 25.4 76.3-150c3.8-7.4 11.3-12 19.6-12h116.4c32 0 58-26 58-58V120.6c0-.1.2-.3.3-.3h90c.1 0 .3.2.3.3v189.6c0 32 26 58 58 58h116.4c8.3 0 15.8 4.6 19.6 12l76.3 150c.2.3.5 1-.1 2s-1.3 1-1.7 1H221.7c-.4 0-1.1 0-1.7-1s-.3-1.7-.1-2M827 736.6c-.9 50.5-12.9 98.3-27.4 151.1-2.6 9.5-11.3 16.2-21.2 16.2H651.8c11.3-22.3 18.5-44 23.1-61.2 7.1-26.7 10.7-53.5 10.6-78-.1-17.1-15.5-30.1-32.4-27.4-13.6 2.2-23.6 14-23.6 27.8.1 42.7-14.1 98.2-42.7 138.8H406.2c15.2-21.7 26.1-43.8 33.6-61.9 10-24.3 17.4-49.7 21.2-72.5 2.8-17-10.4-32.5-27.6-32.5-13.6 0-25.3 9.8-27.6 23.3-2.8 16.6-8.3 37.7-17.7 60.4-10.1 24.6-27.8 58.1-55.6 83.3H176.9c-.5 0-1.2 0-1.8-1.1s-.2-1.6.1-2c29.7-42.1 54.8-94.5 72.5-151.4 16.2-52.1 25.7-106.9 28-160.3h514.6C816 635.6 828 684 827 736.6"
}, null, -1)
  , II = [AI];
function kI(t, e) {
    return H(),
    U("svg", DI, II)
}
var LI = {
    render: kI
}
  , PI = "https://xiangqiai.com/manifest/icons/icon-256.webp";
const gy = "XIANGQIAI_COM_"
  , tp = "pikafish_settings"
  , rp = gy + "MOVE_TREE"
  , Yl = gy + "MOVE_TREE_PTR"
  , hr = Dt.MoveType
  , {toClipboard: EI} = Z1()
  , Tn = async t=>{
    try {
        await EI(t)
    } catch (e) {
        console.error(e)
    }
}
  , RI = {
    name: "MainView",
    components: {
        ChessBoard: Ey,
        ThinkingDetail: o_,
        ScoreGraph: V4,
        IconArrowLeft: Y4,
        IconArrowRight: j4,
        IconArrowDoubleLeft: iA,
        IconArrowDoubleRight: uA,
        IconNewGame: gA,
        IconPlayRed: bA,
        IconPlayBlack: AA,
        IconAnalyze: EA,
        IconFlash: FA,
        IconBan: WA,
        IconFlipBoard: qA,
        IconPaste: eI,
        IconShare: lI,
        IconEdit: dI,
        IconSettings: wI,
        IconExit: MI,
        IconClear: LI
    },
    data() {
        return {
            game: null,
            chessBoard: null,
            resourceReady: !1,
            showBoard: !0,
            showEdit: !1,
            flipBoard: !1,
            flipHorizontal: !1,
            downloadProgress: 0,
            slowLoading: !1,
            showSettings: !1,
            engineSettings: {
                Threads: 1,
                Hash: 128,
                MultiPV: 1,
                "Skill Level": 20,
                "Repetition Rule": "AsianRule",
                "Sixty Move Rule": !1,
                UCI_ShowWDL: !0,
                "Mate Threat Depth": 6
            },
            thinkingSettings: {
                movetime: 1,
                depth: 60,
                enable_hint: !0,
                chessdb: {
                    query: !1,
                    auto_move: !1,
                    disable_ply: 10,
                    always_use_egtb: !1
                }
            },
            uiSettings: {
                language: null,
                showBoardLabel: !0,
                playSound: !0,
                animationTime: .2,
                pureMode: !1,
                pieceScaleRate: 100,
                showMoveVariantsArrow: !0,
                boardSkin: {
                    name: "default",
                    text: this.$t("settings.skinEnums.defaultBoardSkin"),
                    author: "Vincentzyx",
                    ext: "webp",
                    params: {
                        gridWidth: 53.7,
                        gridHeight: 53.7,
                        offsetX: 33,
                        offsetY: 33,
                        pieceScale: 1
                    }
                },
                pieceSkin: {
                    name: "default",
                    text: this.$t("settings.skinEnums.defaultPieceSkin"),
                    author: "Vincentzyx",
                    ext: "webp",
                    params: {
                        pieceWidth: 50
                    }
                }
            },
            languageList: {
                "zh-CN": {
                    name: "\u7B80\u4F53\u4E2D\u6587"
                },
                "zh-TW": {
                    name: "\u7E41\u9AD4\u4E2D\u6587"
                },
                "vi-VN": {
                    name: "Ti\u1EBFng Vi\u1EC7t"
                },
                "en-US": {
                    name: "English"
                }
            },
            isSaving: !1,
            pieceSkinList: [{
                text: "\u9ED8\u8BA4\u68CB\u5B50",
                value: "default",
                description: "\u9ED8\u8BA4\u68CB\u5B50",
                author: "Vincentzyx",
                ext: "webp"
            }],
            boardSkinList: [{
                text: "\u9ED8\u8BA4\u68CB\u76D8",
                value: "default",
                description: "\u9ED8\u8BA4\u68CB\u76D8",
                author: "Vincentzyx",
                ext: "webp"
            }],
            showLanguagePicker: !1,
            currentLanguageIndex: [],
            currentPieceSkinIndex: [],
            showPieceSkinPicker: !1,
            currentBoardSkinIndex: [],
            showBoardSkinPicker: !1,
            showMoveVariantPicker: !1,
            moveVariantColumns: [],
            currentMoveVariantIndex: [],
            showEngineRulePicker: !1,
            currentEngineRuleIndex: [],
            engineRuleList: [{
                text: this.$t("settings.engineRuleEnums.asianRule"),
                value: "AsianRule"
            }, {
                text: this.$t("settings.engineRuleEnums.skyRule"),
                value: "SkyRule"
            }, {
                text: this.$t("settings.engineRuleEnums.chineseRule"),
                value: "ChineseRule"
            }, {
                text: this.$t("settings.engineRuleEnums.allowChase"),
                value: "AllowChase"
            }],
            engine: null,
            uciOutput: "",
            uciInput: "",
            isEngineReady: !1,
            enginePlayRed: !1,
            enginePlayBlack: !1,
            engineAnalyze: !1,
            goInstant: !1,
            bestmoveHint: {},
            ponderHint: {},
            banMoves: [],
            isEndOfAnalysis: !1,
            lastMove: null,
            moveVariants: [],
            thinkingSide: "w",
            multiPvInfoBuffer: {},
            moveComment: "",
            thinkingDetail: [],
            movePairList: [],
            currentMoveId: "",
            selectedBoxPos: null,
            selectedPieceInBox: null,
            showImportFenDialog: !1,
            importFen: "",
            importManualText: "",
            showImportManualDialog: !1,
            showAnalyzeDialog: !1,
            showSharePopover: !1,
            sharePopoverOptions: [{
                text: "\u590D\u5236\u5C40\u9762",
                value: "copyFen"
            }, {
                text: "\u590D\u5236\u5C40\u9762\u94FE\u63A5",
                value: "copyFenUrl"
            }, {
                text: "\u590D\u5236\u6587\u5B57\u68CB\u8C31",
                value: "copyMoveList"
            }, {
                text: "\u590D\u5236\u4E1C\u840D\u68CB\u8C31",
                value: "copyDhtml"
            }, {
                text: "\u590D\u5236\u68CB\u8C31\u94FE\u63A5",
                value: "copyMoveListUrl"
            }, {
                text: "\u4E0B\u8F7DXQF\u68CB\u8C31",
                value: "downloadXQF"
            }, {
                text: "\u751F\u6210\u52A8\u6001\u56FE",
                value: "generateGif"
            }],
            showFlipBoardPopover: !1,
            flipBoardPopoverOptions: [{
                text: "\u65CB\u8F6C\u68CB\u76D8",
                value: "flipBoard"
            }, {
                text: "\u5DE6\u53F3\u5BF9\u79F0",
                value: "flipHorizontal"
            }],
            showDownloadManualDialog: !1,
            showGifGenerateDialog: !1,
            showGifGenerate: !1,
            gifGenerateParameters: {
                interval: 2,
                title: "",
                count: 0
            },
            downloadManualParameters: {
                fileName: ""
            },
            gifUrl: "",
            showConfirmNewGameDialog: !1,
            showConfirmEditDialog: !1,
            chessdbResult: {},
            chessDbRecords: {},
            chessDbFenQueryTime: {},
            debug: !1,
            engineChessdbActive: 0,
            windowWidth: window.innerWidth,
            windowHeight: window.innerHeight,
            isAnalyzingManual: !1,
            fenAnalyzingResultTemp: null,
            fenAnalyzingResult: null,
            currentScore: {}
        }
    },
    watch: {
        currentMoveId(t, e) {
            this.scrollToCurrentMove()
        }
    },
    created() {
        this.loadSettings(),
        this.setLanguage(),
        this.loadBoardSkinList(),
        this.loadPieceSkinList();
        let t = "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w"
          , e = "fen"in this.$router.currentRoute.value.params && this.$router.currentRoute.value.params.fen.length > 0 ? this.$router.currentRoute.value.params.fen.join("/") : ""
          , r = !1;
        if (e.length !== 0 && (Dt.ValidateFen(e) ? (t = e,
        r = !0) : De("FEN\u683C\u5F0F\u9519\u8BEF")),
        this.game = new Ry.Xiangqi,
        this.game.language = this.uiSettings.language,
        this.game.onMoveTreeChange = this.onMoveTreeChange,
        this.game.newGame(t),
        !r) {
            let i = localStorage.getItem(rp)
              , n = localStorage.getItem(Yl);
            i && n && this.game.deserialize(i, n)
        }
        this.moveMap = Dt.getEmptyBoard(),
        this.lastMove = this.game.lastMove,
        this.initEngine(),
        this.queryChessDb()
    },
    mounted() {
        window.addEventListener("resize", this.updateWindowWidth),
        setTimeout(()=>{
            this.slowLoading = !0
        }
        , 1e4),
        this.chessBoard = this.$refs.chessBoard,
        this.chessBoard.setFen(this.game.getFen()),
        window.addEventListener("keydown", this.handleKeydown)
    },
    beforeUnmount() {
        this.onEditMoveComment && this.onEditMoveComment.cancel && this.onEditMoveComment.cancel(),
        window.removeEventListener("resize", this.updateWindowWidth),
        window.removeEventListener("keydown", this.handleKeydown)
    },
    unmounted() {},
    beforeRouteUpdate(t, e, r) {
        if ("fen"in t.params && t.params.fen && t.params.fen.length > 0) {
            let i = t.params.fen.join("/");
            Dt.ValidateFen(i) ? (this.game.newGame(i),
            this.saveGameState(),
            this.onMoveTreeChange(this.game.moveTree),
            this.chessBoard.setFen(this.game.getFen()),
            this.lastMove = this.game.lastMove) : De("FEN\u683C\u5F0F\u9519\u8BEF")
        }
        r()
    },
    computed: {
        concurrency() {
            return this.engine.WasmType.includes("multi") ? Math.min(window.navigator.hardwareConcurrency) : 1
        },
        hashMax() {
            return this.engine.WasmType === "single" ? 64 : this.engine.WasmType.includes("multi_simd") ? 512 : 256
        },
        fen() {
            return this.game != null ? this.game.getFen() : ""
        },
        isMobile() {
            return this.windowWidth / this.windowHeight < 16 / 10
        },
        languageColumns() {
            return Object.keys(this.languageList).map(t=>({
                text: this.languageList[t].name,
                value: t
            }))
        },
        engineRuleColumns() {
            return this.engineRuleList.map(t=>({
                text: t.text,
                value: t.value
            }))
        },
        engineRuleMap() {
            let t = {};
            for (let e of this.engineRuleList)
                t[e.value] = e.text;
            return t
        },
        toolBoardStylePure() {
            if (!this.uiSettings.pureMode)
                return {};
            let t = this.windowWidth / this.windowHeight
              , e = 100;
            if (t > 10 / 11)
                return e = this.windowHeight / 11 * 10 / this.windowWidth * 100,
                e = Math.min(e, 100),
                {
                    width: "calc(" + e.toFixed(3) + "% - 80px)"
                };
            {
                const r = this.windowHeight - this.windowWidth / 10 * 11;
                if (r >= 88)
                    return {
                        width: "100%"
                    };
                {
                    const i = 88 - r;
                    return {
                        width: "calc(100% - " + i + "px)"
                    }
                }
            }
        },
        toolBoardStyle() {
            if (this.uiSettings.pureMode)
                return {};
            let t = this.windowWidth / this.windowHeight
              , e = 100;
            if (t < 16 / 15) {
                let n = (this.windowHeight - 250) / 1.1;
                e = Math.min(n, this.windowWidth) / this.windowWidth * 100
            } else {
                let i = this.windowWidth - 300
                  , n = Math.min(i, this.windowHeight / 1.1 - 76);
                this.showEdit && (n *= .85),
                e = n / this.windowWidth * 100
            }
            return {
                width: e.toFixed(3) + "%"
            }
        },
        lowerAreaStyle() {
            if (this.uiSettings.pureMode)
                return {};
            let t = this.windowWidth / this.windowHeight;
            t = Math.max(Math.min(t, 16 / 8), 10 / 16);
            let e = this.toolBoardStyle.width.substring(0, this.toolBoardStyle.width.length - 1);
            return e = parseFloat(e) / 100,
            t < 16 / 15 ? {
                width: "100%",
                height: "calc(100vh - 85px - 98vw * 1.1 * " + e.toFixed(4) + ")"
            } : {
                width: ((1 - e) * 100).toFixed(3) + "%",
                height: "calc(100vh - 58px)"
            }
        },
        currentMovePair() {
            return this.movePairList.find(t=>t.moveId === this.currentMoveId)
        },
        isVertical() {
            return this.windowWidth / this.windowHeight < 16 / 15
        }
    },
    methods: {
        saveSettings() {
            let t = {
                engine_settings: this.engineSettings,
                thinking_settings: this.thinkingSettings,
                ui_settings: this.uiSettings
            };
            localStorage.setItem(tp, JSON.stringify(t))
        },
        loadSettings() {
            let t = localStorage.getItem(tp);
            if (t) {
                t = JSON.parse(t);
                let e = t.engine_settings;
                for (let n in e)
                    this.engineSettings[n] = e[n];
                let r = t.thinking_settings;
                for (let n in r)
                    this.thinkingSettings[n] = r[n];
                let i = t.ui_settings;
                if (i)
                    for (let n in i)
                        this.uiSettings[n] = i[n]
            }
            this.engineSettings.Hash > 512 && (this.engineSettings.Hash = 512)
        },
        forceRefresh() {
            this.unregisterServiceWorker(),
            location.reload()
        },
        unregisterServiceWorker() {
            "serviceWorker"in navigator && navigator.serviceWorker.getRegistrations().then(function(t) {
                for (let e of t)
                    e.unregister()
            })
        },
        setLanguage() {
            this.uiSettings.language === null && (this.uiSettings.language = this.getBrowserLanguage(),
            this.saveSettings()),
            this.$i18n.locale = this.uiSettings.language
        },
        getBrowserLanguage() {
            let t = ["zh-CN", "en-US", "vi-VN"]
              , e = navigator.language || navigator.userLanguage;
            if (t.includes(e))
                return e;
            {
                let r = ["en", "fr", "de", "it"];
                return e.split("-")[0]in r ? "en-US" : "zh-CN"
            }
        },
        updateWindowWidth() {
            this.windowWidth = window.innerWidth,
            this.windowHeight = window.innerHeight
        },
        handleKeydown(t) {
            switch (t.key) {
            case "ArrowUp":
                this.gotoMove("start");
                break;
            case "ArrowDown":
                this.gotoMove("end");
                break;
            case "ArrowLeft":
                this.gotoMove("prev");
                break;
            case "ArrowRight":
                this.gotoMove("next");
                break
            }
        },
        scrollToCurrentMove: up(function() {
            this.$nextTick(()=>{
                if (this.uiSettings.pureMode)
                    return;
                const t = this.$refs["move-list"]
                  , e = t.querySelector(".current-move");
                e && this.$scrollTo(e, 250, {
                    container: t,
                    offset: -t.clientHeight / 2 + e.clientHeight / 2,
                    easing: "ease-in-out"
                })
            }
            )
        }, 300),
        async loadBoardSkinList() {
        },
        async loadPieceSkinList() {
        },
        updateBoardSkinInfo() {
            let t = this.uiSettings.boardSkin.name
              , e = this.boardSkinList.find(r=>r.value === t);
            if (e != null) {
                let r = {
                    name: t,
                    text: e.text,
                    description: e.description,
                    author: e.author,
                    ext: e.ext,
                    params: e.params
                };
                JSON.stringify(this.uiSettings.boardSkin) !== JSON.stringify(r) && (this.uiSettings.boardSkin = r,
                this.onSettingsChange(!1))
            }
        },
        updatePieceSkinInfo() {
            let t = this.uiSettings.pieceSkin.name
              , e = this.pieceSkinList.find(r=>r.value === t);
            if (e != null) {
                let r = {
                    name: t,
                    text: e.text,
                    description: e.description,
                    author: e.author,
                    ext: e.ext,
                    params: e.params
                };
                JSON.stringify(this.uiSettings.pieceSkin) !== JSON.stringify(r) && (this.uiSettings.pieceSkin = r,
                this.onSettingsChange(!1))
            }
        },
        async loadSkinList(t) {
            try {
                const e = await fetch(t);
                if (!e.ok)
                    return De(t + " \u76AE\u80A4\u5217\u8868\u83B7\u53D6\u5931\u8D25"),
                    null;
                const i = (await e.json()).skins
                  , n = [];
                for (let a of i)
                    n.push({
                        text: a.title,
                        value: a.name,
                        description: a.description,
                        author: a.author,
                        ext: a.ext,
                        params: a.params
                    });
                return n
            } catch (e) {
                De("\u76AE\u80A4\u5217\u8868\u83B7\u53D6\u5931\u8D25: " + e)
            }
            return null
        },
        downloadXqf(t=null) {
            (t === null || t.length === 0) && (t = "xiangqiai_" + this.getTimeStr());
            let e = ff(this.game.moveTree.getRoot())
              , r = _y(e)
              , i = new Blob([r],{
                type: "application/octet-stream"
            })
              , n = URL.createObjectURL(i)
              , a = document.createElement("a");
            a.href = n,
            a.download = t + ".xqf",
            a.click(),
            URL.revokeObjectURL(n)
        },
        onConfirmLanguage({selectedOptions: t}) {
            this.showLanguagePicker = !1,
            this.uiSettings.language = t[0].value,
            this.$i18n.locale = this.uiSettings.language,
            this.game !== null && (this.game.language = this.uiSettings.language),
            this.onSettingsChange()
        },
        async onConfirmPieceSkin({selectedOptions: t}) {
            this.showPieceSkinPicker = !1,
            this.uiSettings.pieceSkin = {
                name: t[0].value,
                text: t[0].text,
                description: t[0].description,
                author: t[0].author,
                ext: t[0].ext,
                params: t[0].params
            },
            this.onSettingsChange(),
            location.reload()
        },
        async onConfirmBoardSkin({selectedOptions: t}) {
            this.showBoardSkinPicker = !1,
            this.uiSettings.boardSkin = {
                name: t[0].value,
                text: t[0].text,
                description: t[0].description,
                author: t[0].author,
                ext: t[0].ext,
                params: t[0].params
            },
            this.onSettingsChange(),
            location.reload()
        },
        onScrollIntoMoveVariant({currentOption: t, columnIndex: e}) {
            this.game.gotoHistoryByMoveId(t.value),
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.onMoveTreeChange(this.game.moveTree),
            this.chessBoard.setFen(this.game.getFen()),
            this.lastMove = this.game.lastMove,
            this.saveMoveTreePtr()
        },
        onConfirmEngineRule({selectedOptions: t}) {
            this.showEngineRulePicker = !1,
            this.engineSettings["Repetition Rule"] = t[0].value,
            this.onSettingsChange(!0)
        },
        onConfirmImportManualDialog() {
            if (this.importManualText.length > 0) {
                const t = this.importManualText.split(" ");
                t.length > 1 && t[1] === "r" && (t[1] = "w");
                const e = t.join(" ");
                let r = tn.dataToNode(e);
                r != null ? (this.game.moveTree = Ss(r),
                this.game.gotoStart(),
                this.refreshAnalyze(),
                this.queryChessDb(),
                this.saveGameState(),
                this.chessBoard.setFen(this.game.getFen()),
                this.lastMove = this.game.lastMove,
                this.showImportManualDialog = !1,
                er("\u5BFC\u5165\u6210\u529F")) : De("\u672A\u68C0\u6D4B\u5230\u6709\u6548\u7684\u68CB\u8C31\u6216Fen"),
                this.importManualText = ""
            } else
                De("\u5BFC\u5165\u5185\u5BB9\u4E3A\u7A7A")
        },
        isImageExtension(t) {
            return ["png", "jpg", "jpeg", "gif", "bmp", "webp"].includes(t)
        },
        async recognizeImage(t) {
            const e = await H4(t, 1920, 1920, .8)
              , r = new FormData;
            r.append("image", e),
            ky({
                duration: 0,
                message: "\u8BC6\u522B\u4E2D...",
                forbidClick: !0
            });
            try {
                const i = await ip.post("https://xiangqiai.com/api/board_recognition", r, {
                    headers: {
                        "Content-Type": "multipart/form-data"
                    }
                });
                if (Ly(),
                i.status === 200)
                    if (i.data.code === 200) {
                        const {fen: n, high_confidence: a, perspective: o, orientation: s} = i.data.data;
                        a ? er("\u8BC6\u522B\u6210\u529F") : De("\u8BC6\u522B\u7F6E\u4FE1\u5EA6\u8F83\u4F4E\uFF0C\u8BF7\u6CE8\u610F\u6821\u5BF9");
                        let l = tn.dataToNode(n);
                        this.game.moveTree = Ss(l),
                        this.game.gotoStart(),
                        this.refreshAnalyze(),
                        this.queryChessDb(),
                        this.saveGameState(),
                        this.chessBoard.setFen(n),
                        this.lastMove = this.game.lastMove,
                        this.showImportManualDialog = !1,
                        this.showEdit = !0,
                        this.flipBoard = o === "b"
                    } else
                        i.data.code === 400 ? De("\u65E0\u6CD5\u5728\u56FE\u7247\u4E2D\u8BC6\u522B\u5230\u68CB\u76D8") : De("\u8BC6\u522B\u5931\u8D25: " + i.data.message);
                else
                    De("\u8BF7\u6C42\u8BC6\u522B\u5931\u8D25\uFF0CHTTP\u72B6\u6001\u7801: " + i.status)
            } catch (i) {
                console.error(i),
                De("\u8BF7\u6C42\u8BC6\u522B\u5931\u8D25: " + i)
            }
        },
        async onManualAfterRead(t) {
            t = t.file;
            let r = t.name.split(".").pop().toLowerCase()
              , i = ["xqf", "ccm"]
              , n = null;
            if (this.isImageExtension(r))
                await this.recognizeImage(t);
            else {
                if (i.includes(r)) {
                    let a = await bs.readBinary(t);
                    a = new Uint8Array(a.content),
                    n = tn.binaryToNode(a)
                } else {
                    let a = await bs.readTextFile(t);
                    n = tn.dataToNode(a)
                }
                n != null ? (this.game.moveTree = Ss(n),
                this.game.gotoStart(),
                this.refreshAnalyze(),
                this.queryChessDb(),
                this.saveGameState(),
                this.chessBoard.setFen(this.game.getFen()),
                this.lastMove = this.game.lastMove,
                er("\u5BFC\u5165\u6210\u529F"),
                this.showImportManualDialog = !1) : De("\u672A\u68C0\u6D4B\u5230\u6709\u6548\u7684\u68CB\u8C31\u6587\u4EF6")
            }
        },
        onConfirmGifGenerateDialog() {
            this.showGifGenerateDialog = !1,
            this.generateGif()
        },
        onConfirmDownloadManualDialog() {
            this.showDownloadManualDialog = !1,
            this.downloadXqf(this.downloadManualParameters.fileName)
        },
        onConfirmAnalyzeDialog() {
            this.showAnalyzeDialog = !1
        },
        onEditMoveComment: E1(function() {
            this.game.moveTree.comment = this.moveComment,
            this.saveGameState()
        }, 300),
        onScoreGraphSelect(t) {
            this.currentMoveId = t,
            this.game.gotoHistoryByMoveId(t),
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.chessBoard.setFen(this.game.getFen()),
            this.lastMove = this.game.lastMove,
            this.saveMoveTreePtr()
        },
        newGameBtn() {
            let e = this.game.moveTree.getRoot().countNodes();
            e >= 10 ? rn({
                title: "\u5F00\u59CB\u65B0\u5C40",
                message: `\u662F\u5426\u8981\u521B\u5EFA\u65B0\u7684\u4E00\u5C40\u5462\uFF1F\u539F\u6709\u7684 ${e - 1} \u4E2A\u68CB\u6B65\u8BB0\u5F55\u5C06\u4F1A\u4E22\u5931\uFF01`,
                showCancelButton: !0
            }).then(()=>{
                this.newGame()
            }
            ).catch(()=>{}
            ) : this.newGame()
        },
        newGame() {
            this.game.newGame(),
            this.bestmoveHint = {},
            this.ponderHint = {},
            this.currentScore = {},
            this.isEndOfAnalysis = !1,
            this.onMoveTreeChange(this.game.moveTree),
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.saveGameState(),
            this.chessBoard.setFen(this.game.getFen()),
            this.lastMove = this.game.lastMove,
            this.thinkingDetail = []
        },
        clearBoard() {
            this.game.newGame("4k4/9/9/9/9/9/9/9/9/4K4 w"),
            this.bestmoveHint = {},
            this.ponderHint = {},
            this.currentScore = {},
            this.isEndOfAnalysis = !1,
            this.onMoveTreeChange(this.game.moveTree),
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.saveGameState(),
            this.chessBoard.setFen(this.game.getFen()),
            this.lastMove = this.game.lastMove
        },
        clearHint() {
            this.bestmoveHint = {},
            this.ponderHint = {},
            this.currentScore = {},
            this.isEndOfAnalysis = !1
        },
        banCurrentBestmove() {
            if (this.bestmoveHint != null && Object.keys(this.bestmoveHint).length > 0) {
                const t = this.bestmoveHint[1]
                  , e = Dt.moveCordToUciMove(t);
                this.banMoves.indexOf(e) === -1 && this.banMoves.push(e)
            }
        },
        getSearchMoves() {
            let t = null;
            return this.banMoves.length > 0 && (t = this.game.getAllPossibleUciMoves(this.game.board, this.game.turn),
            t = t.filter(e=>!this.banMoves.includes(e))),
            t
        },
        onMakeMoveEvent(t, e) {
            let r = this.game.getBoard()
              , i = this.game.getMoveType(r, [t, e]);
            if (i === hr.INVALID) {
                De({
                    message: "\u65E0\u6548\u7684\u7740\u6CD5",
                    duration: 1e3
                });
                return
            } else if (i === hr.SUICIDE) {
                De({
                    message: "\u4E0D\u80FD\u9001\u5C06",
                    duration: 1e3
                });
                return
            } else if (i === hr.NO_RESPOND_TO_CHECK) {
                De({
                    message: "\u8BF7\u5E94\u5C06",
                    duration: 1e3
                });
                return
            }
            let n = this.game.makeMove(t, e);
            this.chessBoard.makeMove([t, e]),
            this.playSoundByMove(n),
            this.lastMove = this.game.lastMove,
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.saveGameState(),
            this.clearUrlFen()
        },
        onEditBoardEvent(t) {
            this.game.newGame(t),
            this.lastMove = this.game.lastMove,
            this.thinkingDetail = [],
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.saveGameState()
        },
        makeMove(t, e) {
            let r = this.game.makeMove(t, e);
            this.playSoundByMove(r),
            this.lastMove = this.game.lastMove,
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.chessBoard.makeMove([t, e]),
            this.saveGameState()
        },
        makeMoveByString(t) {
            let e = Dt.uciMoveToMoveCord(t);
            this.makeMove(e[0], e[1])
        },
        playSoundByMove(t) {
            if ("playSound"in this.uiSettings && this.uiSettings.playSound) {
                let e = t.moveType;
                e === hr.NORMAL ? this.chessBoard.playSound("move") : e === hr.CAPTURE ? this.chessBoard.playSound("capture") : e === hr.CHECK ? this.chessBoard.playSound("check") : (e === hr.CHECKMATE || e === hr.STALEMATE) && this.chessBoard.playSound("checkmate")
            }
        },
        generateGif() {
            this.showGifGenerate = !0;
            let t = new K1({
                workers: 2,
                quality: 20,
                width: 500,
                height: 600,
                dither: "FloydSteinberg-serpentine",
                globalPalette: [0, 0, 0, 128, 0, 0, 0, 128, 0, 128, 128, 0, 0, 0, 128, 128, 0, 128, 0, 128, 128, 192, 192, 192, 128, 128, 128, 255, 0, 0, 0, 255, 0, 255, 255, 0, 0, 0, 255, 255, 0, 255, 0, 255, 255, 255, 255, 255, 0, 0, 0, 51, 51, 51, 102, 102, 102, 153, 153, 153, 204, 204, 204, 255, 0, 0, 255, 102, 102, 255, 153, 153, 255, 204, 204, 0, 255, 0, 102, 255, 102, 153, 255, 153, 204, 255, 204, 0, 0, 255, 102, 102, 255, 153, 153, 255, 204, 204, 255, 255, 255, 0, 255, 255, 102, 255, 255, 153, 255, 255, 204, 255, 0, 255, 255, 102, 255, 255, 153, 255, 255, 204, 255, 0, 255, 255, 102, 255, 255, 153, 255, 255, 204, 255, 255, 128, 0, 0, 128, 128, 0, 0, 128, 0, 128, 0, 128, 0, 128, 128, 0, 0, 128, 128, 128, 128, 192, 192, 192, 255, 165, 0, 255, 215, 0, 138, 43, 226, 75, 0, 130, 0, 191, 255, 124, 252, 0, 46, 139, 87, 210, 105, 30, 226, 176, 128, 141, 102, 65, 168, 16, 27, 188, 11, 27, 45, 45, 45, 26, 24, 22, 157, 120, 87, 112, 86, 63]
            })
              , e = document.createElement("canvas");
            e.width = 500,
            e.height = 600;
            let r = e.getContext("2d")
              , n = this.game.moveTree.getRoot()
              , a = this.gifGenerateParameters.count
              , o = this.gifGenerateParameters.title
              , s = 0;
            for (; n != null; )
                s += 1,
                this.chessBoard.drawGifBoard(e, r, n.board, n.moveCord, 1),
                r.font = "16px Arial",
                r.fillStyle = "white",
                r.fillRect(0, 550, 500, 50),
                r.fillStyle = "black",
                r.fillText(o.length > 0 ? o : "\u4F7F\u7528\u76AE\u5361\u9C7C\u8C61\u68CB\u5728\u7EBF\u5206\u6790", 10, 570),
                r.fillText(`\u7B2C ${s} \u6B65   \u5171 ${a} \u6B65`, 10, 590),
                t.addFrame(r, {
                    copy: !0,
                    delay: this.gifGenerateParameters.interval * 1e3
                }),
                n = n.next[n.defaultIndex];
            t.on("finished", l=>{
                let u = URL.createObjectURL(l);
                this.gifUrl = u,
                this.downloadGif(),
                t.abort()
            }
            ),
            t.render()
        },
        downloadGif() {
            let t = document.createElement("a");
            t.href = this.gifUrl,
            t.download = "xiangqiai_" + this.getTimeStr() + ".gif",
            t.click()
        },
        getTimeStr() {
            return bs.getTimeStr().replace("-", "_").replace(":", "_").replace(" ", "_")
        },
        getChessDbScoreMessage(t, e=null) {
            let r = t.score;
            if (r != null && e !== (this.flipBoard ? "b" : "w") && (r = -r),
            t.type === "normal")
                return r.toString();
            if (t.type === "egtb")
                if (Math.abs(t.score) > 2e4) {
                    let i = 3e4 - Math.abs(r);
                    return i = r >= 0 ? i : -i,
                    `\u7EDD\u6740 (${i})`
                } else
                    return "\u548C\u68CB"
        },
        getChessDbMessage(t) {
            if (t.msg === "invalid board")
                return "\u65E0\u6548\u7684\u68CB\u76D8";
            if (t.msg === "unknown")
                return "\u672A\u5165\u5E93\u5C40\u9762";
            if (t.msg === "checkmate")
                return t.side === "w" ? "\u7EA2\u65B9\u88AB\u7EDD\u6740" : "\u9ED1\u65B9\u88AB\u7EDD\u6740";
            if (t.msg === "stalemate")
                return t.side === "w" ? "\u7EA2\u65B9\u88AB\u56F0\u6BD9" : "\u9ED1\u65B9\u88AB\u56F0\u6BD9"
        },
        onMoveTreeChange(t) {
            let e = this.game.getMoveListByTree(t)
              , r = []
              , i = 1
              , n = 0;
            for (let l of e)
                i += 1,
                l.id = Math.floor(i / 2),
                l.index = n,
                r.push(l),
                n += 1;
            let a = []
              , o = t.next
              , s = 0;
            for (let l of o)
                s += 1,
                l !== t && a.push({
                    moveCord: l.moveCord,
                    index: s
                });
            this.moveVariants = a,
            this.movePairList = r,
            this.currentMoveId = t.move ? t.moveId : "startpos",
            this.clearHint(),
            this.moveComment = t.comment,
            this.banMoves = []
        },
        beforeMultiPvChange(t) {
            return new Promise((e,r)=>{
                this.engineSettings.MultiPV === 1 && t > 1 ? (console.log("\u560E\u560E\u560E\uFF1F"),
                rn({
                    title: "\u662F\u5426\u5F00\u542F\u591A\u4E3B\u53D8\u641C\u7D22\uFF1F",
                    message: "\u5F00\u542F\u591A\u4E3B\u53D8\u641C\u7D22\u5C06\u5BFC\u81F4\u7B97\u529B\u5206\u644A\uFF0C\u68CB\u529B\u5C06\u4F1A\u6025\u5267\u964D\u4F4E\uFF0C\u4EC5\u9650\u62C6\u68CB\u5206\u6790\u4F7F\u7528\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F",
                    showCancelButton: !0
                }).then(()=>{
                    e(!0)
                }
                ).catch(()=>{
                    e(!1)
                }
                )) : e(!0)
            }
            )
        },
        onSettingsChange(t=!1) {
            t && this.setEngineOptions(),
            this.thinkingSettings.chessdb.auto_move && !this.thinkingSettings.chessdb.query && (this.thinkingSettings.chessdb.auto_move = !1,
            De("\u81EA\u52A8\u8D70\u68CB\u4F9D\u8D56\u4E8E\u83B7\u53D6\u4E91\u5E93\u7740\u6CD5\uFF01")),
            this.thinkingSettings.chessdb.query && this.queryChessDb(),
            this.saveSettings(),
            this.multiPvInfoBuffer = {}
        },
        onSharePopoverSelect(t) {
            if (t.value === "copyFen") {
                let e = this.game.getFen();
                Tn(e),
                er({
                    message: "\u5C40\u9762\u5DF2\u590D\u5236",
                    position: "top"
                })
            } else if (t.value === "copyMoveList") {
                let e = this.game.moveTree.getRoot().getFen()
                  , r = this.game.getMoveList()
                  , i = window.location.origin;
                this.game.getFenWithFullMove("");
                let n = `\u5F00\u59CB\u5C40\u9762: ${e}\r
`;
                n += `\u7740\u6CD5: \r
`;
                let a = 1;
                for (let o of r)
                    a % 2 === 1 && (n += `${Math.floor(a / 2) + 1}. `),
                    n += `${o.chn_move_name}`,
                    a % 2 === 0 ? n += `\r
` : n += " ",
                    a += 1;
                n += `\r
\u4F7F\u7528\u76AE\u5361\u9C7C\u8C61\u68CB\u5728\u7EBF\u5206\u6790: ${i}`,
                Tn(n),
                er({
                    message: "\u68CB\u8C31\u5DF2\u590D\u5236",
                    position: "top"
                })
            } else if (t.value !== "downloadPGN") {
                if (t.value === "downloadXQF")
                    this.showDownloadManualDialog = !0;
                else if (t.value === "copyDhtml") {
                    let e = ff(this.game.moveTree.getRoot())
                      , r = tn.nodeToData_DhtmlXQ(e);
                    Tn(r),
                    er({
                        message: "\u4E1C\u840D\u68CB\u8C31\u5DF2\u590D\u5236",
                        position: "top"
                    })
                } else if (t.value === "copyFenUrl") {
                    let e = this.game.getFen()
                      , i = window.location.origin + "/#/" + encodeURI(e);
                    Tn(i),
                    er({
                        message: "\u5C40\u9762\u94FE\u63A5\u5DF2\u590D\u5236",
                        position: "top"
                    })
                } else if (t.value === "copyMoveListUrl") {
                    let e = this.game.getFenWithFullMove("")
                      , i = window.location.origin + "/#/" + encodeURI(e);
                    Tn(i),
                    er({
                        message: "\u68CB\u8C31\u94FE\u63A5\u5DF2\u590D\u5236",
                        position: "top"
                    })
                } else if (t.value === "generateGif") {
                    let e = this.game.moveTree.getRoot()
                      , r = 0;
                    for (; e != null; )
                        r += 1,
                        e = e.next[e.defaultIndex];
                    this.gifGenerateParameters.count = r,
                    this.showGifGenerateDialog = !0
                }
            }
        },
        onFlipBoardPopoverSelect(t) {
            t.value === "flipBoard" ? this.toggleFlip() : t.value === "flipHorizontal" && this.toggleFlipHorizontal()
        },
        setEngineOptions() {
            this.engine != null && this.engine.setOptionList(this.engineSettings)
        },
        toggleEdit() {
            if (this.showEdit) {
                if (!this.game.isPositionValid(this.game.getBoard())) {
                    De({
                        message: "\u65E0\u6548\u7684\u5C40\u9762",
                        duration: 1e3
                    });
                    return
                }
                this.showEdit = !this.showEdit,
                this.chessBoard.setFen(this.game.getFen()),
                this.lastMove = this.game.lastMove
            } else {
                let e = this.game.moveTree.getRoot().countNodes();
                e >= 10 ? rn({
                    title: "\u7F16\u8F91\u68CB\u76D8",
                    message: `\u662F\u5426\u8981\u7F16\u8F91\u68CB\u76D8\u5462\uFF1F\u7F16\u8F91\u540E\uFF0C\u539F\u6709\u7684 ${e} \u4E2A\u68CB\u6B65\u8BB0\u5F55\u5C06\u4F1A\u4E22\u5931\uFF01`,
                    showCancelButton: !0
                }).then(()=>{
                    this.startEdit()
                }
                ).catch(()=>{}
                ) : this.startEdit()
            }
        },
        startEdit() {
            this.showEdit = !this.showEdit,
            this.enginePlayRed = !1,
            this.enginePlayBlack = !1,
            this.engineAnalyze = !1,
            this.engine.Analyzing && this.engine.stop()
        },
        toggleSettings() {
            this.showSettings = !this.showSettings,
            this.showBoard = !this.showBoard,
            this.showSettings && this.engine.Analyzing && this.engine.stop(),
            this.showSettings ? (this.showEdit = !1,
            this.checkEngineTurnTimer != null && (clearInterval(this.checkEngineTurnTimer),
            this.checkEngineTurnTimer = null)) : (this.onMoveTreeChange(this.game.moveTree),
            this.checkEngineTurnTimer == null && (this.checkEngineTurnTimer = setInterval(this.checkForEngineTurn, 100)))
        },
        toggleFlip() {
            this.flipBoard = !this.flipBoard
        },
        toggleFlipHorizontal() {
            this.flipHorizontal = !this.flipHorizontal
        },
        initEngine() {
            try {
                this.engine = new X1.EngineHelper("",this.engineSettings),
                this.engine.InfoEvent = this.onEngineInfo,
                this.engine.BestmoveEvent = this.onEngineBestmove,
                this.engine.OptionEvent = this.onEngineOptions,
                this.engine.DownloadEvent = this.onEngineDownload,
                this.engine.UCIOKEvent = this.onUciOk,
                this.engine.ExitEvent = this.onEngineExit
            } catch (t) {
                De("\u521D\u59CB\u5316\u5F15\u64CE\u5931\u8D25: " + t)
            }
            this.checkEngineTurnTimer = setInterval(this.checkForEngineTurn, 100)
        },
        sendCommand() {
            this.engine.sendCommand(this.uciInput)
        },
        refreshAnalyze(t=!1) {
            this.engineAnalyze && (this.engine.Analyzing || t) && (this.engine.stop(),
            this.multiPvInfoBuffer = {},
            setTimeout(()=>{
                this.engine.setFen(this.game.getFenWithMove()),
                this.engine.go(-1, -1, -1, this.getSearchMoves())
            }
            , 200))
        },
        getColorClassFromScore(t) {
            return t === void 0 ? "" : "cp"in t ? t.cp >= 0 ? "advantage" : "disadvantage" : t.mate > 0 ? "mate" : "mated"
        },
        getColorClassFromChessDbMove(t) {
            return t.type === "normal" ? t.score >= 0 ? "advantage" : "disadvantage" : t.score >= 0 ? "mate" : "mated"
        },
        checkForEngineTurn() {
            this.engine != null && this.engine.Engine != null && this.engine.Ready && !this.engine.Analyzing && !this.isEndOfAnalysis && this.doEngineAction()
        },
        onEngineInfo(t, e) {
            if ("pv"in e) {
                if (this.engine.AnalyzingFen !== this.game.getFenWithMove())
                    return;
                let r = e.multipv
                  , i = e.pv.split(" ");
                this.bestmoveHint[r] = this.game.moveStringToPos(i[0]),
                i.length > 1 && (this.ponderHint[r] = this.game.moveStringToPos(i[1])),
                this.chessBoard.animate();
                let n = this.game.moveTree;
                (this.engineSettings.MultiPV === 1 || r === 1) && (n.scoreInfo == null || n.scoreInfo.depth === void 0 || n.scoreInfo.depth <= e.depth) && (n.scoreInfo = {
                    depth: e.depth,
                    nodes: e.nodes,
                    score: {
                        ...e.score
                    }
                },
                this.movePairList.forEach(a=>{
                    a.moveId === this.currentMoveId && (a.scoreInfo = n.scoreInfo)
                }
                )),
                this.currentScore[r] = {
                    depth: e.depth,
                    nodes: e.nodes,
                    score: e.score
                },
                this.thinkingSide = this.game.turn,
                "score"in e && "cp"in e.score ? e.score.cp = e.score.cp * (this.thinkingSide === "w" ? 1 : -1) * (this.flipBoard ? -1 : 1) : "score"in e && "mate"in e.score && (e.score.mate = e.score.mate * (this.thinkingSide === "w" ? 1 : -1) * (this.flipBoard ? -1 : 1)),
                e.board_side = this.flipBoard ? "b" : "w",
                e.type = "engine";
                try {
                    let a = i;
                    this.engineSettings.MultiPV > 1 && (a = a.slice(0, 4));
                    let o = Dt.getSerialLocalMoveNameList(this.game.getFen(), a, this.uiSettings.language);
                    e.pvChn = o.join(" ")
                } catch (a) {
                    console.log(a)
                }
                r === 1 ? this.thinkingDetail.unshift([e]) : this.thinkingDetail[0].push(e),
                this.thinkingDetail.length > 50 && this.thinkingDetail.pop()
            }
        },
        onEngineBestmove(t, e) {
            if (!t)
                return;
            t === "(none)" && (this.enginePlayRed = !1,
            this.enginePlayBlack = !1,
            this.game.turn === "w" ? De("\u7EA2\u65B9\u88AB\u7EDD\u6740") : De("\u9ED1\u65B9\u88AB\u7EDD\u6740"));
            let r = this.game.getSideByMoveString(t);
            if (r !== this.game.turn) {
                console.warn("\u5F15\u64CE\u7740\u6CD5\u4E0E\u5F53\u524D\u5C40\u9762\u4E0D\u7B26");
                return
            }
            r === "w" && this.enginePlayRed || r === "b" && this.enginePlayBlack || this.engineAnalyze && this.goInstant ? (this.makeMoveByString(t),
            "fen"in this.$route.params && this.$router.push({
                path: "/"
            }),
            this.bestmoveHint = {},
            this.currentScore = {},
            this.isEndOfAnalysis = !1,
            this.goInstant && (this.goInstant = !1)) : this.engineAnalyze && (this.isEndOfAnalysis = !0)
        },
        onEngineOptions(t) {},
        onEngineDownload(t) {
            if (this.downloadProgress !== 1)
                if (t.includes("Downloading")) {
                    let e = t.split("(")[1].split(")")[0].split("/")
                      , r = parseInt(e[0])
                      , i = parseInt(e[1]);
                    this.downloadProgress = r / i
                } else
                    t.includes("Running") && (this.downloadProgress = 1)
        },
        onUciOk() {
            if (!this.isEngineReady) {
                this.isEngineReady = !0;
                let t = this.engine.WasmType
                  , e = [];
                if (t.includes("multi") || (e.push("\u591A\u7EBF\u7A0B\u6280\u672F"),
                this.engineSettings.Threads = 1),
                t.includes("simd") || e.push("SIMD\u6280\u672F"),
                e.length > 0) {
                    let r = "";
                    t === "multi_simd" ? r = "\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 " + e.join(" \u548C ") + " \uFF0C\u5C06\u5F71\u54CD\u5F15\u64CE\u641C\u7D22\u901F\u5EA6\uFF0C\u8BF7\u4F7F\u7528 Chrome \u6D4F\u89C8\u5668 \u6216 Safari \u6D4F\u89C8\u5668 \u6253\u5F00\u4EE5\u83B7\u5F97\u66F4\u597D\u7684\u4F7F\u7528\u4F53\u9A8C\u3002" : r = "\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 " + e.join(" \u548C ") + " \uFF0C\u5C06\u5F71\u54CD\u5F15\u64CE\u641C\u7D22\u901F\u5EA6\uFF0C\u8BF7\u4F7F\u7528 Chrome \u6D4F\u89C8\u5668 \u6216 Safari \u6D4F\u89C8\u5668\u4EE5\u83B7\u5F97\u66F4\u597D\u7684\u4F7F\u7528\u4F53\u9A8C\u3002",
                    rn({
                        message: r,
                        confirmButtonText: "\u7EE7\u7EED\u4F7F\u7528"
                    })
                }
            }
        },
        onEngineExit(t) {},
        gotoHistory(t) {
            t.moveId !== this.game.moveTree.moveId ? (this.game.gotoHistory(t),
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.chessBoard.setFen(this.game.getFen()),
            this.lastMove = this.game.lastMove) : this.game.moveTree.getSiblings().length > 1 && (this.updateMoveVariantColumns(),
            this.showMoveVariantPicker = !0),
            this.saveMoveTreePtr()
        },
        updateMoveVariantColumns() {
            let t = this.game.moveTree.getSiblings()
              , e = []
              , r = 0;
            for (let i of t) {
                r += 1;
                let n = Dt.getChineseMoveName(i.parent.getFen(), i.move);
                n = Dt.translateMoveName(n, this.language),
                e.push({
                    index: r,
                    text: n,
                    value: i.moveId,
                    comment: i.comment,
                    followUpVariants: i.countVariants(),
                    followUpComments: i.countNodesWithComment()
                })
            }
            this.moveVariantColumns = e,
            this.currentMoveVariantIndex = [this.game.moveTree.moveId]
        },
        gotoMove(t) {
            if (t === "start") {
                let e = this.movePairList.findIndex(i=>i.moveId === this.currentMoveId)
                  , r = null;
                if (e > 0) {
                    for (let i = e - 1; i >= 0; i--)
                        if (this.movePairList[i + 1].variantInfo != null) {
                            r = this.movePairList[i].moveId;
                            break
                        }
                    r != null ? this.game.gotoHistoryByMoveId(r) : this.game.gotoStart()
                } else
                    this.game.gotoStart()
            } else if (t === "prev")
                this.game.undoMove();
            else if (t === "next")
                this.game.redoMove();
            else if (t === "end") {
                let e = this.movePairList.findIndex(i=>i.moveId === this.currentMoveId)
                  , r = null;
                if (e < this.movePairList.length - 1) {
                    for (let i = e + 1; i < this.movePairList.length - 1; i++)
                        if (this.movePairList[i + 1].variantInfo != null) {
                            r = this.movePairList[i].moveId;
                            break
                        }
                    r != null ? this.game.gotoHistoryByMoveId(r) : this.game.restoreHistory()
                } else
                    this.game.restoreHistory()
            } else
                return;
            "playSound"in this.uiSettings && this.uiSettings.playSound && this.chessBoard.playSound("move"),
            this.lastMove = this.game.lastMove,
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.chessBoard.setFen(this.game.getFen()),
            this.saveMoveTreePtr()
        },
        deleteMove(t, e="") {
            const r = this.game.findSiblingByMoveId(t)
              , n = this.game.getMoveListByTree(r).length - 1;
            n > 0 ? rn({
                message: `\u5220\u9664 ${e} \u5C06\u5220\u9664 ${n} \u4E2A\u540E\u7EED\u7740\u6CD5\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F`,
                showCancelButton: !0
            }).then(()=>{
                this.doDeleteMove(r)
            }
            ).catch(()=>{}
            ) : this.doDeleteMove(r)
        },
        adjustMoveRank(t, e=1) {
            this.game.moveTree.adjustMoveRank(t, e),
            this.onMoveTreeChange(this.game.moveTree),
            this.saveGameState(),
            this.updateMoveVariantColumns()
        },
        doDeleteMove(t) {
            this.game.deleteMove(t),
            this.onMoveTreeChange(this.game.moveTree),
            this.refreshAnalyze(),
            this.queryChessDb(),
            this.chessBoard.setFen(this.game.getFen()),
            this.saveGameState(),
            this.lastMove = this.game.lastMove,
            this.showMoveVariantPicker = !1
        },
        setFen(t) {
            t && (this.game.newGame(t),
            this.queryChessDb(),
            this.drawBoard(),
            this.onMoveTreeChange(this.game.moveTree))
        },
        saveGameState() {
            this.isSaving || (this.isSaving = !0,
            setTimeout(()=>{
                localStorage.setItem(rp, this.game.serializeMoveTree()),
                localStorage.setItem(Yl, this.game.serializeMoveTreePtr()),
                this.isSaving = !1
            }
            , 0))
        },
        clearUrlFen() {
            "fen"in this.$route.params && this.$router.push({
                path: "/"
            })
        },
        saveMoveTreePtr() {
            this.isSaving || (this.isSaving = !0,
            setTimeout(()=>{
                localStorage.setItem(Yl, this.game.serializeMoveTreePtr()),
                this.isSaving = !1
            }
            , 0))
        },
        queryChessDb() {
            if (this.thinkingSettings.chessdb.query) {
                let t = this.game.getFen();
                t in this.chessDbRecords ? this.onChessDbResultChange(this.chessDbRecords[t]) : Q1.queryFen(this.game.getFen(), this.uiSettings.language).then(e=>{
                    this.chessDbRecords[t] = e,
                    this.onChessDbResultChange(e)
                }
                ).catch(e=>{}
                )
            }
        },
        onChessDbResultChange(t) {
            this.chessdbResult = t
        },
        onToolBtnClick(t) {
            if (t === "play_red")
                this.enginePlayRed = !this.enginePlayRed,
                this.engineAnalyze && (this.engineAnalyze = !1,
                this.engine.stop()),
                !this.enginePlayRed && this.game.turn === "w" && this.engine.Analyzing && this.engine.stop();
            else if (t === "play_black")
                this.enginePlayBlack = !this.enginePlayBlack,
                this.engineAnalyze && (this.engineAnalyze = !1,
                this.engine.stop()),
                !this.enginePlayBlack && this.game.turn === "b" && this.engine.Analyzing && this.engine.stop();
            else if (t === "analyze")
                this.engineAnalyze = !this.engineAnalyze,
                this.enginePlayRed && (this.enginePlayRed = !1),
                this.enginePlayBlack && (this.enginePlayBlack = !1),
                this.engineAnalyze ? (this.multiPvInfoBuffer = {},
                this.engine.setFen(this.game.getFenWithMove()),
                this.engine.go(-1, -1, -1, this.getSearchMoves())) : this.engine.stop();
            else if (t === "goInstant") {
                if (this.enginePlayRed || this.enginePlayBlack || this.engineAnalyze) {
                    if (this.bestmoveHint == null || Object.keys(this.bestmoveHint).length === 0)
                        return;
                    this.goInstant = !0,
                    this.engine.stop()
                }
            } else
                t === "banMove" && (this.banCurrentBestmove(),
                this.refreshAnalyze());
            this.doEngineAction()
        },
        doEngineAction() {
            if (this.enginePlayRed && this.game.turn === "w" || this.enginePlayBlack && this.game.turn === "b") {
                let t = this.game.getFen();
                if (this.thinkingSettings.chessdb.auto_move) {
                    let e = !1;
                    if (!(t in this.chessDbRecords))
                        if (t in this.chessDbFenQueryTime || (this.chessDbFenQueryTime[t] = new Date().getTime()),
                        new Date().getTime() - this.chessDbFenQueryTime[t] > 2e3)
                            e = !0;
                        else
                            return;
                    let r = this.chessDbRecords[t]
                      , i = !1;
                    if (!e && r.msg === "") {
                        let n = r.moveList[0].score;
                        (this.flipBoard ? "b" : "w") !== r.side && (n = -n),
                        n > 2e4 ? n = {
                            mate: 3e4 - n
                        } : n < -2e4 ? n = {
                            mate: -3e4 - n
                        } : n = {
                            cp: n
                        };
                        let a = r.moveList[0];
                        (this.game.getMoveList().length < this.thinkingSettings.chessdb.disable_ply || a.type === "egtb" && this.thinkingSettings.chessdb.always_use_egtb) && (this.thinkingDetail.unshift([{
                            board_side: this.flipBoard ? "b" : "w",
                            type: "chessdb",
                            pv: a.move,
                            pvChn: a.chn_move_name,
                            score: n,
                            side: r.side
                        }]),
                        this.makeMoveByString(a.move),
                        i = !0)
                    }
                    i || (this.engine.setFen(this.game.getFenWithMove()),
                    this.multiPvInfoBuffer = {},
                    this.engine.go(this.thinkingSettings.movetime * 1e3, this.thinkingSettings.depth, -1, this.getSearchMoves()))
                } else
                    this.engine.setFen(this.game.getFenWithMove()),
                    this.multiPvInfoBuffer = {},
                    this.engine.go(this.thinkingSettings.movetime * 1e3, this.thinkingSettings.depth, -1, this.getSearchMoves())
            }
            this.engineAnalyze && (this.engine.setFen(this.game.getFenWithMove()),
            this.multiPvInfoBuffer = {},
            this.engine.go(-1, -1, -1, this.getSearchMoves()))
        },
        analyzeMoveList() {
            for (let t of this.movePairList) {
                let e = t.fen;
                t.move,
                this.engine.setFen(e),
                this.engine.go()
            }
        }
    }
}
  , OI = {
    class: "main"
}
  , BI = {
    key: "newGame",
    class: "tool-btn-outer"
}
  , NI = {
    key: "clearBoard",
    class: "tool-btn-outer"
}
  , FI = {
    key: "goInstant",
    class: "tool-btn-outer"
}
  , zI = {
    key: "banMove",
    class: "tool-btn-outer"
}
  , VI = {
    key: "flipBoard",
    class: "tool-btn-outer"
}
  , HI = {
    key: "importManual",
    class: "tool-btn-outer"
}
  , GI = {
    key: "share",
    class: "tool-btn-outer"
}
  , WI = {
    key: "toggleSettings",
    class: "tool-btn-outer"
}
  , UI = R("div", {
    class: "van-dialog__message van-dialog__message--has-title"
}, "\u662F\u5426\u8981\u521B\u5EFA\u65B0\u7684\u4E00\u5C40\u5462\uFF1F\u539F\u6709\u7684 9 \u4E2A\u68CB\u6B65\u8BB0\u5F55\u5C06\u4F1A\u4E22\u5931\uFF01", -1)
  , $I = {
    class: "van-dialog__footer"
}
  , YI = Pe("\u8FD4\u56DE")
  , XI = Pe("\u653E\u5F03\u5F53\u524D\u68CB\u8C31")
  , qI = Pe("\u4FDD\u5B58\u5E76\u7EE7\u7EED")
  , ZI = R("br", null, null, -1)
  , KI = Pe("\u9009\u62E9\u68CB\u8C31\u6587\u4EF6")
  , jI = Pe("\u9009\u62E9\u68CB\u76D8\u56FE\u7247")
  , QI = Pe("\u62CD\u7167\u8BC6\u522B\u68CB\u76D8")
  , JI = Pe("\u68CB\u8C31\u89E3\u6790\u7531")
  , ek = R("a", {
    href: "https://www.xiaxiangqi.com/vschess",
    style: {
        color: "inherit",
        margin: "0 5px"
    }
}, "\u5FAE\u601D\u8C61\u68CB\u5E93", -1)
  , tk = Pe("\u63D0\u4F9B\u652F\u6301")
  , rk = R("br", null, null, -1)
  , ik = R("br", null, null, -1)
  , nk = R("br", null, null, -1)
  , ak = R("br", null, null, -1)
  , ok = {
    key: 0,
    class: "navigation"
}
  , sk = {
    key: 0,
    class: "simple-info"
}
  , lk = {
    key: 0,
    class: "thinking-detail"
}
  , uk = {
    key: 0,
    style: {
        color: "#9c9c9c",
        "text-align": "center",
        "margin-top": "20px",
        "font-size": "0.8rem"
    }
}
  , hk = {
    class: "details"
}
  , fk = {
    key: 0,
    class: "message",
    style: {
        "text-align": "center",
        "font-size": "1.2rem"
    }
}
  , ck = {
    key: 1
}
  , vk = {
    key: 0,
    class: "brief"
}
  , dk = {
    key: 1,
    class: "brief"
}
  , pk = {
    class: "pv",
    style: {
        "font-size": "0.8rem"
    }
}
  , gk = {
    key: 0,
    style: {
        color: "#555",
        "margin-bottom": "5px"
    }
}
  , mk = {
    key: 1,
    style: {
        color: "#9c9c9c",
        "text-align": "center",
        "margin-top": "20px",
        "font-size": "0.8rem"
    }
}
  , yk = {
    key: 0,
    class: "chessdb-result"
}
  , _k = {
    key: 0
}
  , wk = {
    class: "chessdb-move-list"
}
  , Sk = ["onClick"]
  , bk = {
    key: 0
}
  , Ck = {
    key: 1
}
  , xk = {
    key: 1,
    style: {
        width: "100%",
        color: "#515151",
        "text-align": "center",
        "margin-top": "10px"
    }
}
  , Tk = {
    class: "score-graph"
}
  , Mk = {
    key: 1,
    class: "analyze-area-wide"
}
  , Dk = {
    class: "thinking-detail"
}
  , Ak = {
    key: 0,
    style: {
        color: "#9c9c9c",
        "text-align": "center",
        "margin-top": "20px",
        "font-size": "0.8rem"
    }
}
  , Ik = {
    class: "details"
}
  , kk = {
    key: 0,
    class: "message",
    style: {
        "text-align": "center",
        "font-size": "1.2rem"
    }
}
  , Lk = {
    key: 1
}
  , Pk = {
    key: 0,
    class: "brief"
}
  , Ek = {
    key: 1,
    class: "brief"
}
  , Rk = {
    class: "pv",
    style: {
        "font-size": "0.8rem"
    }
}
  , Ok = {
    key: 0,
    style: {
        color: "#555",
        "margin-bottom": "5px"
    }
}
  , Bk = {
    key: 0,
    class: "chessdb-result"
}
  , Nk = {
    key: 0
}
  , Fk = {
    class: "chessdb-move-list"
}
  , zk = ["onClick"]
  , Vk = {
    key: 0
}
  , Hk = {
    key: 1
}
  , Gk = {
    key: 1,
    style: {
        width: "100%",
        color: "#515151",
        "text-align": "center",
        "margin-top": "10px"
    }
}
  , Wk = {
    class: "score-graph"
}
  , Uk = {
    class: "move-list",
    ref: "move-list"
}
  , $k = ["onClick"]
  , Yk = {
    class: "move-id"
}
  , Xk = {
    key: 0,
    style: {
        "font-size": "0.7em"
    }
}
  , qk = {
    key: 1
}
  , Zk = {
    style: {
        flex: "1",
        display: "flex",
        "justify-content": "center",
        "justify-items": "center"
    }
}
  , Kk = {
    style: {
        width: "25px",
        "line-height": "25px"
    }
}
  , jk = {
    style: {
        "margin-left": "2px",
        width: "10px"
    }
}
  , Qk = {
    style: {
        display: "flex",
        "justify-content": "left",
        width: "80px"
    }
}
  , Jk = {
    key: 0,
    class: "settings-area"
}
  , eL = {
    class: "settings"
}
  , tL = {
    class: "about"
}
  , rL = R("img", {
    src: PI,
    style: {
        display: "block",
        margin: "50px auto",
        width: "128px"
    }
}, null, -1)
  , iL = {
    class: "content",
    style: {
        color: "#333",
        "font-size": "0.8rem",
        width: "90%",
        margin: "20px auto",
        "box-shadow": "0 0 2px 2px rgba(0,0,0,0.1)"
    }
}
  , nL = {
    style: {
        padding: "20px"
    }
}
  , aL = {
    style: {
        "margin-bottom": "10px",
        "word-break": "normal"
    }
}
  , oL = {
    style: {
        "margin-bottom": "5px"
    }
}
  , sL = {
    style: {
        "margin-left": "20px",
        "margin-bottom": "5px"
    }
}
  , lL = {
    style: {
        "margin-left": "20px",
        "margin-bottom": "5px"
    }
}
  , uL = {
    style: {
        "margin-left": "20px",
        "margin-bottom": "10px"
    }
}
  , hL = {
    style: {
        "margin-left": "20px",
        "margin-bottom": "10px"
    }
}
  , fL = {
    key: 0,
    class: "footer"
}
  , cL = R("a", {
    href: "https://beian.miit.gov.cn/",
    target: "_blank",
    style: {
        "text-decoration": "none",
        color: "lightgray",
        "font-size": "0.6rem",
        "margin-right": "10px"
    }
}, "\u95FDICP\u59072023017377\u53F7-1", -1)
  , vL = R("a", {
    href: "https://beian.mps.gov.cn/#/query/webSearch?code=35020302035925",
    target: "_blank",
    style: {
        "text-decoration": "none",
        color: "lightgray",
        "font-size": "0.6rem"
    }
}, " \u95FD\u516C\u7F51\u5B89\u590735020302035925", -1)
  , dL = [cL, vL]
  , pL = {
    key: 1,
    class: "debug"
}
  , gL = {
    key: 0
}
  , mL = R("br", null, null, -1)
  , yL = {
    key: 1
}
  , _L = R("br", null, null, -1)
  , wL = R("br", null, null, -1)
  , SL = R("br", null, null, -1)
  , bL = R("br", null, null, -1)
  , CL = {
    key: 2
}
  , xL = R("br", null, null, -1)
  , TL = {
    style: {
        "text-decoration": "underline",
        color: "#76baec"
    }
}
  , ML = R("br", null, null, -1)
  , DL = R("br", null, null, -1)
  , AL = ["src"]
  , IL = Pe("\u5173\u95ED ");
function kL(t, e, r, i, n, a) {
    const o = se("IconNewGame")
      , s = se("IconClear")
      , l = se("IconPlayRed")
      , u = se("IconPlayBlack")
      , h = se("IconAnalyze")
      , f = se("IconFlash")
      , c = se("IconBan")
      , v = se("IconFlipBoard")
      , d = se("van-popover")
      , m = se("IconPaste")
      , p = se("IconShare")
      , g = se("IconEdit")
      , y = se("IconExit")
      , _ = se("IconSettings")
      , w = se("van-button")
      , b = se("van-dialog")
      , S = se("van-uploader")
      , C = se("van-cell")
      , T = se("van-cell-group")
      , x = se("van-field")
      , D = se("van-divider")
      , A = se("van-stepper")
      , k = se("ChessBoard")
      , P = se("IconArrowDoubleLeft")
      , E = se("IconArrowLeft")
      , O = se("IconArrowRight")
      , B = se("IconArrowDoubleRight")
      , te = se("ThinkingDetail")
      , W = se("van-tab")
      , Z = se("ScoreGraph")
      , re = se("van-tabs")
      , ve = se("van-tag")
      , $ = se("van-picker")
      , z = se("van-popup")
      , N = se("van-switch")
      , j = se("van-loading")
      , q = se("van-overlay");
    return H(),
    U("div", OI, [L(Py, {
        name: "tool-btn",
        tag: "div",
        class: "tool-buttons-container"
    }, {
        default: V(()=>[Le(R("div", BI, [L(o, {
            onClick: e[0] || (e[0] = M=>a.newGameBtn()),
            style: {
                width: "75%",
                height: "75%",
                "margin-top": "15%"
            },
            class: "tool-btn btn-new"
        })], 512), [[Be, n.showBoard]]), Le(R("div", NI, [L(s, {
            class: "tool-btn btn-clear",
            style: {
                width: "80%",
                height: "80%",
                "margin-top": "12%"
            },
            onClick: e[1] || (e[1] = M=>a.clearBoard())
        })], 512), [[Be, n.showBoard && n.showEdit]]), Le(R("div", {
            key: "enginePlayRed",
            class: ut(["tool-btn-outer", {
                "btn-enabled": n.enginePlayRed
            }])
        }, [L(l, {
            class: "tool-btn btn-play-red",
            style: {
                width: "65%",
                height: "65%",
                "margin-top": "18%"
            },
            onClick: e[2] || (e[2] = M=>a.onToolBtnClick("play_red"))
        })], 2), [[Be, n.showBoard && !n.showEdit]]), Le(R("div", {
            key: "enginePlayBlack",
            class: ut(["tool-btn-outer", {
                "btn-enabled": n.enginePlayBlack
            }])
        }, [L(u, {
            class: "tool-btn btn-play-black",
            style: {
                width: "65%",
                height: "65%",
                "margin-top": "18%"
            },
            onClick: e[3] || (e[3] = M=>a.onToolBtnClick("play_black"))
        })], 2), [[Be, n.showBoard && !n.showEdit]]), Le(R("div", {
            key: "engineAnalyze",
            class: ut(["tool-btn-outer", {
                "btn-enabled": n.engineAnalyze
            }])
        }, [L(h, {
            class: "tool-btn btn-analyze",
            style: {
                width: "75%",
                height: "75%",
                "margin-top": "14%"
            },
            onClick: e[4] || (e[4] = M=>a.onToolBtnClick("analyze"))
        })], 2), [[Be, n.showBoard && !n.showEdit]]), Le(R("div", FI, [L(f, {
            class: "tool-btn btn-go-instant",
            style: {
                width: "80%",
                height: "80%",
                "margin-top": "12%"
            },
            onClick: e[5] || (e[5] = M=>a.onToolBtnClick("goInstant"))
        })], 512), [[Be, n.showBoard && !n.showEdit]]), Le(R("div", zI, [L(c, {
            class: "tool-btn btn-ban-move",
            style: {
                width: "80%",
                height: "80%",
                "margin-top": "12%"
            },
            onClick: e[6] || (e[6] = M=>a.onToolBtnClick("banMove"))
        })], 512), [[Be, n.showBoard && !n.showEdit]]), Le(R("div", VI, [L(d, {
            show: n.showFlipBoardPopover,
            "onUpdate:show": e[7] || (e[7] = M=>n.showFlipBoardPopover = M),
            actions: n.flipBoardPopoverOptions,
            onSelect: a.onFlipBoardPopoverSelect
        }, {
            reference: V(()=>[L(v, {
                class: "tool-btn flip-board",
                style: {
                    width: "70%",
                    height: "70%",
                    "margin-top": "16%"
                }
            })]),
            _: 1
        }, 8, ["show", "actions", "onSelect"])], 512), [[Be, n.showBoard]]), Le(R("div", HI, [L(m, {
            class: "tool-btn btn-set-fen",
            style: {
                width: "90%",
                height: "90%",
                "margin-top": "6%"
            },
            onClick: e[8] || (e[8] = M=>n.showImportManualDialog = !0)
        })], 512), [[Be, n.showBoard]]), Le(R("div", GI, [L(d, {
            show: n.showSharePopover,
            "onUpdate:show": e[9] || (e[9] = M=>n.showSharePopover = M),
            actions: n.sharePopoverOptions,
            onSelect: a.onSharePopoverSelect
        }, {
            reference: V(()=>[L(p, {
                class: "tool-btn btn-share",
                style: {
                    width: "65%",
                    height: "65%",
                    "margin-top": "20%"
                }
            })]),
            _: 1
        }, 8, ["show", "actions", "onSelect"])], 512), [[Be, n.showBoard]]), Le(R("div", {
            key: "editBoard",
            class: ut(["tool-btn-outer", {
                "btn-enabled": n.showEdit
            }])
        }, [L(g, {
            class: "tool-btn btn-edit",
            style: {
                width: "75%",
                height: "75%",
                "margin-top": "15%"
            },
            onClick: e[10] || (e[10] = M=>a.toggleEdit())
        })], 2), [[Be, n.showBoard]]), R("div", WI, [R("div", {
            class: "tool-btn btn-settings",
            onClick: e[11] || (e[11] = M=>a.toggleSettings())
        }, [n.showSettings ? (H(),
        vi(y, {
            key: 0,
            class: "icon",
            style: {
                width: "60%",
                height: "60%",
                "margin-top": "20%"
            }
        })) : (H(),
        vi(_, {
            key: 1,
            class: "icon",
            style: {
                width: "75%",
                height: "75%",
                "margin-top": "12%"
            }
        }))])])]),
        _: 1
    }), R("div", {
        class: ut(["display-area", {
            "display-area-pure": n.uiSettings.pureMode
        }]),
        id: "displayArea"
    }, [R("div", {
        class: "tool-board-area",
        style: uf([a.toolBoardStylePure, a.toolBoardStyle])
    }, [L(b, {
        show: n.showConfirmNewGameDialog,
        "onUpdate:show": e[15] || (e[15] = M=>n.showConfirmNewGameDialog = M),
        title: "\u65B0\u7684\u4E00\u5C40"
    }, {
        footer: V(()=>[R("div", $I, [L(w, {
            square: "",
            hairline: "",
            size: "large",
            class: "confirm-dialog-button",
            onClick: e[12] || (e[12] = M=>n.showConfirmNewGameDialog = !1)
        }, {
            default: V(()=>[YI]),
            _: 1
        }), L(w, {
            square: "",
            hairline: "",
            size: "large",
            style: {
                color: "#e54747"
            },
            class: "confirm-dialog-button",
            onClick: e[13] || (e[13] = M=>n.showConfirmNewGameDialog = !1)
        }, {
            default: V(()=>[XI]),
            _: 1
        }), L(w, {
            square: "",
            hairline: "",
            size: "large",
            style: {
                color: "#1989fa"
            },
            class: "confirm-dialog-button",
            onClick: e[14] || (e[14] = M=>n.showConfirmNewGameDialog = !1)
        }, {
            default: V(()=>[qI]),
            _: 1
        })])]),
        default: V(()=>[UI]),
        _: 1
    }, 8, ["show"]), L(b, {
        show: n.showImportManualDialog,
        "onUpdate:show": e[17] || (e[17] = M=>n.showImportManualDialog = M),
        onConfirm: a.onConfirmImportManualDialog,
        title: "\u8BF7\u9009\u62E9\u68CB\u8C31\u6587\u4EF6\u6216\u68CB\u76D8\u7167\u7247",
        width: "320px",
        "show-cancel-button": ""
    }, {
        default: V(()=>[ZI, L(T, null, {
            default: V(()=>[L(C, {
                center: "",
                title: "\u6587\u4EF6\u68CB\u8C31\u4E0A\u4F20"
            }, {
                default: V(()=>[L(S, {
                    "after-read": a.onManualAfterRead,
                    accept: "*.*",
                    "result-type": "file"
                }, {
                    default: V(()=>[L(w, {
                        icon: "plus",
                        type: "primary",
                        size: "small"
                    }, {
                        default: V(()=>[KI]),
                        _: 1
                    })]),
                    _: 1
                }, 8, ["after-read"])]),
                _: 1
            }), L(C, {
                center: "",
                title: "\u68CB\u76D8\u56FE\u7247\u8BC6\u522B",
                label: "\u8BF7\u5C3D\u91CF\u5782\u76F4\u62CD\u6444\u68CB\u76D8"
            }, {
                default: V(()=>[L(S, {
                    "after-read": a.onManualAfterRead,
                    accept: "image/*",
                    "result-type": "file"
                }, {
                    default: V(()=>[L(w, {
                        icon: "photo-o",
                        type: "success",
                        size: "small"
                    }, {
                        default: V(()=>[jI]),
                        _: 1
                    })]),
                    _: 1
                }, 8, ["after-read"]), L(S, {
                    "after-read": a.onManualAfterRead,
                    capture: "camera",
                    accept: "image/*",
                    "result-type": "file"
                }, {
                    default: V(()=>[L(w, {
                        icon: "scan",
                        type: "success",
                        size: "small",
                        style: {
                            "margin-top": "5px"
                        }
                    }, {
                        default: V(()=>[QI]),
                        _: 1
                    })]),
                    _: 1
                }, 8, ["after-read"])]),
                _: 1
            })]),
            _: 1
        }), L(T, {
            style: {
                padding: "0 16px"
            }
        }, {
            default: V(()=>[L(x, {
                rows: "6",
                type: "textarea",
                placeholder: "\u8BF7\u7C98\u8D34\u6587\u672C\u68CB\u8C31\u6216Fen\u4E32",
                modelValue: n.importManualText,
                "onUpdate:modelValue": e[16] || (e[16] = M=>n.importManualText = M)
            }, null, 8, ["modelValue"])]),
            _: 1
        }), L(D, null, {
            default: V(()=>[JI, ek, tk]),
            _: 1
        })]),
        _: 1
    }, 8, ["show", "onConfirm"]), L(b, {
        show: n.showGifGenerateDialog,
        "onUpdate:show": e[20] || (e[20] = M=>n.showGifGenerateDialog = M),
        onConfirm: a.onConfirmGifGenerateDialog,
        title: "\u751F\u6210\u52A8\u6001\u56FE\u7247",
        width: "320px",
        "show-cancel-button": ""
    }, {
        default: V(()=>[rk, L(T, null, {
            default: V(()=>[L(x, {
                modelValue: n.gifGenerateParameters.title,
                "onUpdate:modelValue": e[18] || (e[18] = M=>n.gifGenerateParameters.title = M),
                label: "\u6807\u9898",
                placeholder: "\u8BF7\u8F93\u5165\u52A8\u6001\u56FE\u6807\u9898"
            }, null, 8, ["modelValue"]), L(x, {
                name: "stepper",
                label: "\u6B65\u6570"
            }, {
                input: V(()=>[Pe(" \u5171 " + F(n.gifGenerateParameters.count) + " \u6B65 ", 1)]),
                _: 1
            }), L(x, {
                name: "stepper",
                label: "\u6B65\u65F6(\u79D2)"
            }, {
                input: V(()=>[L(A, {
                    modelValue: n.gifGenerateParameters.interval,
                    "onUpdate:modelValue": e[19] || (e[19] = M=>n.gifGenerateParameters.interval = M),
                    step: "0.2",
                    "decimal-length": 1,
                    min: "0.2",
                    max: "10"
                }, null, 8, ["modelValue"])]),
                _: 1
            })]),
            _: 1
        }), ik]),
        _: 1
    }, 8, ["show", "onConfirm"]), L(b, {
        show: n.showDownloadManualDialog,
        "onUpdate:show": e[22] || (e[22] = M=>n.showDownloadManualDialog = M),
        onConfirm: a.onConfirmDownloadManualDialog,
        title: "\u4FDD\u5B58\u68CB\u8C31",
        width: "320px",
        "show-cancel-button": ""
    }, {
        default: V(()=>[nk, L(T, null, {
            default: V(()=>[L(x, {
                modelValue: n.downloadManualParameters.fileName,
                "onUpdate:modelValue": e[21] || (e[21] = M=>n.downloadManualParameters.fileName = M),
                label: "\u6587\u4EF6\u540D",
                placeholder: "\u8BF7\u8F93\u5165\u68CB\u8C31\u6587\u4EF6\u540D"
            }, null, 8, ["modelValue"]), L(x, {
                name: "stepper",
                label: "\u6B65\u6570"
            }, {
                input: V(()=>[Pe(" \u5171 " + F(n.game.moveTree.getRoot().countNodes() - 1) + " \u4E2A\u7740\u6CD5 ", 1)]),
                _: 1
            })]),
            _: 1
        }), ak]),
        _: 1
    }, 8, ["show", "onConfirm"]), L(ma, {
        name: "board"
    }, {
        default: V(()=>[Le(L(k, {
            "piece-skin": n.uiSettings.pieceSkin,
            "board-skin": n.uiSettings.boardSkin,
            "bestmove-hint": n.bestmoveHint,
            "ponder-hint": n.ponderHint,
            "show-edit": n.showEdit,
            "flip-board": n.flipBoard,
            "flip-horizontal": n.flipHorizontal,
            "last-move": n.lastMove,
            "move-variants": n.moveVariants,
            "ban-moves": n.banMoves,
            "animation-time": n.uiSettings.animationTime,
            "piece-scale-rate": n.uiSettings.pieceScaleRate,
            "show-arrows": n.thinkingSettings.enable_hint || n.engineAnalyze,
            "show-last-move-using-arrow": !1,
            "show-move-variants": n.uiSettings.showMoveVariantsArrow,
            "show-board-label": n.uiSettings.showBoardLabel,
            onResourceReady: e[23] || (e[23] = M=>n.resourceReady = !0),
            onMakeMove: a.onMakeMoveEvent,
            onEditBoard: a.onEditBoardEvent,
            ref: "chessBoard",
            class: "chess-board"
        }, null, 8, ["piece-skin", "board-skin", "bestmove-hint", "ponder-hint", "show-edit", "flip-board", "flip-horizontal", "last-move", "move-variants", "ban-moves", "animation-time", "piece-scale-rate", "show-arrows", "show-move-variants", "show-board-label", "onMakeMove", "onEditBoard"]), [[Be, n.showBoard]])]),
        _: 1
    }), L(ma, {
        name: "navigation"
    }, {
        default: V(()=>[!n.showEdit && n.showBoard ? (H(),
        U("div", ok, [L(P, {
            class: "icon",
            onClick: e[24] || (e[24] = M=>a.gotoMove("start"))
        }), L(E, {
            class: "icon",
            onClick: e[25] || (e[25] = M=>a.gotoMove("prev"))
        }), L(O, {
            class: "icon",
            onClick: e[26] || (e[26] = M=>a.gotoMove("next"))
        }), L(B, {
            class: "icon",
            onClick: e[27] || (e[27] = M=>a.gotoMove("end"))
        })])) : Re("", !0)]),
        _: 1
    })], 4), n.uiSettings.pureMode && n.thinkingDetail.length > 0 && n.showBoard && n.thinkingSettings.enable_hint ? (H(),
    U("div", sk, [L(te, {
        "thinking-detail": n.thinkingDetail[0][0]
    }, null, 8, ["thinking-detail"])])) : Re("", !0), n.uiSettings.pureMode ? Re("", !0) : (H(),
    vi(ma, {
        key: 1,
        name: "lower-area"
    }, {
        default: V(()=>[Le(R("div", {
            class: "lower-area",
            style: uf(a.lowerAreaStyle)
        }, [a.isMobile ? (H(),
        vi(re, {
            key: 0,
            class: "analyze-area",
            color: "#1989fa",
            height: "100%",
            swipeable: ""
        }, {
            default: V(()=>[L(W, {
                title: t.$t("gui.pikafishAnalyze")
            }, {
                default: V(()=>[n.thinkingSettings.enable_hint || n.engineAnalyze ? (H(),
                U("div", lk, [n.thinkingDetail.length === 0 ? (H(),
                U("div", uk, F(t.$t("gui.noAnalyzeResult")), 1)) : Re("", !0), (H(!0),
                U(Cr, null, xr(n.thinkingDetail, M=>(H(),
                U("div", hk, [(H(!0),
                U(Cr, null, xr(M, K=>(H(),
                U("div", {
                    class: ut(["info", a.getColorClassFromScore(K.score)])
                }, ["msg"in K ? (H(),
                U("div", fk, F(K.msg), 1)) : (H(),
                U("div", ck, [K.type === "engine" ? (H(),
                U("div", vk, F(n.engineSettings.MultiPV > 1 ? t.$t("gui.move") + " " + K.multipv + ": " : "") + " " + F(t.$t("gui.depth")) + ": " + F(K.depth) + " " + F(K.board_side === "w" ? t.$t("gui.redScoreShort") : t.$t("gui.blackScoreShort")) + ": " + F("cp"in K.score ? K.score.cp : t.$t("gui.mated") + " (" + K.score.mate + ")") + " " + F(t.$t("gui.timeCost")) + ": " + F((K.time / 1e3).toFixed(1)) + "s " + F(t.$t("gui.nps")) + ": " + F((K.nps / 1e3).toFixed(0)) + "K ", 1)) : (H(),
                U("div", dk, F(t.$t("gui.chessDbShort")) + " " + F(K.board_side === "w" ? t.$t("gui.redScoreShort") : t.$t("gui.blackScoreShort")) + ": " + F("cp"in K.score ? K.score.cp : t.$t("gui.mated") + " (" + K.score.mate + ")"), 1)), R("div", pk, F(K.pvChn), 1)]))], 2))), 256)), n.engineSettings.MultiPV > 1 ? (H(),
                U("hr", gk)) : Re("", !0)]))), 256))])) : (H(),
                U("div", mk, [R("div", null, F(t.$t("gui.hintOffNotify")), 1)]))]),
                _: 1
            }, 8, ["title"]), L(W, {
                title: t.$t("gui.chessDb")
            }, {
                default: V(()=>[n.showBoard && !n.showEdit && n.thinkingSettings.chessdb.query ? (H(),
                U("div", yk, [n.chessdbResult.msg === "" ? (H(),
                U("div", _k, [R("table", wk, [R("tr", null, [R("th", null, F(t.$t("gui.move")), 1), R("th", null, F(n.chessdbResult.side === "w" ? t.$t("gui.redSide") : t.$t("gui.blackSide")) + " " + F(t.$t("gui.score")), 1)]), (H(!0),
                U(Cr, null, xr(n.chessdbResult.moveList, M=>(H(),
                U("tr", {
                    class: ut(a.getColorClassFromChessDbMove(M)),
                    onClick: K=>a.makeMoveByString(M.move)
                }, [R("td", null, F(M.chn_move_name), 1), M.type === "normal" ? (H(),
                U("td", bk, F(M.score), 1)) : (H(),
                U("td", Ck, F(a.getChessDbScoreMessage(M)), 1))], 10, Sk))), 256))])])) : (H(),
                U("div", xk, F(a.getChessDbMessage(n.chessdbResult)), 1))])) : Re("", !0)]),
                _: 1
            }, 8, ["title"]), L(W, {
                title: t.$t("gui.scoreGraph")
            }, {
                default: V(()=>[R("div", Tk, [L(Z, {
                    style: {
                        height: "100%"
                    },
                    moveList: n.movePairList,
                    "current-move-id": n.currentMoveId,
                    perspective: n.flipBoard ? "b" : "w",
                    onMoveSelected: a.onScoreGraphSelect
                }, null, 8, ["moveList", "current-move-id", "perspective", "onMoveSelected"])])]),
                _: 1
            }, 8, ["title"]), L(W, {
                title: t.$t("gui.note")
            }, {
                default: V(()=>[L(T, {
                    style: {
                        height: "100%",
                        "overflow-y": "auto"
                    }
                }, {
                    default: V(()=>[R("div", null, [L(x, {
                        modelValue: n.moveComment,
                        "onUpdate:modelValue": [e[28] || (e[28] = M=>n.moveComment = M), a.onEditMoveComment],
                        rows: "5",
                        autosize: "",
                        type: "textarea",
                        placeholder: t.$t("gui.notePlaceHolder")
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder"])])]),
                    _: 1
                })]),
                _: 1
            }, 8, ["title"])]),
            _: 1
        })) : (H(),
        U("div", Mk, [L(re, {
            class: "analyze-area wide-engine",
            color: "#1989fa"
        }, {
            default: V(()=>[L(W, {
                title: t.$t("gui.pikafishAnalyze")
            }, {
                default: V(()=>[R("div", Dk, [n.thinkingDetail.length === 0 ? (H(),
                U("div", Ak, F(t.$t("gui.noAnalyzeResult")), 1)) : Re("", !0), (H(!0),
                U(Cr, null, xr(n.thinkingDetail, M=>(H(),
                U("div", Ik, [(H(!0),
                U(Cr, null, xr(M, K=>(H(),
                U("div", {
                    class: ut(["info", a.getColorClassFromScore(K.score)])
                }, ["msg"in K ? (H(),
                U("div", kk, F(K.msg), 1)) : (H(),
                U("div", Lk, [K.type === "engine" ? (H(),
                U("div", Pk, F(n.engineSettings.MultiPV > 1 ? t.$t("gui.move") + " " + K.multipv + ": " : "") + " " + F(t.$t("gui.depth")) + ": " + F(K.depth) + " " + F(K.board_side === "w" ? t.$t("gui.redScoreShort") : t.$t("gui.blackScoreShort")) + ": " + F("cp"in K.score ? K.score.cp : t.$t("gui.mated") + " (" + K.score.mate + ")") + " " + F(t.$t("gui.timeCost")) + ": " + F((K.time / 1e3).toFixed(1)) + "s " + F(t.$t("gui.nps")) + ": " + F((K.nps / 1e3).toFixed(0)) + "K ", 1)) : (H(),
                U("div", Ek, F(t.$t("gui.chessDbShort")) + " " + F(K.board_side === "w" ? t.$t("gui.redScoreShort") : t.$t("gui.blackScoreShort")) + ": " + F("cp"in K.score ? K.score.cp : t.$t("gui.mated") + " (" + K.score.mate + ")"), 1)), R("div", Rk, F(K.pvChn), 1)]))], 2))), 256)), n.engineSettings.MultiPV > 1 ? (H(),
                U("hr", Ok)) : Re("", !0)]))), 256))])]),
                _: 1
            }, 8, ["title"])]),
            _: 1
        }), L(re, {
            class: "analyze-area wide-chessdb",
            color: "#1989fa"
        }, {
            default: V(()=>[L(W, {
                title: t.$t("gui.chessDb")
            }, {
                default: V(()=>[n.showBoard && !n.showEdit && n.thinkingSettings.chessdb.query ? (H(),
                U("div", Bk, [n.chessdbResult.msg === "" ? (H(),
                U("div", Nk, [R("table", Fk, [R("tr", null, [R("th", null, F(t.$t("gui.move")), 1), R("th", null, F(n.chessdbResult.side === "w" ? t.$t("gui.redSide") : t.$t("gui.blackSide")) + " " + F(t.$t("gui.score")), 1)]), (H(!0),
                U(Cr, null, xr(n.chessdbResult.moveList, M=>(H(),
                U("tr", {
                    class: ut(a.getColorClassFromChessDbMove(M)),
                    onClick: K=>a.makeMoveByString(M.move)
                }, [R("td", null, F(M.chn_move_name), 1), M.type === "normal" ? (H(),
                U("td", Vk, F(M.score), 1)) : (H(),
                U("td", Hk, F(a.getChessDbScoreMessage(M)), 1))], 10, zk))), 256))])])) : (H(),
                U("div", Gk, F(a.getChessDbMessage(n.chessdbResult)), 1))])) : Re("", !0)]),
                _: 1
            }, 8, ["title"]), L(W, {
                title: t.$t("gui.scoreGraph")
            }, {
                default: V(()=>[R("div", Wk, [L(Z, {
                    style: {
                        height: "100%"
                    },
                    moveList: n.movePairList,
                    "current-move-id": n.currentMoveId,
                    perspective: n.flipBoard ? "b" : "w",
                    onMoveSelected: a.onScoreGraphSelect
                }, null, 8, ["moveList", "current-move-id", "perspective", "onMoveSelected"])])]),
                _: 1
            }, 8, ["title"]), L(W, {
                title: t.$t("gui.note")
            }, {
                default: V(()=>[L(T, {
                    style: {
                        height: "100%",
                        "overflow-y": "auto"
                    }
                }, {
                    default: V(()=>[R("div", null, [L(x, {
                        modelValue: n.moveComment,
                        "onUpdate:modelValue": [e[29] || (e[29] = M=>n.moveComment = M), a.onEditMoveComment],
                        rows: "5",
                        autosize: "",
                        type: "textarea",
                        placeholder: t.$t("gui.notePlaceHolder")
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder"])])]),
                    _: 1
                })]),
                _: 1
            }, 8, ["title"])]),
            _: 1
        })])), Le(R("div", Uk, [R("div", {
            class: ut(["pair start-pos", {
                "current-move": n.currentMoveId === "startpos"
            }])
        }, [R("div", {
            class: "move",
            onClick: e[30] || (e[30] = M=>a.gotoMove("start"))
        }, [R("span", null, "\u2014 " + F(t.$t("gui.moveList.startPos")) + " \u2014", 1)])], 2), (H(!0),
        U(Cr, null, xr(n.movePairList, M=>(H(),
        U("div", {
            class: ut(["pair", {
                "red-move": M.side === "w",
                "black-move": M.side === "b",
                "current-move": M.moveId === n.currentMoveId
            }]),
            key: M.moveId,
            ref_for: !0,
            ref: M.moveId === n.currentMoveId ? "currentMove" : null
        }, [R("div", {
            class: "move",
            onClick: K=>a.gotoHistory(M)
        }, [R("span", Yk, F(M.side === "w" ? M.id + "." : ""), 1), R("span", null, F(M.chn_move_name), 1), M.variantInfo != null ? (H(),
        U("span", Xk, "\u53D8")) : Re("", !0), M.comment ? (H(),
        U("span", qk, "*")) : Re("", !0)], 8, $k)], 2))), 128)), L(z, {
            show: n.showMoveVariantPicker,
            "onUpdate:show": e[34] || (e[34] = M=>n.showMoveVariantPicker = M),
            position: a.isVertical ? "bottom" : "right",
            round: a.isVertical,
            "overlay-style": {
                "background-color": "rgba(0, 0, 0, 0.5)"
            }
        }, {
            default: V(()=>[L($, {
                style: {
                    "min-width": "320px"
                },
                columns: n.moveVariantColumns,
                modelValue: n.currentMoveVariantIndex,
                "onUpdate:modelValue": e[31] || (e[31] = M=>n.currentMoveVariantIndex = M),
                onCancel: e[32] || (e[32] = M=>n.showMoveVariantPicker = !1),
                onScrollInto: a.onScrollIntoMoveVariant,
                onConfirm: e[33] || (e[33] = M=>n.showMoveVariantPicker = !1)
            }, {
                option: V(M=>[L(w, {
                    size: "mini",
                    icon: "arrow-up",
                    onClick: ws(K=>a.adjustMoveRank(M.value, -1), ["stop", "prevent"])
                }, null, 8, ["onClick"]), L(w, {
                    size: "mini",
                    icon: "arrow-down",
                    onClick: ws(K=>a.adjustMoveRank(M.value, 1), ["stop", "prevent"])
                }, null, 8, ["onClick"]), R("div", Zk, [R("span", Kk, F(M.index) + ".", 1), R("span", null, F(M.text), 1), R("span", jk, F(M.comment ? "*" : ""), 1), R("div", Qk, [M.followUpVariants > 0 ? (H(),
                vi(ve, {
                    key: 0,
                    style: {
                        "margin-left": "5px"
                    },
                    type: "primary",
                    plain: ""
                }, {
                    default: V(()=>[Pe(F(M.followUpVariants) + "\u53D8", 1)]),
                    _: 2
                }, 1024)) : Re("", !0), M.followUpComments - (M.comment ? 1 : 0) > 0 ? (H(),
                vi(ve, {
                    key: 1,
                    style: {
                        "margin-left": "5px"
                    },
                    type: "success",
                    plain: ""
                }, {
                    default: V(()=>[Pe(F(M.followUpComments - (M.comment ? 1 : 0)) + "\u6CE8", 1)]),
                    _: 2
                }, 1024)) : Re("", !0)])]), L(w, {
                    style: {
                        "margin-left": "auto"
                    },
                    type: "danger",
                    size: "small",
                    icon: "delete-o",
                    onClick: ws(K=>a.deleteMove(M.value, M.text), ["stop", "prevent"])
                }, null, 8, ["onClick"])]),
                _: 1
            }, 8, ["columns", "modelValue", "onScrollInto"])]),
            _: 1
        }, 8, ["show", "position", "round", "overlay-style"])], 512), [[Be, n.showBoard && !n.showEdit]])], 4), [[Be, n.showBoard && !n.showEdit]])]),
        _: 1
    })), L(ma, {
        name: "settings-area"
    }, {
        default: V(()=>[n.showSettings ? (H(),
        U("div", Jk, [L(z, {
            show: n.showPieceSkinPicker,
            "onUpdate:show": e[37] || (e[37] = M=>n.showPieceSkinPicker = M),
            round: "",
            position: "bottom"
        }, {
            default: V(()=>[L($, {
                columns: n.pieceSkinList,
                modelValue: n.currentPieceSkinIndex,
                "onUpdate:modelValue": e[35] || (e[35] = M=>n.currentPieceSkinIndex = M),
                onCancel: e[36] || (e[36] = M=>n.showPieceSkinPicker = !1),
                onConfirm: a.onConfirmPieceSkin
            }, null, 8, ["columns", "modelValue", "onConfirm"])]),
            _: 1
        }, 8, ["show"]), L(z, {
            show: n.showBoardSkinPicker,
            "onUpdate:show": e[40] || (e[40] = M=>n.showBoardSkinPicker = M),
            round: "",
            position: "bottom"
        }, {
            default: V(()=>[L($, {
                columns: n.boardSkinList,
                modelValue: n.currentBoardSkinIndex,
                "onUpdate:modelValue": e[38] || (e[38] = M=>n.currentBoardSkinIndex = M),
                onCancel: e[39] || (e[39] = M=>n.showBoardSkinPicker = !1),
                onConfirm: a.onConfirmBoardSkin
            }, null, 8, ["columns", "modelValue", "onConfirm"])]),
            _: 1
        }, 8, ["show"]), L(z, {
            show: n.showLanguagePicker,
            "onUpdate:show": e[43] || (e[43] = M=>n.showLanguagePicker = M),
            round: "",
            position: "bottom"
        }, {
            default: V(()=>[L($, {
                columns: a.languageColumns,
                modelValue: n.currentLanguageIndex,
                "onUpdate:modelValue": e[41] || (e[41] = M=>n.currentLanguageIndex = M),
                onCancel: e[42] || (e[42] = M=>n.showLanguagePicker = !1),
                onConfirm: a.onConfirmLanguage
            }, null, 8, ["columns", "modelValue", "onConfirm"])]),
            _: 1
        }, 8, ["show"]), L(z, {
            show: n.showEngineRulePicker,
            "onUpdate:show": e[46] || (e[46] = M=>n.showEngineRulePicker = M),
            round: "",
            position: "bottom"
        }, {
            default: V(()=>[L($, {
                columns: a.engineRuleColumns,
                modelValue: n.currentEngineRuleIndex,
                "onUpdate:modelValue": e[44] || (e[44] = M=>n.currentEngineRuleIndex = M),
                onCancel: e[45] || (e[45] = M=>n.showEngineRulePicker = !1),
                onConfirm: a.onConfirmEngineRule
            }, null, 8, ["columns", "modelValue", "onConfirm"])]),
            _: 1
        }, 8, ["show"]), L(re, {
            color: "#1989fa",
            swipeable: ""
        }, {
            default: V(()=>[L(W, {
                title: t.$t("gui.settings")
            }, {
                default: V(()=>[R("div", eL, [L(T, {
                    inset: "",
                    title: t.$t("settings.uiSettings")
                }, {
                    default: V(()=>[L(x, {
                        modelValue: n.languageList[n.uiSettings.language].name,
                        "onUpdate:modelValue": e[47] || (e[47] = M=>n.languageList[n.uiSettings.language].name = M),
                        "is-link": "",
                        readonly: "",
                        label: t.$t("settings.language"),
                        placeholder: t.$t("settings.languagePlaceholder"),
                        onClick: e[48] || (e[48] = M=>{
                            n.currentLanguageIndex = [n.uiSettings.language],
                            n.showLanguagePicker = !0
                        }
                        )
                    }, null, 8, ["modelValue", "label", "placeholder"]), L(x, {
                        modelValue: n.uiSettings.pieceSkin.text,
                        "onUpdate:modelValue": e[49] || (e[49] = M=>n.uiSettings.pieceSkin.text = M),
                        "is-link": "",
                        readonly: "",
                        label: t.$t("settings.pieceSkin"),
                        placeholder: t.$t("settings.boardSkinPlaceholder"),
                        onClick: e[50] || (e[50] = M=>{
                            n.currentPieceSkinIndex = [n.uiSettings.pieceSkin.name],
                            n.showPieceSkinPicker = !0
                        }
                        )
                    }, null, 8, ["modelValue", "label", "placeholder"]), L(x, {
                        modelValue: n.uiSettings.boardSkin.text,
                        "onUpdate:modelValue": e[51] || (e[51] = M=>n.uiSettings.boardSkin.text = M),
                        "is-link": "",
                        readonly: "",
                        label: t.$t("settings.boardSkin"),
                        placeholder: t.$t("settings.boardSkinPlaceholder"),
                        onClick: e[52] || (e[52] = M=>{
                            n.currentBoardSkinIndex = [n.uiSettings.boardSkin.name],
                            n.showBoardSkinPicker = !0
                        }
                        )
                    }, null, 8, ["modelValue", "label", "placeholder"]), L(C, {
                        title: t.$t("settings.showBoardLabel"),
                        label: t.$t("settings.showBoardLabelDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.uiSettings.showBoardLabel,
                            "onUpdate:modelValue": e[53] || (e[53] = M=>n.uiSettings.showBoardLabel = M),
                            onChange: e[54] || (e[54] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.playSound"),
                        label: t.$t("settings.playSoundDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.uiSettings.playSound,
                            "onUpdate:modelValue": e[55] || (e[55] = M=>n.uiSettings.playSound = M),
                            onChange: e[56] || (e[56] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.animationTime"),
                        label: t.$t("settings.animationTimeDesc")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.uiSettings.animationTime,
                            "onUpdate:modelValue": e[57] || (e[57] = M=>n.uiSettings.animationTime = M),
                            onChange: e[58] || (e[58] = M=>a.onSettingsChange(!1)),
                            min: "0",
                            max: "1",
                            step: "0.05",
                            "decimal-length": "2"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.pieceScaleRate"),
                        label: t.$t("settings.pieceScaleRateDesc")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.uiSettings.pieceScaleRate,
                            "onUpdate:modelValue": e[59] || (e[59] = M=>n.uiSettings.pieceScaleRate = M),
                            onChange: e[60] || (e[60] = M=>a.onSettingsChange(!1)),
                            min: "10",
                            max: "200",
                            step: "5"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.showMoveVariantArrow"),
                        label: t.$t("settings.showMoveVariantArrowDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.uiSettings.showMoveVariantsArrow,
                            "onUpdate:modelValue": e[61] || (e[61] = M=>n.uiSettings.showMoveVariantsArrow = M),
                            onChange: e[62] || (e[62] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.pureMode"),
                        label: t.$t("settings.pureModeDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.uiSettings.pureMode,
                            "onUpdate:modelValue": e[63] || (e[63] = M=>n.uiSettings.pureMode = M),
                            onChange: e[64] || (e[64] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"])]),
                    _: 1
                }, 8, ["title"]), L(T, {
                    inset: "",
                    title: t.$t("settings.engineSettings")
                }, {
                    default: V(()=>[L(x, {
                        modelValue: a.engineRuleMap[n.engineSettings["Repetition Rule"]],
                        "onUpdate:modelValue": e[65] || (e[65] = M=>a.engineRuleMap[n.engineSettings["Repetition Rule"]] = M),
                        "is-link": "",
                        readonly: "",
                        label: t.$t("settings.engineRule"),
                        placeholder: t.$t("settings.engineRulePlaceholder"),
                        onClick: e[66] || (e[66] = M=>{
                            n.currentEngineRuleIndex = [n.engineSettings["Repetition Rule"]],
                            n.showEngineRulePicker = !0
                        }
                        )
                    }, null, 8, ["modelValue", "label", "placeholder"]), L(C, {
                        title: t.$t("settings.skillLevel"),
                        label: t.$t("settings.skillLevelDesc")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.engineSettings["Skill Level"],
                            "onUpdate:modelValue": e[67] || (e[67] = M=>n.engineSettings["Skill Level"] = M),
                            onChange: e[68] || (e[68] = M=>a.onSettingsChange(!0)),
                            min: "0",
                            max: "20",
                            step: "1",
                            integer: ""
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.threadCount"),
                        label: t.$t("settings.threadCountDesc") + a.concurrency
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.engineSettings.Threads,
                            "onUpdate:modelValue": e[69] || (e[69] = M=>n.engineSettings.Threads = M),
                            onChange: e[70] || (e[70] = M=>a.onSettingsChange(!0)),
                            min: "1",
                            max: a.concurrency,
                            step: "1",
                            integer: ""
                        }, null, 8, ["modelValue", "max"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.hashSize"),
                        label: t.$t("settings.hashSizeDesc") + a.hashMax
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.engineSettings.Hash,
                            "onUpdate:modelValue": e[71] || (e[71] = M=>n.engineSettings.Hash = M),
                            onChange: e[72] || (e[72] = M=>a.onSettingsChange(!0)),
                            min: "64",
                            max: a.hashMax,
                            step: "64",
                            integer: ""
                        }, null, 8, ["modelValue", "max"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.multiPv"),
                        label: n.engineSettings.MultiPV === 1 ? t.$t("settings.multiPvDesc") : t.$t("settings.multiPvWarning")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.engineSettings.MultiPV,
                            "onUpdate:modelValue": e[73] || (e[73] = M=>n.engineSettings.MultiPV = M),
                            "before-change": a.beforeMultiPvChange,
                            onChange: e[74] || (e[74] = M=>a.onSettingsChange(!0)),
                            min: "1",
                            max: "20",
                            step: "1",
                            integer: ""
                        }, null, 8, ["modelValue", "before-change"])]),
                        _: 1
                    }, 8, ["title", "label"])]),
                    _: 1
                }, 8, ["title"]), L(T, {
                    inset: "",
                    title: t.$t("settings.thinkingSettings")
                }, {
                    default: V(()=>[L(C, {
                        title: t.$t("settings.turnTime"),
                        label: t.$t("settings.turnTimeDesc")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.thinkingSettings.movetime,
                            "onUpdate:modelValue": e[75] || (e[75] = M=>n.thinkingSettings.movetime = M),
                            onChange: e[76] || (e[76] = M=>a.onSettingsChange(!1)),
                            min: "0",
                            step: "0.5"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.maxDepth"),
                        label: t.$t("settings.maxDepthDesc")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.thinkingSettings.depth,
                            "onUpdate:modelValue": e[77] || (e[77] = M=>n.thinkingSettings.depth = M),
                            onChange: e[78] || (e[78] = M=>a.onSettingsChange(!1)),
                            min: "1",
                            max: 255,
                            step: "1",
                            integer: ""
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"])]),
                    _: 1
                }, 8, ["title"]), L(T, {
                    inset: "",
                    title: t.$t("settings.chessDbSettings")
                }, {
                    default: V(()=>[L(C, {
                        title: t.$t("settings.getChessDbMove"),
                        label: t.$t("settings.getChessDbMoveDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.thinkingSettings.chessdb.query,
                            "onUpdate:modelValue": e[79] || (e[79] = M=>n.thinkingSettings.chessdb.query = M),
                            onChange: e[80] || (e[80] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.chessDbAutoMove"),
                        label: t.$t("settings.chessDbAutoMoveDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.thinkingSettings.chessdb.auto_move,
                            "onUpdate:modelValue": e[81] || (e[81] = M=>n.thinkingSettings.chessdb.auto_move = M),
                            onChange: e[82] || (e[82] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.alwaysUseEgtb"),
                        label: t.$t("settings.alwaysUseEgtbDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.thinkingSettings.chessdb.always_use_egtb,
                            "onUpdate:modelValue": e[83] || (e[83] = M=>n.thinkingSettings.chessdb.always_use_egtb = M),
                            onChange: e[84] || (e[84] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.disablePly"),
                        label: t.$t("settings.disablePlyDesc")
                    }, {
                        default: V(()=>[L(A, {
                            modelValue: n.thinkingSettings.chessdb.disable_ply,
                            "onUpdate:modelValue": e[85] || (e[85] = M=>n.thinkingSettings.chessdb.disable_ply = M),
                            onChange: e[86] || (e[86] = M=>a.onSettingsChange(!1)),
                            min: "1",
                            max: 400,
                            step: "1",
                            integer: ""
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"])]),
                    _: 1
                }, 8, ["title"]), L(T, {
                    inset: "",
                    title: t.$t("settings.displaySettings")
                }, {
                    default: V(()=>[L(C, {
                        title: t.$t("settings.showArrows"),
                        label: t.$t("settings.showArrowsDesc")
                    }, {
                        default: V(()=>[L(N, {
                            modelValue: n.thinkingSettings.enable_hint,
                            "onUpdate:modelValue": e[87] || (e[87] = M=>n.thinkingSettings.enable_hint = M),
                            onChange: e[88] || (e[88] = M=>a.onSettingsChange(!1)),
                            size: "24px"
                        }, null, 8, ["modelValue"])]),
                        _: 1
                    }, 8, ["title", "label"])]),
                    _: 1
                }, 8, ["title"]), L(T, {
                    inset: "",
                    title: t.$t("settings.browserEnvironment")
                }, {
                    default: V(()=>[L(C, {
                        title: t.$t("settings.browserSimd") + (n.engine.WasmType.includes("simd") ? t.$t("settings.browserSupportSimd") : t.$t("settings.browserDontSupportSimd")),
                        label: n.engine.WasmType.includes("simd") ? "" : t.$t("settings.noSimdImpact")
                    }, null, 8, ["title", "label"]), L(C, {
                        title: t.$t("settings.browserMultithreading") + (n.engine.WasmType.includes("multi") ? t.$t("settings.browserSupportMultithreading") : t.$t("settings.browserDontSupportMultithreading")),
                        label: n.engine.WasmType.includes("multi") ? "" : t.$t("settings.noMultithreadingImpact")
                    }, null, 8, ["title", "label"])]),
                    _: 1
                }, 8, ["title"]), L(T, {
                    inset: "",
                    title: t.$t("settings.contactUs")
                }, {
                    default: V(()=>[L(C, {
                        title: t.$t("settings.welcomeToJoin")
                    }, null, 8, ["title"])]),
                    _: 1
                }, 8, ["title"])])]),
                _: 1
            }, 8, ["title"]), L(W, {
                title: t.$t("gui.about")
            }, {
                default: V(()=>[R("div", tL, [rL, R("div", iL, [R("div", nL, [R("div", aL, F(t.$t("about.introduction")), 1), R("div", oL, F(t.$t("about.thanksForSupport")), 1), R("div", sL, F(t.$t("about.thanksPikacat")), 1), R("div", lL, F(t.$t("about.thanksDblue")), 1), R("div", uL, F(t.$t("about.thanksPikafishTeams")), 1), R("div", hL, F(t.$t("about.thanksTesting")), 1), R("div", null, F(t.$t("about.qqGroupInfo")), 1)])])])]),
                _: 1
            }, 8, ["title"])]),
            _: 1
        })])) : Re("", !0)]),
        _: 1
    })], 2), !n.showSettings && !n.uiSettings.pureMode && !n.showEdit ? (H(),
    U("div", fL, dL)) : Re("", !0), n.debug ? (H(),
    U("div", pL, [Le(R("textarea", {
        "onUpdate:modelValue": e[89] || (e[89] = M=>n.uciOutput = M),
        name: "uci_out",
        id: "uci_out",
        cols: "30",
        rows: "10"
    }, null, 512), [[hf, n.uciOutput]]), Le(R("textarea", {
        "onUpdate:modelValue": e[90] || (e[90] = M=>n.uciInput = M),
        name: "uci_input",
        id: "uci_input",
        cols: "30",
        rows: "10"
    }, null, 512), [[hf, n.uciInput]]), R("button", {
        onClick: e[91] || (e[91] = M=>a.sendCommand()),
        style: {
            width: "100px",
            height: "50px"
        }
    })])) : Re("", !0), L(q, {
        show: n.downloadProgress < 1 || !n.isEngineReady || !n.resourceReady
    }, {
        default: V(()=>[L(j, {
            style: {
                "margin-top": "30vh"
            },
            size: "50px",
            vertical: ""
        }, {
            default: V(()=>[n.downloadProgress < 1 ? (H(),
            U("span", gL, [Pe(F(t.$t("gui.engineIsLoading")) + " " + F((n.downloadProgress * 100).toFixed(1)) + "% ", 1), mL, Pe(" " + F(t.$t("gui.pleaseWait")), 1)])) : (H(),
            U("span", yL, [Pe(F(t.$t("gui.waitingForResource")) + " ", 1), _L, Pe(" " + F(t.$t("gui.pleaseWait")) + " ", 1), wL, R("span", null, F(t.$t("gui.engineStatus")) + ": " + F(n.isEngineReady ? t.$t("gui.ready") : t.$t("gui.notReady")), 1), SL, R("span", null, F(t.$t("gui.resourceStatus")) + ": " + F(n.resourceReady ? t.$t("gui.ready") : t.$t("gui.notReady")), 1), bL])), n.slowLoading ? (H(),
            U("span", CL, [xL, R("span", null, F(t.$t("gui.progressStuck")), 1), R("span", TL, [R("a", {
                onClick: e[92] || (e[92] = (...M)=>a.forceRefresh && a.forceRefresh(...M))
            }, F(t.$t("gui.clickForReload")), 1)]), ML])) : Re("", !0), DL, Pe(" " + F(t.$t("gui.qqGroupInfo")), 1)]),
            _: 1
        })]),
        _: 1
    }, 8, ["show"]), L(q, {
        show: n.showGifGenerate
    }, {
        default: V(()=>[Le(L(j, {
            style: {
                "margin-top": "30vh"
            },
            size: "50px",
            vertical: ""
        }, {
            default: V(()=>[R("span", null, F(t.$t("gui.waitingForGifGenerate")), 1)]),
            _: 1
        }, 512), [[Be, n.gifUrl === ""]]), Le(R("div", null, [R("img", {
            class: "gif-img",
            src: n.gifUrl,
            alt: "GIF\u56FE"
        }, null, 8, AL), L(w, {
            style: {
                display: "block",
                width: "30%",
                margin: "auto"
            },
            onClick: e[93] || (e[93] = M=>n.showGifGenerate = !1)
        }, {
            default: V(()=>[IL]),
            _: 1
        })], 512), [[Be, n.gifUrl !== ""]])]),
        _: 1
    }, 8, ["show"])])
}
var BL = qu(RI, [["render", kL]]);
export {BL as default};
